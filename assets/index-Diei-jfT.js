(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function oS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Tm={exports:{}},uu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function lS(){if(W_)return uu;W_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:u}}return uu.Fragment=e,uu.jsx=t,uu.jsxs=t,uu}var J_;function uS(){return J_||(J_=1,Tm.exports=lS()),Tm.exports}var v=uS(),bm={exports:{}},Me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function cS(){if(Z_)return Me;Z_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function x(N){return N===null||typeof N!="object"?null:(N=S&&N[S]||N["@@iterator"],typeof N=="function"?N:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,K={};function k(N,ae,ce){this.props=N,this.context=ae,this.refs=K,this.updater=ce||M}k.prototype.isReactComponent={},k.prototype.setState=function(N,ae){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,ae,"setState")},k.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function H(){}H.prototype=k.prototype;function re(N,ae,ce){this.props=N,this.context=ae,this.refs=K,this.updater=ce||M}var se=re.prototype=new H;se.constructor=re,D(se,k.prototype),se.isPureReactComponent=!0;var ye=Array.isArray,he={H:null,A:null,T:null,S:null,V:null},Ae=Object.prototype.hasOwnProperty;function V(N,ae,ce,oe,Ee,De){return ce=De.ref,{$$typeof:r,type:N,key:ae,ref:ce!==void 0?ce:null,props:De}}function R(N,ae){return V(N.type,ae,void 0,void 0,void 0,N.props)}function I(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function P(N){var ae={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ce){return ae[ce]})}var L=/\/+/g;function U(N,ae){return typeof N=="object"&&N!==null&&N.key!=null?P(""+N.key):ae.toString(36)}function C(){}function ve(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(C,C):(N.status="pending",N.then(function(ae){N.status==="pending"&&(N.status="fulfilled",N.value=ae)},function(ae){N.status==="pending"&&(N.status="rejected",N.reason=ae)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function Oe(N,ae,ce,oe,Ee){var De=typeof N;(De==="undefined"||De==="boolean")&&(N=null);var Re=!1;if(N===null)Re=!0;else switch(De){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(N.$$typeof){case r:case e:Re=!0;break;case E:return Re=N._init,Oe(Re(N._payload),ae,ce,oe,Ee)}}if(Re)return Ee=Ee(N),Re=oe===""?"."+U(N,0):oe,ye(Ee)?(ce="",Re!=null&&(ce=Re.replace(L,"$&/")+"/"),Oe(Ee,ae,ce,"",function(Kn){return Kn})):Ee!=null&&(I(Ee)&&(Ee=R(Ee,ce+(Ee.key==null||N&&N.key===Ee.key?"":(""+Ee.key).replace(L,"$&/")+"/")+Re)),ae.push(Ee)),1;Re=0;var St=oe===""?".":oe+":";if(ye(N))for(var tt=0;tt<N.length;tt++)oe=N[tt],De=St+U(oe,tt),Re+=Oe(oe,ae,ce,De,Ee);else if(tt=x(N),typeof tt=="function")for(N=tt.call(N),tt=0;!(oe=N.next()).done;)oe=oe.value,De=St+U(oe,tt++),Re+=Oe(oe,ae,ce,De,Ee);else if(De==="object"){if(typeof N.then=="function")return Oe(ve(N),ae,ce,oe,Ee);throw ae=String(N),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Re}function J(N,ae,ce){if(N==null)return N;var oe=[],Ee=0;return Oe(N,oe,"","",function(De){return ae.call(ce,De,Ee++)}),oe}function le(N){if(N._status===-1){var ae=N._result;ae=ae(),ae.then(function(ce){(N._status===0||N._status===-1)&&(N._status=1,N._result=ce)},function(ce){(N._status===0||N._status===-1)&&(N._status=2,N._result=ce)}),N._status===-1&&(N._status=0,N._result=ae)}if(N._status===1)return N._result.default;throw N._result}var ge=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function ze(){}return Me.Children={map:J,forEach:function(N,ae,ce){J(N,function(){ae.apply(this,arguments)},ce)},count:function(N){var ae=0;return J(N,function(){ae++}),ae},toArray:function(N){return J(N,function(ae){return ae})||[]},only:function(N){if(!I(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Me.Component=k,Me.Fragment=t,Me.Profiler=o,Me.PureComponent=re,Me.StrictMode=s,Me.Suspense=p,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=he,Me.__COMPILER_RUNTIME={__proto__:null,c:function(N){return he.H.useMemoCache(N)}},Me.cache=function(N){return function(){return N.apply(null,arguments)}},Me.cloneElement=function(N,ae,ce){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var oe=D({},N.props),Ee=N.key,De=void 0;if(ae!=null)for(Re in ae.ref!==void 0&&(De=void 0),ae.key!==void 0&&(Ee=""+ae.key),ae)!Ae.call(ae,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&ae.ref===void 0||(oe[Re]=ae[Re]);var Re=arguments.length-2;if(Re===1)oe.children=ce;else if(1<Re){for(var St=Array(Re),tt=0;tt<Re;tt++)St[tt]=arguments[tt+2];oe.children=St}return V(N.type,Ee,void 0,void 0,De,oe)},Me.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Me.createElement=function(N,ae,ce){var oe,Ee={},De=null;if(ae!=null)for(oe in ae.key!==void 0&&(De=""+ae.key),ae)Ae.call(ae,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(Ee[oe]=ae[oe]);var Re=arguments.length-2;if(Re===1)Ee.children=ce;else if(1<Re){for(var St=Array(Re),tt=0;tt<Re;tt++)St[tt]=arguments[tt+2];Ee.children=St}if(N&&N.defaultProps)for(oe in Re=N.defaultProps,Re)Ee[oe]===void 0&&(Ee[oe]=Re[oe]);return V(N,De,void 0,void 0,null,Ee)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(N){return{$$typeof:m,render:N}},Me.isValidElement=I,Me.lazy=function(N){return{$$typeof:E,_payload:{_status:-1,_result:N},_init:le}},Me.memo=function(N,ae){return{$$typeof:g,type:N,compare:ae===void 0?null:ae}},Me.startTransition=function(N){var ae=he.T,ce={};he.T=ce;try{var oe=N(),Ee=he.S;Ee!==null&&Ee(ce,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(ze,ge)}catch(De){ge(De)}finally{he.T=ae}},Me.unstable_useCacheRefresh=function(){return he.H.useCacheRefresh()},Me.use=function(N){return he.H.use(N)},Me.useActionState=function(N,ae,ce){return he.H.useActionState(N,ae,ce)},Me.useCallback=function(N,ae){return he.H.useCallback(N,ae)},Me.useContext=function(N){return he.H.useContext(N)},Me.useDebugValue=function(){},Me.useDeferredValue=function(N,ae){return he.H.useDeferredValue(N,ae)},Me.useEffect=function(N,ae,ce){var oe=he.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(N,ae)},Me.useId=function(){return he.H.useId()},Me.useImperativeHandle=function(N,ae,ce){return he.H.useImperativeHandle(N,ae,ce)},Me.useInsertionEffect=function(N,ae){return he.H.useInsertionEffect(N,ae)},Me.useLayoutEffect=function(N,ae){return he.H.useLayoutEffect(N,ae)},Me.useMemo=function(N,ae){return he.H.useMemo(N,ae)},Me.useOptimistic=function(N,ae){return he.H.useOptimistic(N,ae)},Me.useReducer=function(N,ae,ce){return he.H.useReducer(N,ae,ce)},Me.useRef=function(N){return he.H.useRef(N)},Me.useState=function(N){return he.H.useState(N)},Me.useSyncExternalStore=function(N,ae,ce){return he.H.useSyncExternalStore(N,ae,ce)},Me.useTransition=function(){return he.H.useTransition()},Me.version="19.1.0",Me}var e0;function Ep(){return e0||(e0=1,bm.exports=cS()),bm.exports}var $=Ep();const Lo=oS($);var wm={exports:{}},cu={},Am={exports:{}},Sm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t0;function hS(){return t0||(t0=1,function(r){function e(J,le){var ge=J.length;J.push(le);e:for(;0<ge;){var ze=ge-1>>>1,N=J[ze];if(0<o(N,le))J[ze]=le,J[ge]=N,ge=ze;else break e}}function t(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var le=J[0],ge=J.pop();if(ge!==le){J[0]=ge;e:for(var ze=0,N=J.length,ae=N>>>1;ze<ae;){var ce=2*(ze+1)-1,oe=J[ce],Ee=ce+1,De=J[Ee];if(0>o(oe,ge))Ee<N&&0>o(De,oe)?(J[ze]=De,J[Ee]=ge,ze=Ee):(J[ze]=oe,J[ce]=ge,ze=ce);else if(Ee<N&&0>o(De,ge))J[ze]=De,J[Ee]=ge,ze=Ee;else break e}}return le}function o(J,le){var ge=J.sortIndex-le.sortIndex;return ge!==0?ge:J.id-le.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,m=d.now();r.unstable_now=function(){return d.now()-m}}var p=[],g=[],E=1,S=null,x=3,M=!1,D=!1,K=!1,k=!1,H=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function ye(J){for(var le=t(g);le!==null;){if(le.callback===null)s(g);else if(le.startTime<=J)s(g),le.sortIndex=le.expirationTime,e(p,le);else break;le=t(g)}}function he(J){if(K=!1,ye(J),!D)if(t(p)!==null)D=!0,Ae||(Ae=!0,U());else{var le=t(g);le!==null&&Oe(he,le.startTime-J)}}var Ae=!1,V=-1,R=5,I=-1;function P(){return k?!0:!(r.unstable_now()-I<R)}function L(){if(k=!1,Ae){var J=r.unstable_now();I=J;var le=!0;try{e:{D=!1,K&&(K=!1,re(V),V=-1),M=!0;var ge=x;try{t:{for(ye(J),S=t(p);S!==null&&!(S.expirationTime>J&&P());){var ze=S.callback;if(typeof ze=="function"){S.callback=null,x=S.priorityLevel;var N=ze(S.expirationTime<=J);if(J=r.unstable_now(),typeof N=="function"){S.callback=N,ye(J),le=!0;break t}S===t(p)&&s(p),ye(J)}else s(p);S=t(p)}if(S!==null)le=!0;else{var ae=t(g);ae!==null&&Oe(he,ae.startTime-J),le=!1}}break e}finally{S=null,x=ge,M=!1}le=void 0}}finally{le?U():Ae=!1}}}var U;if(typeof se=="function")U=function(){se(L)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ve=C.port2;C.port1.onmessage=L,U=function(){ve.postMessage(null)}}else U=function(){H(L,0)};function Oe(J,le){V=H(function(){J(r.unstable_now())},le)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(J){J.callback=null},r.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<J?Math.floor(1e3/J):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(J){switch(x){case 1:case 2:case 3:var le=3;break;default:le=x}var ge=x;x=le;try{return J()}finally{x=ge}},r.unstable_requestPaint=function(){k=!0},r.unstable_runWithPriority=function(J,le){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ge=x;x=J;try{return le()}finally{x=ge}},r.unstable_scheduleCallback=function(J,le,ge){var ze=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?ze+ge:ze):ge=ze,J){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=ge+N,J={id:E++,callback:le,priorityLevel:J,startTime:ge,expirationTime:N,sortIndex:-1},ge>ze?(J.sortIndex=ge,e(g,J),t(p)===null&&J===t(g)&&(K?(re(V),V=-1):K=!0,Oe(he,ge-ze))):(J.sortIndex=N,e(p,J),D||M||(D=!0,Ae||(Ae=!0,U()))),J},r.unstable_shouldYield=P,r.unstable_wrapCallback=function(J){var le=x;return function(){var ge=x;x=le;try{return J.apply(this,arguments)}finally{x=ge}}}}(Sm)),Sm}var n0;function dS(){return n0||(n0=1,Am.exports=hS()),Am.exports}var xm={exports:{}},cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r0;function fS(){if(r0)return cn;r0=1;var r=Ep();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:g,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,cn.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},cn.flushSync=function(p){var g=d.T,E=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=g,s.p=E,s.d.f()}},cn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},cn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},cn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,M=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:x,fetchPriority:M}):E==="script"&&s.d.X(p,{crossOrigin:S,integrity:x,fetchPriority:M,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},cn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},cn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},cn.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},cn.requestFormReset=function(p){s.d.r(p)},cn.unstable_batchedUpdates=function(p,g){return p(g)},cn.useFormState=function(p,g,E){return d.H.useFormState(p,g,E)},cn.useFormStatus=function(){return d.H.useHostTransitionStatus()},cn.version="19.1.0",cn}var i0;function mS(){if(i0)return xm.exports;i0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),xm.exports=fS(),xm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0;function pS(){if(s0)return cu;s0=1;var r=dS(),e=Ep(),t=mS();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function d(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(s(188))}function p(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,l=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return m(h),n;if(f===l)return m(h),i;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=f;else{for(var T=!1,b=h.child;b;){if(b===a){T=!0,a=h,l=f;break}if(b===l){T=!0,l=h,a=f;break}b=b.sibling}if(!T){for(b=f.child;b;){if(b===a){T=!0,a=f,l=h;break}if(b===l){T=!0,l=f,a=h;break}b=b.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),re=Symbol.for("react.consumer"),se=Symbol.for("react.context"),ye=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),Ae=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function U(n){return n===null||typeof n!="object"?null:(n=L&&n[L]||n["@@iterator"],typeof n=="function"?n:null)}var C=Symbol.for("react.client.reference");function ve(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===C?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case D:return"Fragment";case k:return"Profiler";case K:return"StrictMode";case he:return"Suspense";case Ae:return"SuspenseList";case I:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case M:return"Portal";case se:return(n.displayName||"Context")+".Provider";case re:return(n._context.displayName||"Context")+".Consumer";case ye:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case V:return i=n.displayName||null,i!==null?i:ve(n.type)||"Memo";case R:i=n._payload,n=n._init;try{return ve(n(i))}catch{}}return null}var Oe=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},ze=[],N=-1;function ae(n){return{current:n}}function ce(n){0>N||(n.current=ze[N],ze[N]=null,N--)}function oe(n,i){N++,ze[N]=n.current,n.current=i}var Ee=ae(null),De=ae(null),Re=ae(null),St=ae(null);function tt(n,i){switch(oe(Re,i),oe(De,n),oe(Ee,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?S_(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=S_(i),n=x_(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ce(Ee),oe(Ee,n)}function Kn(){ce(Ee),ce(De),ce(Re)}function zr(n){n.memoizedState!==null&&oe(St,n);var i=Ee.current,a=x_(i,n.type);i!==a&&(oe(De,n),oe(Ee,a))}function Yn(n){De.current===n&&(ce(Ee),ce(De)),St.current===n&&(ce(St),iu._currentValue=ge)}var di=Object.prototype.hasOwnProperty,fi=r.unstable_scheduleCallback,Br=r.unstable_cancelCallback,Ji=r.unstable_shouldYield,Zi=r.unstable_requestPaint,pn=r.unstable_now,fl=r.unstable_getCurrentPriorityLevel,ea=r.unstable_ImmediatePriority,vr=r.unstable_UserBlockingPriority,_r=r.unstable_NormalPriority,Qa=r.unstable_LowPriority,mi=r.unstable_IdlePriority,wn=r.log,pi=r.unstable_setDisableYieldValue,ut=null,Qe=null;function an(n){if(typeof wn=="function"&&pi(n),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(ut,n)}catch{}}var Ot=Math.clz32?Math.clz32:gi,Ka=Math.log,ml=Math.LN2;function gi(n){return n>>>=0,n===0?32:31-(Ka(n)/ml|0)|0}var yi=256,qr=4194304;function Dn(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function es(n,i,a){var l=n.pendingLanes;if(l===0)return 0;var h=0,f=n.suspendedLanes,T=n.pingedLanes;n=n.warmLanes;var b=l&134217727;return b!==0?(l=b&~f,l!==0?h=Dn(l):(T&=b,T!==0?h=Dn(T):a||(a=b&~n,a!==0&&(h=Dn(a))))):(b=l&~f,b!==0?h=Dn(b):T!==0?h=Dn(T):a||(a=l&~n,a!==0&&(h=Dn(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function Er(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Tr(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vi(){var n=yi;return yi<<=1,(yi&4194048)===0&&(yi=256),n}function _i(){var n=qr;return qr<<=1,(qr&62914560)===0&&(qr=4194304),n}function Mn(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function gn(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function ta(n,i,a,l,h,f){var T=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var b=n.entanglements,O=n.expirationTimes,G=n.hiddenUpdates;for(a=T&~a;0<a;){var Z=31-Ot(a),te=1<<Z;b[Z]=0,O[Z]=-1;var Q=G[Z];if(Q!==null)for(G[Z]=null,Z=0;Z<Q.length;Z++){var Y=Q[Z];Y!==null&&(Y.lane&=-536870913)}a&=~te}l!==0&&Xn(n,l,0),f!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=f&~(T&~i))}function Xn(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-Ot(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function na(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var l=31-Ot(a),h=1<<l;h&i|n[l]&i&&(n[l]|=i),a&=~h}}function Fr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ts(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function br(){var n=le.p;return n!==0?n:(n=window.event,n===void 0?32:G_(n.type))}function ra(n,i){var a=le.p;try{return le.p=n,i()}finally{le.p=a}}var Ke=Math.random().toString(36).slice(2),Et="__reactFiber$"+Ke,gt="__reactProps$"+Ke,An="__reactContainer$"+Ke,ia="__reactEvents$"+Ke,pl="__reactListeners$"+Ke,Bt="__reactHandles$"+Ke,Ya="__reactResources$"+Ke,Ei="__reactMarker$"+Ke;function Hr(n){delete n[Et],delete n[gt],delete n[ia],delete n[pl],delete n[Bt]}function wr(n){var i=n[Et];if(i)return i;for(var a=n.parentNode;a;){if(i=a[An]||a[Et]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=N_(n);n!==null;){if(a=n[Et])return a;n=N_(n)}return i}n=a,a=n.parentNode}return null}function Wn(n){if(n=n[Et]||n[An]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function Kt(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function Yt(n){var i=n[Ya];return i||(i=n[Ya]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function dt(n){n[Ei]=!0}var sa=new Set,ns={};function Pn(n,i){on(n,i),on(n+"Capture",i)}function on(n,i){for(ns[n]=i,n=0;n<i.length;n++)sa.add(i[n])}var Xa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wa={},Ti={};function Ja(n){return di.call(Ti,n)?!0:di.call(Wa,n)?!1:Xa.test(n)?Ti[n]=!0:(Wa[n]=!0,!1)}function Gr(n,i,a){if(Ja(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function Jn(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function xt(n,i,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+l)}}var Zn,Za;function Vn(n){if(Zn===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Zn=i&&i[1]||"",Za=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zn+n+Za}var rs=!1;function is(n,i){if(!n||rs)return"";rs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Y){var Q=Y}Reflect.construct(n,[],te)}else{try{te.call()}catch(Y){Q=Y}n.call(te.prototype)}}else{try{throw Error()}catch(Y){Q=Y}(te=n())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Y){if(Y&&Q&&typeof Y.stack=="string")return[Y.stack,Q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),T=f[0],b=f[1];if(T&&b){var O=T.split(`
`),G=b.split(`
`);for(h=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;if(l===O.length||h===G.length)for(l=O.length-1,h=G.length-1;1<=l&&0<=h&&O[l]!==G[h];)h--;for(;1<=l&&0<=h;l--,h--)if(O[l]!==G[h]){if(l!==1||h!==1)do if(l--,h--,0>h||O[l]!==G[h]){var Z=`
`+O[l].replace(" at new "," at ");return n.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",n.displayName)),Z}while(1<=l&&0<=h);break}}}finally{rs=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Vn(a):""}function aa(n){switch(n.tag){case 26:case 27:case 5:return Vn(n.type);case 16:return Vn("Lazy");case 13:return Vn("Suspense");case 19:return Vn("SuspenseList");case 0:case 15:return is(n.type,!1);case 11:return is(n.type.render,!1);case 1:return is(n.type,!0);case 31:return Vn("Activity");default:return""}}function ss(n){try{var i="";do i+=aa(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Xt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function oa(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function la(n){var i=oa(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),l=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return h.call(this)},set:function(T){l=""+T,f.call(this,T)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function as(n){n._valueTracker||(n._valueTracker=la(n))}function ua(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return n&&(l=oa(n)?n.checked?"true":"false":n.value),n=l,n!==a?(i.setValue(n),!0):!1}function bi(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var gl=/[\n"\\]/g;function yt(n){return n.replace(gl,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function yn(n,i,a,l,h,f,T,b){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),i!=null?T==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Xt(i)):n.value!==""+Xt(i)&&(n.value=""+Xt(i)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),i!=null?Ar(n,T,Xt(i)):a!=null?Ar(n,T,Xt(a)):l!=null&&n.removeAttribute("value"),h==null&&f!=null&&(n.defaultChecked=!!f),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+Xt(b):n.removeAttribute("name")}function wi(n,i,a,l,h,f,T,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(n.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null))return;a=a!=null?""+Xt(a):"",i=i!=null?""+Xt(i):a,b||i===n.value||(n.value=i),n.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=b?n.checked:!!l,n.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T)}function Ar(n,i,a){i==="number"&&bi(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Sr(n,i,a,l){if(n=n.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<n.length;a++)h=i.hasOwnProperty("$"+n[a].value),n[a].selected!==h&&(n[a].selected=h),h&&l&&(n[a].defaultSelected=!0)}else{for(a=""+Xt(a),i=null,h=0;h<n.length;h++){if(n[h].value===a){n[h].selected=!0,l&&(n[h].defaultSelected=!0);return}i!==null||n[h].disabled||(i=n[h])}i!==null&&(i.selected=!0)}}function We(n,i,a){if(i!=null&&(i=""+Xt(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+Xt(a):""}function er(n,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Oe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Xt(i),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Dt(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var $r=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tr(n,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,a):typeof a!="number"||a===0||$r.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function ca(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&tr(n,h,l)}else for(var f in i)i.hasOwnProperty(f)&&tr(n,f,i[f])}function ha(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function os(n){return vl.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var xr=null;function vn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Wt=null,Rr=null;function ls(n){var i=Wn(n);if(i&&(n=i.stateNode)){var a=n[gt]||null;e:switch(n=i.stateNode,i.type){case"input":if(yn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+yt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==n&&l.form===n.form){var h=l[gt]||null;if(!h)throw Error(s(90));yn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===n.form&&ua(l)}break e;case"textarea":We(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Sr(n,!!a.multiple,i,!1)}}}var nr=!1;function us(n,i,a){if(nr)return n(i,a);nr=!0;try{var l=n(i);return l}finally{if(nr=!1,(Wt!==null||Rr!==null)&&(qc(),Wt&&(i=Wt,n=Rr,Rr=Wt=null,ls(i),n)))for(i=0;i<n.length;i++)ls(n[i])}}function Qr(n,i){var a=n.stateNode;if(a===null)return null;var l=a[gt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sn=!1;if(jn)try{var Kr={};Object.defineProperty(Kr,"passive",{get:function(){Sn=!0}}),window.addEventListener("test",Kr,Kr),window.removeEventListener("test",Kr,Kr)}catch{Sn=!1}var rr=null,kn=null,Cr=null;function Ai(){if(Cr)return Cr;var n,i=kn,a=i.length,l,h="value"in rr?rr.value:rr.textContent,f=h.length;for(n=0;n<a&&i[n]===h[n];n++);var T=a-n;for(l=1;l<=T&&i[a-l]===h[f-l];l++);return Cr=h.slice(n,1<l?1-l:void 0)}function ir(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function sr(){return!0}function A(){return!1}function B(n){function i(a,l,h,f,T){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=T,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(a=n[b],this[b]=a?a(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?sr:A,this.isPropagationStopped=A,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=sr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=sr)},persist:function(){},isPersistent:sr}),i}var X={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},me=B(X),ot=E({},X,{view:0,detail:0}),Mt=B(ot),ln,Tt,Ln,xn=E({},ot,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ma,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ln&&(Ln&&n.type==="mousemove"?(ln=n.screenX-Ln.screenX,Tt=n.screenY-Ln.screenY):Tt=ln=0,Ln=n),ln)},movementY:function(n){return"movementY"in n?n.movementY:Tt}}),_n=B(xn),da=E({},xn,{dataTransfer:0}),eo=B(da),Ir=E({},ot,{relatedTarget:0}),Nr=B(Ir),_l=E({},X,{animationName:0,elapsedTime:0,pseudoElement:0}),to=B(_l),Ju=E({},X,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),no=B(Ju),Id=E({},X,{data:0}),El=B(Id),fa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ec={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tl(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=ec[n])?!!i[n]:!1}function ma(){return Tl}var tc=E({},ot,{key:function(n){if(n.key){var i=fa[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=ir(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Zu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ma,charCode:function(n){return n.type==="keypress"?ir(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ir(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ro=B(tc),nc=E({},xn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bl=B(nc),Si=E({},ot,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ma}),rc=B(Si),ic=E({},X,{propertyName:0,elapsedTime:0,pseudoElement:0}),sc=B(ic),ac=E({},xn,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),io=B(ac),En=E({},X,{newState:0,oldState:0}),oc=B(En),lc=[9,13,27,32],Yr=jn&&"CompositionEvent"in window,c=null;jn&&"documentMode"in document&&(c=document.documentMode);var y=jn&&"TextEvent"in window&&!c,_=jn&&(!Yr||c&&8<c&&11>=c),w=" ",q=!1;function W(n,i){switch(n){case"keyup":return lc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ue(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Fe=!1;function Pt(n,i){switch(n){case"compositionend":return ue(i);case"keypress":return i.which!==32?null:(q=!0,w);case"textInput":return n=i.data,n===w&&q?null:n;default:return null}}function He(n,i){if(Fe)return n==="compositionend"||!Yr&&W(n,i)?(n=Ai(),Cr=kn=rr=null,Fe=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var qt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vt(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!qt[n.type]:i==="textarea"}function xi(n,i,a,l){Wt?Rr?Rr.push(l):Rr=[l]:Wt=l,i=Kc(i,"onChange"),0<i.length&&(a=new me("onChange","change",null,a,l),n.push({event:a,listeners:i}))}var Jt=null,Xr=null;function wl(n){E_(n,0)}function uc(n){var i=Kt(n);if(ua(i))return n}function Bg(n,i){if(n==="change")return i}var qg=!1;if(jn){var Nd;if(jn){var Od="oninput"in document;if(!Od){var Fg=document.createElement("div");Fg.setAttribute("oninput","return;"),Od=typeof Fg.oninput=="function"}Nd=Od}else Nd=!1;qg=Nd&&(!document.documentMode||9<document.documentMode)}function Hg(){Jt&&(Jt.detachEvent("onpropertychange",Gg),Xr=Jt=null)}function Gg(n){if(n.propertyName==="value"&&uc(Xr)){var i=[];xi(i,Xr,n,vn(n)),us(wl,i)}}function k1(n,i,a){n==="focusin"?(Hg(),Jt=i,Xr=a,Jt.attachEvent("onpropertychange",Gg)):n==="focusout"&&Hg()}function L1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return uc(Xr)}function U1(n,i){if(n==="click")return uc(i)}function z1(n,i){if(n==="input"||n==="change")return uc(i)}function B1(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Un=typeof Object.is=="function"?Object.is:B1;function Al(n,i){if(Un(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!di.call(i,h)||!Un(n[h],i[h]))return!1}return!0}function $g(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Qg(n,i){var a=$g(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=i&&l>=i)return{node:a,offset:i-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=$g(a)}}function Kg(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Kg(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Yg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=bi(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=bi(n.document)}return i}function Dd(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var q1=jn&&"documentMode"in document&&11>=document.documentMode,so=null,Md=null,Sl=null,Pd=!1;function Xg(n,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Pd||so==null||so!==bi(l)||(l=so,"selectionStart"in l&&Dd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Sl&&Al(Sl,l)||(Sl=l,l=Kc(Md,"onSelect"),0<l.length&&(i=new me("onSelect","select",null,i,a),n.push({event:i,listeners:l}),i.target=so)))}function pa(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var ao={animationend:pa("Animation","AnimationEnd"),animationiteration:pa("Animation","AnimationIteration"),animationstart:pa("Animation","AnimationStart"),transitionrun:pa("Transition","TransitionRun"),transitionstart:pa("Transition","TransitionStart"),transitioncancel:pa("Transition","TransitionCancel"),transitionend:pa("Transition","TransitionEnd")},Vd={},Wg={};jn&&(Wg=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function ga(n){if(Vd[n])return Vd[n];if(!ao[n])return n;var i=ao[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in Wg)return Vd[n]=i[a];return n}var Jg=ga("animationend"),Zg=ga("animationiteration"),ey=ga("animationstart"),F1=ga("transitionrun"),H1=ga("transitionstart"),G1=ga("transitioncancel"),ty=ga("transitionend"),ny=new Map,jd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jd.push("scrollEnd");function Or(n,i){ny.set(n,i),Pn(i,[n])}var ry=new WeakMap;function ar(n,i){if(typeof n=="object"&&n!==null){var a=ry.get(n);return a!==void 0?a:(i={value:n,source:i,stack:ss(i)},ry.set(n,i),i)}return{value:n,source:i,stack:ss(i)}}var or=[],oo=0,kd=0;function cc(){for(var n=oo,i=kd=oo=0;i<n;){var a=or[i];or[i++]=null;var l=or[i];or[i++]=null;var h=or[i];or[i++]=null;var f=or[i];if(or[i++]=null,l!==null&&h!==null){var T=l.pending;T===null?h.next=h:(h.next=T.next,T.next=h),l.pending=h}f!==0&&iy(a,h,f)}}function hc(n,i,a,l){or[oo++]=n,or[oo++]=i,or[oo++]=a,or[oo++]=l,kd|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Ld(n,i,a,l){return hc(n,i,a,l),dc(n)}function lo(n,i){return hc(n,null,null,i),dc(n)}function iy(n,i,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=n.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(n=f.stateNode,n===null||n._visibility&1||(h=!0)),n=f,f=f.return;return n.tag===3?(f=n.stateNode,h&&i!==null&&(h=31-Ot(a),n=f.hiddenUpdates,l=n[h],l===null?n[h]=[i]:l.push(i),i.lane=a|536870912),f):null}function dc(n){if(50<Xl)throw Xl=0,Gf=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var uo={};function $1(n,i,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(n,i,a,l){return new $1(n,i,a,l)}function Ud(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ri(n,i){var a=n.alternate;return a===null?(a=zn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function sy(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function fc(n,i,a,l,h,f){var T=0;if(l=n,typeof n=="function")Ud(n)&&(T=1);else if(typeof n=="string")T=KA(n,a,Ee.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case I:return n=zn(31,a,i,h),n.elementType=I,n.lanes=f,n;case D:return ya(a.children,h,f,i);case K:T=8,h|=24;break;case k:return n=zn(12,a,i,h|2),n.elementType=k,n.lanes=f,n;case he:return n=zn(13,a,i,h),n.elementType=he,n.lanes=f,n;case Ae:return n=zn(19,a,i,h),n.elementType=Ae,n.lanes=f,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case H:case se:T=10;break e;case re:T=9;break e;case ye:T=11;break e;case V:T=14;break e;case R:T=16,l=null;break e}T=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return i=zn(T,a,i,h),i.elementType=n,i.type=l,i.lanes=f,i}function ya(n,i,a,l){return n=zn(7,n,l,i),n.lanes=a,n}function zd(n,i,a){return n=zn(6,n,null,i),n.lanes=a,n}function Bd(n,i,a){return i=zn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var co=[],ho=0,mc=null,pc=0,lr=[],ur=0,va=null,Ci=1,Ii="";function _a(n,i){co[ho++]=pc,co[ho++]=mc,mc=n,pc=i}function ay(n,i,a){lr[ur++]=Ci,lr[ur++]=Ii,lr[ur++]=va,va=n;var l=Ci;n=Ii;var h=32-Ot(l)-1;l&=~(1<<h),a+=1;var f=32-Ot(i)+h;if(30<f){var T=h-h%5;f=(l&(1<<T)-1).toString(32),l>>=T,h-=T,Ci=1<<32-Ot(i)+h|a<<h|l,Ii=f+n}else Ci=1<<f|a<<h|l,Ii=n}function qd(n){n.return!==null&&(_a(n,1),ay(n,1,0))}function Fd(n){for(;n===mc;)mc=co[--ho],co[ho]=null,pc=co[--ho],co[ho]=null;for(;n===va;)va=lr[--ur],lr[ur]=null,Ii=lr[--ur],lr[ur]=null,Ci=lr[--ur],lr[ur]=null}var Tn=null,vt=null,Xe=!1,Ea=null,Wr=!1,Hd=Error(s(519));function Ta(n){var i=Error(s(418,""));throw Cl(ar(i,n)),Hd}function oy(n){var i=n.stateNode,a=n.type,l=n.memoizedProps;switch(i[Et]=n,i[gt]=l,a){case"dialog":Ue("cancel",i),Ue("close",i);break;case"iframe":case"object":case"embed":Ue("load",i);break;case"video":case"audio":for(a=0;a<Jl.length;a++)Ue(Jl[a],i);break;case"source":Ue("error",i);break;case"img":case"image":case"link":Ue("error",i),Ue("load",i);break;case"details":Ue("toggle",i);break;case"input":Ue("invalid",i),wi(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),as(i);break;case"select":Ue("invalid",i);break;case"textarea":Ue("invalid",i),er(i,l.value,l.defaultValue,l.children),as(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||A_(i.textContent,a)?(l.popover!=null&&(Ue("beforetoggle",i),Ue("toggle",i)),l.onScroll!=null&&Ue("scroll",i),l.onScrollEnd!=null&&Ue("scrollend",i),l.onClick!=null&&(i.onclick=Yc),i=!0):i=!1,i||Ta(n)}function ly(n){for(Tn=n.return;Tn;)switch(Tn.tag){case 5:case 13:Wr=!1;return;case 27:case 3:Wr=!0;return;default:Tn=Tn.return}}function xl(n){if(n!==Tn)return!1;if(!Xe)return ly(n),Xe=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||om(n.type,n.memoizedProps)),a=!a),a&&vt&&Ta(n),ly(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){vt=Mr(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}vt=null}}else i===27?(i=vt,Ss(n.type)?(n=hm,hm=null,vt=n):vt=i):vt=Tn?Mr(n.stateNode.nextSibling):null;return!0}function Rl(){vt=Tn=null,Xe=!1}function uy(){var n=Ea;return n!==null&&(In===null?In=n:In.push.apply(In,n),Ea=null),n}function Cl(n){Ea===null?Ea=[n]:Ea.push(n)}var Gd=ae(null),ba=null,Ni=null;function cs(n,i,a){oe(Gd,i._currentValue),i._currentValue=a}function Oi(n){n._currentValue=Gd.current,ce(Gd)}function $d(n,i,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===a)break;n=n.return}}function Qd(n,i,a,l){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var f=h.dependencies;if(f!==null){var T=h.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=h;for(var O=0;O<i.length;O++)if(b.context===i[O]){f.lanes|=a,b=f.alternate,b!==null&&(b.lanes|=a),$d(f.return,a,n),l||(T=null);break e}f=b.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(s(341));T.lanes|=a,f=T.alternate,f!==null&&(f.lanes|=a),$d(T,a,n),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===n){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function Il(n,i,a,l){n=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var b=h.type;Un(h.pendingProps.value,T.value)||(n!==null?n.push(b):n=[b])}}else if(h===St.current){if(T=h.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(iu):n=[iu])}h=h.return}n!==null&&Qd(i,n,a,l),i.flags|=262144}function gc(n){for(n=n.firstContext;n!==null;){if(!Un(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function wa(n){ba=n,Ni=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function un(n){return cy(ba,n)}function yc(n,i){return ba===null&&wa(n),cy(n,i)}function cy(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ni===null){if(n===null)throw Error(s(308));Ni=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Ni=Ni.next=i;return a}var Q1=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},K1=r.unstable_scheduleCallback,Y1=r.unstable_NormalPriority,jt={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kd(){return{controller:new Q1,data:new Map,refCount:0}}function Nl(n){n.refCount--,n.refCount===0&&K1(Y1,function(){n.controller.abort()})}var Ol=null,Yd=0,fo=0,mo=null;function X1(n,i){if(Ol===null){var a=Ol=[];Yd=0,fo=Jf(),mo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Yd++,i.then(hy,hy),i}function hy(){if(--Yd===0&&Ol!==null){mo!==null&&(mo.status="fulfilled");var n=Ol;Ol=null,fo=0,mo=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function W1(n,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var dy=J.S;J.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&X1(n,i),dy!==null&&dy(n,i)};var Aa=ae(null);function Xd(){var n=Aa.current;return n!==null?n:at.pooledCache}function vc(n,i){i===null?oe(Aa,Aa.current):oe(Aa,i.pool)}function fy(){var n=Xd();return n===null?null:{parent:jt._currentValue,pool:n}}var Dl=Error(s(460)),my=Error(s(474)),_c=Error(s(542)),Wd={then:function(){}};function py(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Ec(){}function gy(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(Ec,Ec),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,vy(n),n;default:if(typeof i.status=="string")i.then(Ec,Ec);else{if(n=at,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,vy(n),n}throw Ml=i,Dl}}var Ml=null;function yy(){if(Ml===null)throw Error(s(459));var n=Ml;return Ml=null,n}function vy(n){if(n===Dl||n===_c)throw Error(s(483))}var hs=!1;function Jd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zd(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ds(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function fs(n,i,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Ze&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=dc(n),iy(n,null,a),i}return hc(n,l,i,a),dc(n)}function Pl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,na(n,a)}}function ef(n,i){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=T:f=f.next=T,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var tf=!1;function Vl(){if(tf){var n=mo;if(n!==null)throw n}}function jl(n,i,a,l){tf=!1;var h=n.updateQueue;hs=!1;var f=h.firstBaseUpdate,T=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var O=b,G=O.next;O.next=null,T===null?f=G:T.next=G,T=O;var Z=n.alternate;Z!==null&&(Z=Z.updateQueue,b=Z.lastBaseUpdate,b!==T&&(b===null?Z.firstBaseUpdate=G:b.next=G,Z.lastBaseUpdate=O))}if(f!==null){var te=h.baseState;T=0,Z=G=O=null,b=f;do{var Q=b.lane&-536870913,Y=Q!==b.lane;if(Y?(Ge&Q)===Q:(l&Q)===Q){Q!==0&&Q===fo&&(tf=!0),Z!==null&&(Z=Z.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Ce=n,be=b;Q=i;var it=a;switch(be.tag){case 1:if(Ce=be.payload,typeof Ce=="function"){te=Ce.call(it,te,Q);break e}te=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=be.payload,Q=typeof Ce=="function"?Ce.call(it,te,Q):Ce,Q==null)break e;te=E({},te,Q);break e;case 2:hs=!0}}Q=b.callback,Q!==null&&(n.flags|=64,Y&&(n.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[Q]:Y.push(Q))}else Y={lane:Q,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Z===null?(G=Z=Y,O=te):Z=Z.next=Y,T|=Q;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;Y=b,b=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);Z===null&&(O=te),h.baseState=O,h.firstBaseUpdate=G,h.lastBaseUpdate=Z,f===null&&(h.shared.lanes=0),Ts|=T,n.lanes=T,n.memoizedState=te}}function _y(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function Ey(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)_y(a[n],i)}var po=ae(null),Tc=ae(0);function Ty(n,i){n=Li,oe(Tc,n),oe(po,i),Li=n|i.baseLanes}function nf(){oe(Tc,Li),oe(po,po.current)}function rf(){Li=Tc.current,ce(po),ce(Tc)}var ms=0,Ve=null,nt=null,Rt=null,bc=!1,go=!1,Sa=!1,wc=0,kl=0,yo=null,J1=0;function bt(){throw Error(s(321))}function sf(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!Un(n[a],i[a]))return!1;return!0}function af(n,i,a,l,h,f){return ms=f,Ve=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,J.H=n===null||n.memoizedState===null?iv:sv,Sa=!1,f=a(l,h),Sa=!1,go&&(f=wy(i,a,l,h)),by(n),f}function by(n){J.H=Ic;var i=nt!==null&&nt.next!==null;if(ms=0,Rt=nt=Ve=null,bc=!1,kl=0,yo=null,i)throw Error(s(300));n===null||Ft||(n=n.dependencies,n!==null&&gc(n)&&(Ft=!0))}function wy(n,i,a,l){Ve=n;var h=0;do{if(go&&(yo=null),kl=0,go=!1,25<=h)throw Error(s(301));if(h+=1,Rt=nt=null,n.updateQueue!=null){var f=n.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}J.H=sA,f=i(a,l)}while(go);return f}function Z1(){var n=J.H,i=n.useState()[0];return i=typeof i.then=="function"?Ll(i):i,n=n.useState()[0],(nt!==null?nt.memoizedState:null)!==n&&(Ve.flags|=1024),i}function of(){var n=wc!==0;return wc=0,n}function lf(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function uf(n){if(bc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}bc=!1}ms=0,Rt=nt=Ve=null,go=!1,kl=wc=0,yo=null}function Rn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Ve.memoizedState=Rt=n:Rt=Rt.next=n,Rt}function Ct(){if(nt===null){var n=Ve.alternate;n=n!==null?n.memoizedState:null}else n=nt.next;var i=Rt===null?Ve.memoizedState:Rt.next;if(i!==null)Rt=i,nt=n;else{if(n===null)throw Ve.alternate===null?Error(s(467)):Error(s(310));nt=n,n={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Rt===null?Ve.memoizedState=Rt=n:Rt=Rt.next=n}return Rt}function cf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ll(n){var i=kl;return kl+=1,yo===null&&(yo=[]),n=gy(yo,n,i),i=Ve,(Rt===null?i.memoizedState:Rt.next)===null&&(i=i.alternate,J.H=i===null||i.memoizedState===null?iv:sv),n}function Ac(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ll(n);if(n.$$typeof===se)return un(n)}throw Error(s(438,String(n)))}function hf(n){var i=null,a=Ve.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ve.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=cf(),Ve.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),l=0;l<n;l++)a[l]=P;return i.index++,a}function Di(n,i){return typeof i=="function"?i(n):i}function Sc(n){var i=Ct();return df(i,nt,n)}function df(n,i,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=n.baseQueue,f=l.pending;if(f!==null){if(h!==null){var T=h.next;h.next=f.next,f.next=T}i.baseQueue=h=f,l.pending=null}if(f=n.baseState,h===null)n.memoizedState=f;else{i=h.next;var b=T=null,O=null,G=i,Z=!1;do{var te=G.lane&-536870913;if(te!==G.lane?(Ge&te)===te:(ms&te)===te){var Q=G.revertLane;if(Q===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),te===fo&&(Z=!0);else if((ms&Q)===Q){G=G.next,Q===fo&&(Z=!0);continue}else te={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},O===null?(b=O=te,T=f):O=O.next=te,Ve.lanes|=Q,Ts|=Q;te=G.action,Sa&&a(f,te),f=G.hasEagerState?G.eagerState:a(f,te)}else Q={lane:te,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},O===null?(b=O=Q,T=f):O=O.next=Q,Ve.lanes|=te,Ts|=te;G=G.next}while(G!==null&&G!==i);if(O===null?T=f:O.next=b,!Un(f,n.memoizedState)&&(Ft=!0,Z&&(a=mo,a!==null)))throw a;n.memoizedState=f,n.baseState=T,n.baseQueue=O,l.lastRenderedState=f}return h===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function ff(n){var i=Ct(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var T=h=h.next;do f=n(f,T.action),T=T.next;while(T!==h);Un(f,i.memoizedState)||(Ft=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,l]}function Ay(n,i,a){var l=Ve,h=Ct(),f=Xe;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var T=!Un((nt||h).memoizedState,a);T&&(h.memoizedState=a,Ft=!0),h=h.queue;var b=Ry.bind(null,l,h,n);if(Ul(2048,8,b,[n]),h.getSnapshot!==i||T||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,vo(9,xc(),xy.bind(null,l,h,a,i),null),at===null)throw Error(s(349));f||(ms&124)!==0||Sy(l,i,a)}return a}function Sy(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Ve.updateQueue,i===null?(i=cf(),Ve.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function xy(n,i,a,l){i.value=a,i.getSnapshot=l,Cy(i)&&Iy(n)}function Ry(n,i,a){return a(function(){Cy(i)&&Iy(n)})}function Cy(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!Un(n,a)}catch{return!0}}function Iy(n){var i=lo(n,2);i!==null&&Gn(i,n,2)}function mf(n){var i=Rn();if(typeof n=="function"){var a=n;if(n=a(),Sa){an(!0);try{a()}finally{an(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:n},i}function Ny(n,i,a,l){return n.baseState=a,df(n,nt,typeof l=="function"?l:Di)}function eA(n,i,a,l,h){if(Cc(n))throw Error(s(485));if(n=i.action,n!==null){var f={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){f.listeners.push(T)}};J.T!==null?a(!0):f.isTransition=!1,l(f),a=i.pending,a===null?(f.next=i.pending=f,Oy(i,f)):(f.next=a.next,i.pending=a.next=f)}}function Oy(n,i){var a=i.action,l=i.payload,h=n.state;if(i.isTransition){var f=J.T,T={};J.T=T;try{var b=a(h,l),O=J.S;O!==null&&O(T,b),Dy(n,i,b)}catch(G){pf(n,i,G)}finally{J.T=f}}else try{f=a(h,l),Dy(n,i,f)}catch(G){pf(n,i,G)}}function Dy(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){My(n,i,l)},function(l){return pf(n,i,l)}):My(n,i,a)}function My(n,i,a){i.status="fulfilled",i.value=a,Py(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,Oy(n,a)))}function pf(n,i,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Py(i),i=i.next;while(i!==l)}n.action=null}function Py(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Vy(n,i){return i}function jy(n,i){if(Xe){var a=at.formState;if(a!==null){e:{var l=Ve;if(Xe){if(vt){t:{for(var h=vt,f=Wr;h.nodeType!==8;){if(!f){h=null;break t}if(h=Mr(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){vt=Mr(h.nextSibling),l=h.data==="F!";break e}}Ta(l)}l=!1}l&&(i=a[0])}}return a=Rn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vy,lastRenderedState:i},a.queue=l,a=tv.bind(null,Ve,l),l.dispatch=a,l=mf(!1),f=Ef.bind(null,Ve,!1,l.queue),l=Rn(),h={state:i,dispatch:null,action:n,pending:null},l.queue=h,a=eA.bind(null,Ve,h,f,a),h.dispatch=a,l.memoizedState=n,[i,a,!1]}function ky(n){var i=Ct();return Ly(i,nt,n)}function Ly(n,i,a){if(i=df(n,i,Vy)[0],n=Sc(Di)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Ll(i)}catch(T){throw T===Dl?_c:T}else l=i;i=Ct();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(Ve.flags|=2048,vo(9,xc(),tA.bind(null,h,a),null)),[l,f,n]}function tA(n,i){n.action=i}function Uy(n){var i=Ct(),a=nt;if(a!==null)return Ly(i,a,n);Ct(),i=i.memoizedState,a=Ct();var l=a.queue.dispatch;return a.memoizedState=n,[i,l,!1]}function vo(n,i,a,l){return n={tag:n,create:a,deps:l,inst:i,next:null},i=Ve.updateQueue,i===null&&(i=cf(),Ve.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,i.lastEffect=n),n}function xc(){return{destroy:void 0,resource:void 0}}function zy(){return Ct().memoizedState}function Rc(n,i,a,l){var h=Rn();l=l===void 0?null:l,Ve.flags|=n,h.memoizedState=vo(1|i,xc(),a,l)}function Ul(n,i,a,l){var h=Ct();l=l===void 0?null:l;var f=h.memoizedState.inst;nt!==null&&l!==null&&sf(l,nt.memoizedState.deps)?h.memoizedState=vo(i,f,a,l):(Ve.flags|=n,h.memoizedState=vo(1|i,f,a,l))}function By(n,i){Rc(8390656,8,n,i)}function qy(n,i){Ul(2048,8,n,i)}function Fy(n,i){return Ul(4,2,n,i)}function Hy(n,i){return Ul(4,4,n,i)}function Gy(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function $y(n,i,a){a=a!=null?a.concat([n]):null,Ul(4,4,Gy.bind(null,i,n),a)}function gf(){}function Qy(n,i){var a=Ct();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&sf(i,l[1])?l[0]:(a.memoizedState=[n,i],n)}function Ky(n,i){var a=Ct();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&sf(i,l[1]))return l[0];if(l=n(),Sa){an(!0);try{n()}finally{an(!1)}}return a.memoizedState=[l,i],l}function yf(n,i,a){return a===void 0||(ms&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=Wv(),Ve.lanes|=n,Ts|=n,a)}function Yy(n,i,a,l){return Un(a,i)?a:po.current!==null?(n=yf(n,a,l),Un(n,i)||(Ft=!0),n):(ms&42)===0?(Ft=!0,n.memoizedState=a):(n=Wv(),Ve.lanes|=n,Ts|=n,i)}function Xy(n,i,a,l,h){var f=le.p;le.p=f!==0&&8>f?f:8;var T=J.T,b={};J.T=b,Ef(n,!1,i,a);try{var O=h(),G=J.S;if(G!==null&&G(b,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var Z=W1(O,l);zl(n,i,Z,Hn(n))}else zl(n,i,l,Hn(n))}catch(te){zl(n,i,{then:function(){},status:"rejected",reason:te},Hn())}finally{le.p=f,J.T=T}}function nA(){}function vf(n,i,a,l){if(n.tag!==5)throw Error(s(476));var h=Wy(n).queue;Xy(n,h,i,ge,a===null?nA:function(){return Jy(n),a(l)})}function Wy(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:ge},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function Jy(n){var i=Wy(n).next.queue;zl(n,i,{},Hn())}function _f(){return un(iu)}function Zy(){return Ct().memoizedState}function ev(){return Ct().memoizedState}function rA(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=Hn();n=ds(a);var l=fs(i,n,a);l!==null&&(Gn(l,i,a),Pl(l,i,a)),i={cache:Kd()},n.payload=i;return}i=i.return}}function iA(n,i,a){var l=Hn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Cc(n)?nv(i,a):(a=Ld(n,i,a,l),a!==null&&(Gn(a,n,l),rv(a,i,l)))}function tv(n,i,a){var l=Hn();zl(n,i,a,l)}function zl(n,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Cc(n))nv(i,h);else{var f=n.alternate;if(n.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var T=i.lastRenderedState,b=f(T,a);if(h.hasEagerState=!0,h.eagerState=b,Un(b,T))return hc(n,i,h,0),at===null&&cc(),!1}catch{}finally{}if(a=Ld(n,i,h,l),a!==null)return Gn(a,n,l),rv(a,i,l),!0}return!1}function Ef(n,i,a,l){if(l={lane:2,revertLane:Jf(),action:l,hasEagerState:!1,eagerState:null,next:null},Cc(n)){if(i)throw Error(s(479))}else i=Ld(n,a,l,2),i!==null&&Gn(i,n,2)}function Cc(n){var i=n.alternate;return n===Ve||i!==null&&i===Ve}function nv(n,i){go=bc=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function rv(n,i,a){if((a&4194048)!==0){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,na(n,a)}}var Ic={readContext:un,use:Ac,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt},iv={readContext:un,use:Ac,useCallback:function(n,i){return Rn().memoizedState=[n,i===void 0?null:i],n},useContext:un,useEffect:By,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,Rc(4194308,4,Gy.bind(null,i,n),a)},useLayoutEffect:function(n,i){return Rc(4194308,4,n,i)},useInsertionEffect:function(n,i){Rc(4,2,n,i)},useMemo:function(n,i){var a=Rn();i=i===void 0?null:i;var l=n();if(Sa){an(!0);try{n()}finally{an(!1)}}return a.memoizedState=[l,i],l},useReducer:function(n,i,a){var l=Rn();if(a!==void 0){var h=a(i);if(Sa){an(!0);try{a(i)}finally{an(!1)}}}else h=i;return l.memoizedState=l.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},l.queue=n,n=n.dispatch=iA.bind(null,Ve,n),[l.memoizedState,n]},useRef:function(n){var i=Rn();return n={current:n},i.memoizedState=n},useState:function(n){n=mf(n);var i=n.queue,a=tv.bind(null,Ve,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:gf,useDeferredValue:function(n,i){var a=Rn();return yf(a,n,i)},useTransition:function(){var n=mf(!1);return n=Xy.bind(null,Ve,n.queue,!0,!1),Rn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var l=Ve,h=Rn();if(Xe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),at===null)throw Error(s(349));(Ge&124)!==0||Sy(l,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,By(Ry.bind(null,l,f,n),[n]),l.flags|=2048,vo(9,xc(),xy.bind(null,l,f,a,i),null),a},useId:function(){var n=Rn(),i=at.identifierPrefix;if(Xe){var a=Ii,l=Ci;a=(l&~(1<<32-Ot(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=wc++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=J1++,i="«"+i+"r"+a.toString(32)+"»";return n.memoizedState=i},useHostTransitionStatus:_f,useFormState:jy,useActionState:jy,useOptimistic:function(n){var i=Rn();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Ef.bind(null,Ve,!0,a),a.dispatch=i,[n,i]},useMemoCache:hf,useCacheRefresh:function(){return Rn().memoizedState=rA.bind(null,Ve)}},sv={readContext:un,use:Ac,useCallback:Qy,useContext:un,useEffect:qy,useImperativeHandle:$y,useInsertionEffect:Fy,useLayoutEffect:Hy,useMemo:Ky,useReducer:Sc,useRef:zy,useState:function(){return Sc(Di)},useDebugValue:gf,useDeferredValue:function(n,i){var a=Ct();return Yy(a,nt.memoizedState,n,i)},useTransition:function(){var n=Sc(Di)[0],i=Ct().memoizedState;return[typeof n=="boolean"?n:Ll(n),i]},useSyncExternalStore:Ay,useId:Zy,useHostTransitionStatus:_f,useFormState:ky,useActionState:ky,useOptimistic:function(n,i){var a=Ct();return Ny(a,nt,n,i)},useMemoCache:hf,useCacheRefresh:ev},sA={readContext:un,use:Ac,useCallback:Qy,useContext:un,useEffect:qy,useImperativeHandle:$y,useInsertionEffect:Fy,useLayoutEffect:Hy,useMemo:Ky,useReducer:ff,useRef:zy,useState:function(){return ff(Di)},useDebugValue:gf,useDeferredValue:function(n,i){var a=Ct();return nt===null?yf(a,n,i):Yy(a,nt.memoizedState,n,i)},useTransition:function(){var n=ff(Di)[0],i=Ct().memoizedState;return[typeof n=="boolean"?n:Ll(n),i]},useSyncExternalStore:Ay,useId:Zy,useHostTransitionStatus:_f,useFormState:Uy,useActionState:Uy,useOptimistic:function(n,i){var a=Ct();return nt!==null?Ny(a,nt,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:hf,useCacheRefresh:ev},_o=null,Bl=0;function Nc(n){var i=Bl;return Bl+=1,_o===null&&(_o=[]),gy(_o,n,i)}function ql(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Oc(n,i){throw i.$$typeof===S?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function av(n){var i=n._init;return i(n._payload)}function ov(n){function i(z,j){if(n){var F=z.deletions;F===null?(z.deletions=[j],z.flags|=16):F.push(j)}}function a(z,j){if(!n)return null;for(;j!==null;)i(z,j),j=j.sibling;return null}function l(z){for(var j=new Map;z!==null;)z.key!==null?j.set(z.key,z):j.set(z.index,z),z=z.sibling;return j}function h(z,j){return z=Ri(z,j),z.index=0,z.sibling=null,z}function f(z,j,F){return z.index=F,n?(F=z.alternate,F!==null?(F=F.index,F<j?(z.flags|=67108866,j):F):(z.flags|=67108866,j)):(z.flags|=1048576,j)}function T(z){return n&&z.alternate===null&&(z.flags|=67108866),z}function b(z,j,F,ee){return j===null||j.tag!==6?(j=zd(F,z.mode,ee),j.return=z,j):(j=h(j,F),j.return=z,j)}function O(z,j,F,ee){var pe=F.type;return pe===D?Z(z,j,F.props.children,ee,F.key):j!==null&&(j.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&av(pe)===j.type)?(j=h(j,F.props),ql(j,F),j.return=z,j):(j=fc(F.type,F.key,F.props,null,z.mode,ee),ql(j,F),j.return=z,j)}function G(z,j,F,ee){return j===null||j.tag!==4||j.stateNode.containerInfo!==F.containerInfo||j.stateNode.implementation!==F.implementation?(j=Bd(F,z.mode,ee),j.return=z,j):(j=h(j,F.children||[]),j.return=z,j)}function Z(z,j,F,ee,pe){return j===null||j.tag!==7?(j=ya(F,z.mode,ee,pe),j.return=z,j):(j=h(j,F),j.return=z,j)}function te(z,j,F){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=zd(""+j,z.mode,F),j.return=z,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case x:return F=fc(j.type,j.key,j.props,null,z.mode,F),ql(F,j),F.return=z,F;case M:return j=Bd(j,z.mode,F),j.return=z,j;case R:var ee=j._init;return j=ee(j._payload),te(z,j,F)}if(Oe(j)||U(j))return j=ya(j,z.mode,F,null),j.return=z,j;if(typeof j.then=="function")return te(z,Nc(j),F);if(j.$$typeof===se)return te(z,yc(z,j),F);Oc(z,j)}return null}function Q(z,j,F,ee){var pe=j!==null?j.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return pe!==null?null:b(z,j,""+F,ee);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case x:return F.key===pe?O(z,j,F,ee):null;case M:return F.key===pe?G(z,j,F,ee):null;case R:return pe=F._init,F=pe(F._payload),Q(z,j,F,ee)}if(Oe(F)||U(F))return pe!==null?null:Z(z,j,F,ee,null);if(typeof F.then=="function")return Q(z,j,Nc(F),ee);if(F.$$typeof===se)return Q(z,j,yc(z,F),ee);Oc(z,F)}return null}function Y(z,j,F,ee,pe){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return z=z.get(F)||null,b(j,z,""+ee,pe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case x:return z=z.get(ee.key===null?F:ee.key)||null,O(j,z,ee,pe);case M:return z=z.get(ee.key===null?F:ee.key)||null,G(j,z,ee,pe);case R:var ke=ee._init;return ee=ke(ee._payload),Y(z,j,F,ee,pe)}if(Oe(ee)||U(ee))return z=z.get(F)||null,Z(j,z,ee,pe,null);if(typeof ee.then=="function")return Y(z,j,F,Nc(ee),pe);if(ee.$$typeof===se)return Y(z,j,F,yc(j,ee),pe);Oc(j,ee)}return null}function Ce(z,j,F,ee){for(var pe=null,ke=null,_e=j,we=j=0,Gt=null;_e!==null&&we<F.length;we++){_e.index>we?(Gt=_e,_e=null):Gt=_e.sibling;var Ye=Q(z,_e,F[we],ee);if(Ye===null){_e===null&&(_e=Gt);break}n&&_e&&Ye.alternate===null&&i(z,_e),j=f(Ye,j,we),ke===null?pe=Ye:ke.sibling=Ye,ke=Ye,_e=Gt}if(we===F.length)return a(z,_e),Xe&&_a(z,we),pe;if(_e===null){for(;we<F.length;we++)_e=te(z,F[we],ee),_e!==null&&(j=f(_e,j,we),ke===null?pe=_e:ke.sibling=_e,ke=_e);return Xe&&_a(z,we),pe}for(_e=l(_e);we<F.length;we++)Gt=Y(_e,z,we,F[we],ee),Gt!==null&&(n&&Gt.alternate!==null&&_e.delete(Gt.key===null?we:Gt.key),j=f(Gt,j,we),ke===null?pe=Gt:ke.sibling=Gt,ke=Gt);return n&&_e.forEach(function(Ns){return i(z,Ns)}),Xe&&_a(z,we),pe}function be(z,j,F,ee){if(F==null)throw Error(s(151));for(var pe=null,ke=null,_e=j,we=j=0,Gt=null,Ye=F.next();_e!==null&&!Ye.done;we++,Ye=F.next()){_e.index>we?(Gt=_e,_e=null):Gt=_e.sibling;var Ns=Q(z,_e,Ye.value,ee);if(Ns===null){_e===null&&(_e=Gt);break}n&&_e&&Ns.alternate===null&&i(z,_e),j=f(Ns,j,we),ke===null?pe=Ns:ke.sibling=Ns,ke=Ns,_e=Gt}if(Ye.done)return a(z,_e),Xe&&_a(z,we),pe;if(_e===null){for(;!Ye.done;we++,Ye=F.next())Ye=te(z,Ye.value,ee),Ye!==null&&(j=f(Ye,j,we),ke===null?pe=Ye:ke.sibling=Ye,ke=Ye);return Xe&&_a(z,we),pe}for(_e=l(_e);!Ye.done;we++,Ye=F.next())Ye=Y(_e,z,we,Ye.value,ee),Ye!==null&&(n&&Ye.alternate!==null&&_e.delete(Ye.key===null?we:Ye.key),j=f(Ye,j,we),ke===null?pe=Ye:ke.sibling=Ye,ke=Ye);return n&&_e.forEach(function(aS){return i(z,aS)}),Xe&&_a(z,we),pe}function it(z,j,F,ee){if(typeof F=="object"&&F!==null&&F.type===D&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case x:e:{for(var pe=F.key;j!==null;){if(j.key===pe){if(pe=F.type,pe===D){if(j.tag===7){a(z,j.sibling),ee=h(j,F.props.children),ee.return=z,z=ee;break e}}else if(j.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&av(pe)===j.type){a(z,j.sibling),ee=h(j,F.props),ql(ee,F),ee.return=z,z=ee;break e}a(z,j);break}else i(z,j);j=j.sibling}F.type===D?(ee=ya(F.props.children,z.mode,ee,F.key),ee.return=z,z=ee):(ee=fc(F.type,F.key,F.props,null,z.mode,ee),ql(ee,F),ee.return=z,z=ee)}return T(z);case M:e:{for(pe=F.key;j!==null;){if(j.key===pe)if(j.tag===4&&j.stateNode.containerInfo===F.containerInfo&&j.stateNode.implementation===F.implementation){a(z,j.sibling),ee=h(j,F.children||[]),ee.return=z,z=ee;break e}else{a(z,j);break}else i(z,j);j=j.sibling}ee=Bd(F,z.mode,ee),ee.return=z,z=ee}return T(z);case R:return pe=F._init,F=pe(F._payload),it(z,j,F,ee)}if(Oe(F))return Ce(z,j,F,ee);if(U(F)){if(pe=U(F),typeof pe!="function")throw Error(s(150));return F=pe.call(F),be(z,j,F,ee)}if(typeof F.then=="function")return it(z,j,Nc(F),ee);if(F.$$typeof===se)return it(z,j,yc(z,F),ee);Oc(z,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,j!==null&&j.tag===6?(a(z,j.sibling),ee=h(j,F),ee.return=z,z=ee):(a(z,j),ee=zd(F,z.mode,ee),ee.return=z,z=ee),T(z)):a(z,j)}return function(z,j,F,ee){try{Bl=0;var pe=it(z,j,F,ee);return _o=null,pe}catch(_e){if(_e===Dl||_e===_c)throw _e;var ke=zn(29,_e,null,z.mode);return ke.lanes=ee,ke.return=z,ke}finally{}}}var Eo=ov(!0),lv=ov(!1),cr=ae(null),Jr=null;function ps(n){var i=n.alternate;oe(kt,kt.current&1),oe(cr,n),Jr===null&&(i===null||po.current!==null||i.memoizedState!==null)&&(Jr=n)}function uv(n){if(n.tag===22){if(oe(kt,kt.current),oe(cr,n),Jr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(Jr=n)}}else gs()}function gs(){oe(kt,kt.current),oe(cr,cr.current)}function Mi(n){ce(cr),Jr===n&&(Jr=null),ce(kt)}var kt=ae(0);function Dc(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||cm(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Tf(n,i,a,l){i=n.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var bf={enqueueSetState:function(n,i,a){n=n._reactInternals;var l=Hn(),h=ds(l);h.payload=i,a!=null&&(h.callback=a),i=fs(n,h,l),i!==null&&(Gn(i,n,l),Pl(i,n,l))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var l=Hn(),h=ds(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=fs(n,h,l),i!==null&&(Gn(i,n,l),Pl(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Hn(),l=ds(a);l.tag=2,i!=null&&(l.callback=i),i=fs(n,l,a),i!==null&&(Gn(i,n,a),Pl(i,n,a))}};function cv(n,i,a,l,h,f,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,f,T):i.prototype&&i.prototype.isPureReactComponent?!Al(a,l)||!Al(h,f):!0}function hv(n,i,a,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==n&&bf.enqueueReplaceState(i,i.state,null)}function xa(n,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(n=n.defaultProps){a===i&&(a=E({},a));for(var h in n)a[h]===void 0&&(a[h]=n[h])}return a}var Mc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function dv(n){Mc(n)}function fv(n){console.error(n)}function mv(n){Mc(n)}function Pc(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function pv(n,i,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function wf(n,i,a){return a=ds(a),a.tag=3,a.payload={element:null},a.callback=function(){Pc(n,i)},a}function gv(n){return n=ds(n),n.tag=3,n}function yv(n,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;n.payload=function(){return h(f)},n.callback=function(){pv(i,a,l)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){pv(i,a,l),typeof h!="function"&&(bs===null?bs=new Set([this]):bs.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function aA(n,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Il(i,a,h,!0),a=cr.current,a!==null){switch(a.tag){case 13:return Jr===null?Qf():a.alternate===null&&_t===0&&(_t=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Wd?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Yf(n,l,h)),!1;case 22:return a.flags|=65536,l===Wd?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Yf(n,l,h)),!1}throw Error(s(435,a.tag))}return Yf(n,l,h),Qf(),!1}if(Xe)return i=cr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Hd&&(n=Error(s(422),{cause:l}),Cl(ar(n,a)))):(l!==Hd&&(i=Error(s(423),{cause:l}),Cl(ar(i,a))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,l=ar(l,a),h=wf(n.stateNode,l,h),ef(n,h),_t!==4&&(_t=2)),!1;var f=Error(s(520),{cause:l});if(f=ar(f,a),Yl===null?Yl=[f]:Yl.push(f),_t!==4&&(_t=2),i===null)return!0;l=ar(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=h&-h,a.lanes|=n,n=wf(a.stateNode,l,n),ef(a,n),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(bs===null||!bs.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=gv(h),yv(h,n,a,l),ef(a,h),!1}a=a.return}while(a!==null);return!1}var vv=Error(s(461)),Ft=!1;function Zt(n,i,a,l){i.child=n===null?lv(i,null,a,l):Eo(i,n.child,a,l)}function _v(n,i,a,l,h){a=a.render;var f=i.ref;if("ref"in l){var T={};for(var b in l)b!=="ref"&&(T[b]=l[b])}else T=l;return wa(i),l=af(n,i,a,T,f,h),b=of(),n!==null&&!Ft?(lf(n,i,h),Pi(n,i,h)):(Xe&&b&&qd(i),i.flags|=1,Zt(n,i,l,h),i.child)}function Ev(n,i,a,l,h){if(n===null){var f=a.type;return typeof f=="function"&&!Ud(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,Tv(n,i,f,l,h)):(n=fc(a.type,null,l,i,i.mode,h),n.ref=i.ref,n.return=i,i.child=n)}if(f=n.child,!Of(n,h)){var T=f.memoizedProps;if(a=a.compare,a=a!==null?a:Al,a(T,l)&&n.ref===i.ref)return Pi(n,i,h)}return i.flags|=1,n=Ri(f,l),n.ref=i.ref,n.return=i,i.child=n}function Tv(n,i,a,l,h){if(n!==null){var f=n.memoizedProps;if(Al(f,l)&&n.ref===i.ref)if(Ft=!1,i.pendingProps=l=f,Of(n,h))(n.flags&131072)!==0&&(Ft=!0);else return i.lanes=n.lanes,Pi(n,i,h)}return Af(n,i,a,l,h)}function bv(n,i,a){var l=i.pendingProps,h=l.children,f=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,n!==null){for(h=i.child=n.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;i.childLanes=f&~l}else i.childLanes=0,i.child=null;return wv(n,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&vc(i,f!==null?f.cachePool:null),f!==null?Ty(i,f):nf(),uv(i);else return i.lanes=i.childLanes=536870912,wv(n,i,f!==null?f.baseLanes|a:a,a)}else f!==null?(vc(i,f.cachePool),Ty(i,f),gs(),i.memoizedState=null):(n!==null&&vc(i,null),nf(),gs());return Zt(n,i,h,a),i.child}function wv(n,i,a,l){var h=Xd();return h=h===null?null:{parent:jt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},n!==null&&vc(i,null),nf(),uv(i),n!==null&&Il(n,i,l,!0),null}function Vc(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function Af(n,i,a,l,h){return wa(i),a=af(n,i,a,l,void 0,h),l=of(),n!==null&&!Ft?(lf(n,i,h),Pi(n,i,h)):(Xe&&l&&qd(i),i.flags|=1,Zt(n,i,a,h),i.child)}function Av(n,i,a,l,h,f){return wa(i),i.updateQueue=null,a=wy(i,l,a,h),by(n),l=of(),n!==null&&!Ft?(lf(n,i,f),Pi(n,i,f)):(Xe&&l&&qd(i),i.flags|=1,Zt(n,i,a,f),i.child)}function Sv(n,i,a,l,h){if(wa(i),i.stateNode===null){var f=uo,T=a.contextType;typeof T=="object"&&T!==null&&(f=un(T)),f=new a(l,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=bf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=l,f.state=i.memoizedState,f.refs={},Jd(i),T=a.contextType,f.context=typeof T=="object"&&T!==null?un(T):uo,f.state=i.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(Tf(i,a,T,l),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(T=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),T!==f.state&&bf.enqueueReplaceState(f,f.state,null),jl(i,l,f,h),Vl(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){f=i.stateNode;var b=i.memoizedProps,O=xa(a,b);f.props=O;var G=f.context,Z=a.contextType;T=uo,typeof Z=="object"&&Z!==null&&(T=un(Z));var te=a.getDerivedStateFromProps;Z=typeof te=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,Z||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||G!==T)&&hv(i,f,l,T),hs=!1;var Q=i.memoizedState;f.state=Q,jl(i,l,f,h),Vl(),G=i.memoizedState,b||Q!==G||hs?(typeof te=="function"&&(Tf(i,a,te,l),G=i.memoizedState),(O=hs||cv(i,a,O,l,Q,G,T))?(Z||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=G),f.props=l,f.state=G,f.context=T,l=O):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{f=i.stateNode,Zd(n,i),T=i.memoizedProps,Z=xa(a,T),f.props=Z,te=i.pendingProps,Q=f.context,G=a.contextType,O=uo,typeof G=="object"&&G!==null&&(O=un(G)),b=a.getDerivedStateFromProps,(G=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T!==te||Q!==O)&&hv(i,f,l,O),hs=!1,Q=i.memoizedState,f.state=Q,jl(i,l,f,h),Vl();var Y=i.memoizedState;T!==te||Q!==Y||hs||n!==null&&n.dependencies!==null&&gc(n.dependencies)?(typeof b=="function"&&(Tf(i,a,b,l),Y=i.memoizedState),(Z=hs||cv(i,a,Z,l,Q,Y,O)||n!==null&&n.dependencies!==null&&gc(n.dependencies))?(G||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,Y,O),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,Y,O)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||T===n.memoizedProps&&Q===n.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&Q===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Y),f.props=l,f.state=Y,f.context=O,l=Z):(typeof f.componentDidUpdate!="function"||T===n.memoizedProps&&Q===n.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&Q===n.memoizedState||(i.flags|=1024),l=!1)}return f=l,Vc(n,i),l=(i.flags&128)!==0,f||l?(f=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,n!==null&&l?(i.child=Eo(i,n.child,null,h),i.child=Eo(i,null,a,h)):Zt(n,i,a,h),i.memoizedState=f.state,n=i.child):n=Pi(n,i,h),n}function xv(n,i,a,l){return Rl(),i.flags|=256,Zt(n,i,a,l),i.child}var Sf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xf(n){return{baseLanes:n,cachePool:fy()}}function Rf(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=hr),n}function Rv(n,i,a){var l=i.pendingProps,h=!1,f=(i.flags&128)!==0,T;if((T=f)||(T=n!==null&&n.memoizedState===null?!1:(kt.current&2)!==0),T&&(h=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,n===null){if(Xe){if(h?ps(i):gs(),Xe){var b=vt,O;if(O=b){e:{for(O=b,b=Wr;O.nodeType!==8;){if(!b){b=null;break e}if(O=Mr(O.nextSibling),O===null){b=null;break e}}b=O}b!==null?(i.memoizedState={dehydrated:b,treeContext:va!==null?{id:Ci,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},O=zn(18,null,null,0),O.stateNode=b,O.return=i,i.child=O,Tn=i,vt=null,O=!0):O=!1}O||Ta(i)}if(b=i.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return cm(b)?i.lanes=32:i.lanes=536870912,null;Mi(i)}return b=l.children,l=l.fallback,h?(gs(),h=i.mode,b=jc({mode:"hidden",children:b},h),l=ya(l,h,a,null),b.return=i,l.return=i,b.sibling=l,i.child=b,h=i.child,h.memoizedState=xf(a),h.childLanes=Rf(n,T,a),i.memoizedState=Sf,l):(ps(i),Cf(i,b))}if(O=n.memoizedState,O!==null&&(b=O.dehydrated,b!==null)){if(f)i.flags&256?(ps(i),i.flags&=-257,i=If(n,i,a)):i.memoizedState!==null?(gs(),i.child=n.child,i.flags|=128,i=null):(gs(),h=l.fallback,b=i.mode,l=jc({mode:"visible",children:l.children},b),h=ya(h,b,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Eo(i,n.child,null,a),l=i.child,l.memoizedState=xf(a),l.childLanes=Rf(n,T,a),i.memoizedState=Sf,i=h);else if(ps(i),cm(b)){if(T=b.nextSibling&&b.nextSibling.dataset,T)var G=T.dgst;T=G,l=Error(s(419)),l.stack="",l.digest=T,Cl({value:l,source:null,stack:null}),i=If(n,i,a)}else if(Ft||Il(n,i,a,!1),T=(a&n.childLanes)!==0,Ft||T){if(T=at,T!==null&&(l=a&-a,l=(l&42)!==0?1:Fr(l),l=(l&(T.suspendedLanes|a))!==0?0:l,l!==0&&l!==O.retryLane))throw O.retryLane=l,lo(n,l),Gn(T,n,l),vv;b.data==="$?"||Qf(),i=If(n,i,a)}else b.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=O.treeContext,vt=Mr(b.nextSibling),Tn=i,Xe=!0,Ea=null,Wr=!1,n!==null&&(lr[ur++]=Ci,lr[ur++]=Ii,lr[ur++]=va,Ci=n.id,Ii=n.overflow,va=i),i=Cf(i,l.children),i.flags|=4096);return i}return h?(gs(),h=l.fallback,b=i.mode,O=n.child,G=O.sibling,l=Ri(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,G!==null?h=Ri(G,h):(h=ya(h,b,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,b=n.child.memoizedState,b===null?b=xf(a):(O=b.cachePool,O!==null?(G=jt._currentValue,O=O.parent!==G?{parent:G,pool:G}:O):O=fy(),b={baseLanes:b.baseLanes|a,cachePool:O}),h.memoizedState=b,h.childLanes=Rf(n,T,a),i.memoizedState=Sf,l):(ps(i),a=n.child,n=a.sibling,a=Ri(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,n!==null&&(T=i.deletions,T===null?(i.deletions=[n],i.flags|=16):T.push(n)),i.child=a,i.memoizedState=null,a)}function Cf(n,i){return i=jc({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function jc(n,i){return n=zn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function If(n,i,a){return Eo(i,n.child,null,a),n=Cf(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Cv(n,i,a){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),$d(n.return,i,a)}function Nf(n,i,a,l,h){var f=n.memoizedState;f===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=h)}function Iv(n,i,a){var l=i.pendingProps,h=l.revealOrder,f=l.tail;if(Zt(n,i,l.children,a),l=kt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Cv(n,a,i);else if(n.tag===19)Cv(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(oe(kt,l),h){case"forwards":for(a=i.child,h=null;a!==null;)n=a.alternate,n!==null&&Dc(n)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Nf(i,!1,h,a,f);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(n=h.alternate,n!==null&&Dc(n)===null){i.child=h;break}n=h.sibling,h.sibling=a,a=h,h=n}Nf(i,!0,a,null,f);break;case"together":Nf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Pi(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Ts|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(Il(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=Ri(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=Ri(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function Of(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&gc(n)))}function oA(n,i,a){switch(i.tag){case 3:tt(i,i.stateNode.containerInfo),cs(i,jt,n.memoizedState.cache),Rl();break;case 27:case 5:zr(i);break;case 4:tt(i,i.stateNode.containerInfo);break;case 10:cs(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ps(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Rv(n,i,a):(ps(i),n=Pi(n,i,a),n!==null?n.sibling:null);ps(i);break;case 19:var h=(n.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Il(n,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Iv(n,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(kt,kt.current),l)break;return null;case 22:case 23:return i.lanes=0,bv(n,i,a);case 24:cs(i,jt,n.memoizedState.cache)}return Pi(n,i,a)}function Nv(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)Ft=!0;else{if(!Of(n,a)&&(i.flags&128)===0)return Ft=!1,oA(n,i,a);Ft=(n.flags&131072)!==0}else Ft=!1,Xe&&(i.flags&1048576)!==0&&ay(i,pc,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Ud(l)?(n=xa(l,n),i.tag=1,i=Sv(null,i,l,n,a)):(i.tag=0,i=Af(null,i,l,n,a));else{if(l!=null){if(h=l.$$typeof,h===ye){i.tag=11,i=_v(null,i,l,n,a);break e}else if(h===V){i.tag=14,i=Ev(null,i,l,n,a);break e}}throw i=ve(l)||l,Error(s(306,i,""))}}return i;case 0:return Af(n,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=xa(l,i.pendingProps),Sv(n,i,l,h,a);case 3:e:{if(tt(i,i.stateNode.containerInfo),n===null)throw Error(s(387));l=i.pendingProps;var f=i.memoizedState;h=f.element,Zd(n,i),jl(i,l,null,a);var T=i.memoizedState;if(l=T.cache,cs(i,jt,l),l!==f.cache&&Qd(i,[jt],a,!0),Vl(),l=T.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=xv(n,i,l,a);break e}else if(l!==h){h=ar(Error(s(424)),i),Cl(h),i=xv(n,i,l,a);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(vt=Mr(n.firstChild),Tn=i,Xe=!0,Ea=null,Wr=!0,a=lv(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Rl(),l===h){i=Pi(n,i,a);break e}Zt(n,i,l,a)}i=i.child}return i;case 26:return Vc(n,i),n===null?(a=P_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Xe||(a=i.type,n=i.pendingProps,l=Xc(Re.current).createElement(a),l[Et]=i,l[gt]=n,tn(l,a,n),dt(l),i.stateNode=l):i.memoizedState=P_(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return zr(i),n===null&&Xe&&(l=i.stateNode=O_(i.type,i.pendingProps,Re.current),Tn=i,Wr=!0,h=vt,Ss(i.type)?(hm=h,vt=Mr(l.firstChild)):vt=h),Zt(n,i,i.pendingProps.children,a),Vc(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Xe&&((h=l=vt)&&(l=VA(l,i.type,i.pendingProps,Wr),l!==null?(i.stateNode=l,Tn=i,vt=Mr(l.firstChild),Wr=!1,h=!0):h=!1),h||Ta(i)),zr(i),h=i.type,f=i.pendingProps,T=n!==null?n.memoizedProps:null,l=f.children,om(h,f)?l=null:T!==null&&om(h,T)&&(i.flags|=32),i.memoizedState!==null&&(h=af(n,i,Z1,null,null,a),iu._currentValue=h),Vc(n,i),Zt(n,i,l,a),i.child;case 6:return n===null&&Xe&&((n=a=vt)&&(a=jA(a,i.pendingProps,Wr),a!==null?(i.stateNode=a,Tn=i,vt=null,n=!0):n=!1),n||Ta(i)),null;case 13:return Rv(n,i,a);case 4:return tt(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=Eo(i,null,l,a):Zt(n,i,l,a),i.child;case 11:return _v(n,i,i.type,i.pendingProps,a);case 7:return Zt(n,i,i.pendingProps,a),i.child;case 8:return Zt(n,i,i.pendingProps.children,a),i.child;case 12:return Zt(n,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,cs(i,i.type,l.value),Zt(n,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,wa(i),h=un(h),l=l(h),i.flags|=1,Zt(n,i,l,a),i.child;case 14:return Ev(n,i,i.type,i.pendingProps,a);case 15:return Tv(n,i,i.type,i.pendingProps,a);case 19:return Iv(n,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},n===null?(a=jc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ri(n.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return bv(n,i,a);case 24:return wa(i),l=un(jt),n===null?(h=Xd(),h===null&&(h=at,f=Kd(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:l,cache:h},Jd(i),cs(i,jt,h)):((n.lanes&a)!==0&&(Zd(n,i),jl(i,null,null,a),Vl()),h=n.memoizedState,f=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),cs(i,jt,l)):(l=f.cache,cs(i,jt,l),l!==h.cache&&Qd(i,[jt],a,!0))),Zt(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Vi(n){n.flags|=4}function Ov(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!U_(i)){if(i=cr.current,i!==null&&((Ge&4194048)===Ge?Jr!==null:(Ge&62914560)!==Ge&&(Ge&536870912)===0||i!==Jr))throw Ml=Wd,my;n.flags|=8192}}function kc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?_i():536870912,n.lanes|=i,Ao|=i)}function Fl(n,i){if(!Xe)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ft(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(i)for(var h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=l,n.childLanes=a,i}function lA(n,i,a){var l=i.pendingProps;switch(Fd(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(i),null;case 1:return ft(i),null;case 3:return a=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Oi(jt),Kn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(xl(i)?Vi(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,uy())),ft(i),null;case 26:return a=i.memoizedState,n===null?(Vi(i),a!==null?(ft(i),Ov(i,a)):(ft(i),i.flags&=-16777217)):a?a!==n.memoizedState?(Vi(i),ft(i),Ov(i,a)):(ft(i),i.flags&=-16777217):(n.memoizedProps!==l&&Vi(i),ft(i),i.flags&=-16777217),null;case 27:Yn(i),a=Re.current;var h=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Vi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ft(i),null}n=Ee.current,xl(i)?oy(i):(n=O_(h,l,a),i.stateNode=n,Vi(i))}return ft(i),null;case 5:if(Yn(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Vi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ft(i),null}if(n=Ee.current,xl(i))oy(i);else{switch(h=Xc(Re.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}n[Et]=i,n[gt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=n;e:switch(tn(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Vi(i)}}return ft(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&Vi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(n=Re.current,xl(i)){if(n=i.stateNode,a=i.memoizedProps,l=null,h=Tn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}n[Et]=i,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||A_(n.nodeValue,a)),n||Ta(i)}else n=Xc(n).createTextNode(l),n[Et]=i,i.stateNode=n}return ft(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=xl(i),l!==null&&l.dehydrated!==null){if(n===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Et]=i}else Rl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ft(i),h=!1}else h=uy(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Mi(i),i):(Mi(i),null)}if(Mi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),kc(i,i.updateQueue),ft(i),null;case 4:return Kn(),n===null&&nm(i.stateNode.containerInfo),ft(i),null;case 10:return Oi(i.type),ft(i),null;case 19:if(ce(kt),h=i.memoizedState,h===null)return ft(i),null;if(l=(i.flags&128)!==0,f=h.rendering,f===null)if(l)Fl(h,!1);else{if(_t!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(f=Dc(n),f!==null){for(i.flags|=128,Fl(h,!1),n=f.updateQueue,i.updateQueue=n,kc(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)sy(a,n),a=a.sibling;return oe(kt,kt.current&1|2),i.child}n=n.sibling}h.tail!==null&&pn()>zc&&(i.flags|=128,l=!0,Fl(h,!1),i.lanes=4194304)}else{if(!l)if(n=Dc(f),n!==null){if(i.flags|=128,l=!0,n=n.updateQueue,i.updateQueue=n,kc(i,n),Fl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Xe)return ft(i),null}else 2*pn()-h.renderingStartTime>zc&&a!==536870912&&(i.flags|=128,l=!0,Fl(h,!1),i.lanes=4194304);h.isBackwards?(f.sibling=i.child,i.child=f):(n=h.last,n!==null?n.sibling=f:i.child=f,h.last=f)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=pn(),i.sibling=null,n=kt.current,oe(kt,l?n&1|2:n&1),i):(ft(i),null);case 22:case 23:return Mi(i),rf(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ft(i),i.subtreeFlags&6&&(i.flags|=8192)):ft(i),a=i.updateQueue,a!==null&&kc(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),n!==null&&ce(Aa),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Oi(jt),ft(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function uA(n,i){switch(Fd(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Oi(jt),Kn(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Yn(i),null;case 13:if(Mi(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Rl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return ce(kt),null;case 4:return Kn(),null;case 10:return Oi(i.type),null;case 22:case 23:return Mi(i),rf(),n!==null&&ce(Aa),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Oi(jt),null;case 25:return null;default:return null}}function Dv(n,i){switch(Fd(i),i.tag){case 3:Oi(jt),Kn();break;case 26:case 27:case 5:Yn(i);break;case 4:Kn();break;case 13:Mi(i);break;case 19:ce(kt);break;case 10:Oi(i.type);break;case 22:case 23:Mi(i),rf(),n!==null&&ce(Aa);break;case 24:Oi(jt)}}function Hl(n,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&n)===n){l=void 0;var f=a.create,T=a.inst;l=f(),T.destroy=l}a=a.next}while(a!==h)}}catch(b){st(i,i.return,b)}}function ys(n,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&n)===n){var T=l.inst,b=T.destroy;if(b!==void 0){T.destroy=void 0,h=i;var O=a,G=b;try{G()}catch(Z){st(h,O,Z)}}}l=l.next}while(l!==f)}}catch(Z){st(i,i.return,Z)}}function Mv(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{Ey(i,a)}catch(l){st(n,n.return,l)}}}function Pv(n,i,a){a.props=xa(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){st(n,i,l)}}function Gl(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(h){st(n,i,h)}}function Zr(n,i){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){st(n,i,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){st(n,i,h)}else a.current=null}function Vv(n){var i=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){st(n,n.return,h)}}function Df(n,i,a){try{var l=n.stateNode;NA(l,n.type,a,i),l[gt]=i}catch(h){st(n,n.return,h)}}function jv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ss(n.type)||n.tag===4}function Mf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||jv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ss(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Pf(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Yc));else if(l!==4&&(l===27&&Ss(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(Pf(n,i,a),n=n.sibling;n!==null;)Pf(n,i,a),n=n.sibling}function Lc(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(l!==4&&(l===27&&Ss(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Lc(n,i,a),n=n.sibling;n!==null;)Lc(n,i,a),n=n.sibling}function kv(n){var i=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);tn(i,l,a),i[Et]=n,i[gt]=a}catch(f){st(n,n.return,f)}}var ji=!1,wt=!1,Vf=!1,Lv=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function cA(n,i){if(n=n.containerInfo,sm=nh,n=Yg(n),Dd(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var T=0,b=-1,O=-1,G=0,Z=0,te=n,Q=null;t:for(;;){for(var Y;te!==a||h!==0&&te.nodeType!==3||(b=T+h),te!==f||l!==0&&te.nodeType!==3||(O=T+l),te.nodeType===3&&(T+=te.nodeValue.length),(Y=te.firstChild)!==null;)Q=te,te=Y;for(;;){if(te===n)break t;if(Q===a&&++G===h&&(b=T),Q===f&&++Z===l&&(O=T),(Y=te.nextSibling)!==null)break;te=Q,Q=te.parentNode}te=Y}a=b===-1||O===-1?null:{start:b,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(am={focusedElem:n,selectionRange:a},nh=!1,Ht=i;Ht!==null;)if(i=Ht,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,Ht=n;else for(;Ht!==null;){switch(i=Ht,f=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&f!==null){n=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var Ce=xa(a.type,h,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(Ce,f),l.__reactInternalSnapshotBeforeUpdate=n}catch(be){st(a,a.return,be)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)um(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":um(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,Ht=n;break}Ht=i.return}}function Uv(n,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:vs(n,a),l&4&&Hl(5,a);break;case 1:if(vs(n,a),l&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(T){st(a,a.return,T)}else{var h=xa(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(h,i,n.__reactInternalSnapshotBeforeUpdate)}catch(T){st(a,a.return,T)}}l&64&&Mv(a),l&512&&Gl(a,a.return);break;case 3:if(vs(n,a),l&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Ey(n,i)}catch(T){st(a,a.return,T)}}break;case 27:i===null&&l&4&&kv(a);case 26:case 5:vs(n,a),i===null&&l&4&&Vv(a),l&512&&Gl(a,a.return);break;case 12:vs(n,a);break;case 13:vs(n,a),l&4&&qv(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=_A.bind(null,a),kA(n,a))));break;case 22:if(l=a.memoizedState!==null||ji,!l){i=i!==null&&i.memoizedState!==null||wt,h=ji;var f=wt;ji=l,(wt=i)&&!f?_s(n,a,(a.subtreeFlags&8772)!==0):vs(n,a),ji=h,wt=f}break;case 30:break;default:vs(n,a)}}function zv(n){var i=n.alternate;i!==null&&(n.alternate=null,zv(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Hr(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ct=null,Cn=!1;function ki(n,i,a){for(a=a.child;a!==null;)Bv(n,i,a),a=a.sibling}function Bv(n,i,a){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(ut,a)}catch{}switch(a.tag){case 26:wt||Zr(a,i),ki(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:wt||Zr(a,i);var l=ct,h=Cn;Ss(a.type)&&(ct=a.stateNode,Cn=!1),ki(n,i,a),eu(a.stateNode),ct=l,Cn=h;break;case 5:wt||Zr(a,i);case 6:if(l=ct,h=Cn,ct=null,ki(n,i,a),ct=l,Cn=h,ct!==null)if(Cn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(f){st(a,i,f)}else try{ct.removeChild(a.stateNode)}catch(f){st(a,i,f)}break;case 18:ct!==null&&(Cn?(n=ct,I_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),lu(n)):I_(ct,a.stateNode));break;case 4:l=ct,h=Cn,ct=a.stateNode.containerInfo,Cn=!0,ki(n,i,a),ct=l,Cn=h;break;case 0:case 11:case 14:case 15:wt||ys(2,a,i),wt||ys(4,a,i),ki(n,i,a);break;case 1:wt||(Zr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Pv(a,i,l)),ki(n,i,a);break;case 21:ki(n,i,a);break;case 22:wt=(l=wt)||a.memoizedState!==null,ki(n,i,a),wt=l;break;default:ki(n,i,a)}}function qv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{lu(n)}catch(a){st(i,i.return,a)}}function hA(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Lv),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Lv),i;default:throw Error(s(435,n.tag))}}function jf(n,i){var a=hA(n);i.forEach(function(l){var h=EA.bind(null,n,l);a.has(l)||(a.add(l),l.then(h,h))})}function Bn(n,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=n,T=i,b=T;e:for(;b!==null;){switch(b.tag){case 27:if(Ss(b.type)){ct=b.stateNode,Cn=!1;break e}break;case 5:ct=b.stateNode,Cn=!1;break e;case 3:case 4:ct=b.stateNode.containerInfo,Cn=!0;break e}b=b.return}if(ct===null)throw Error(s(160));Bv(f,T,h),ct=null,Cn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Fv(i,n),i=i.sibling}var Dr=null;function Fv(n,i){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Bn(i,n),qn(n),l&4&&(ys(3,n,n.return),Hl(3,n),ys(5,n,n.return));break;case 1:Bn(i,n),qn(n),l&512&&(wt||a===null||Zr(a,a.return)),l&64&&ji&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Dr;if(Bn(i,n),qn(n),l&512&&(wt||a===null||Zr(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ei]||f[Et]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),tn(f,l,a),f[Et]=n,dt(f),l=f;break e;case"link":var T=k_("link","href",h).get(l+(a.href||""));if(T){for(var b=0;b<T.length;b++)if(f=T[b],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(b,1);break t}}f=h.createElement(l),tn(f,l,a),h.head.appendChild(f);break;case"meta":if(T=k_("meta","content",h).get(l+(a.content||""))){for(b=0;b<T.length;b++)if(f=T[b],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(b,1);break t}}f=h.createElement(l),tn(f,l,a),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[Et]=n,dt(f),l=f}n.stateNode=l}else L_(h,n.type,n.stateNode);else n.stateNode=j_(h,l,n.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?L_(h,n.type,n.stateNode):j_(h,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Df(n,n.memoizedProps,a.memoizedProps)}break;case 27:Bn(i,n),qn(n),l&512&&(wt||a===null||Zr(a,a.return)),a!==null&&l&4&&Df(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Bn(i,n),qn(n),l&512&&(wt||a===null||Zr(a,a.return)),n.flags&32){h=n.stateNode;try{Dt(h,"")}catch(Y){st(n,n.return,Y)}}l&4&&n.stateNode!=null&&(h=n.memoizedProps,Df(n,h,a!==null?a.memoizedProps:h)),l&1024&&(Vf=!0);break;case 6:if(Bn(i,n),qn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(Y){st(n,n.return,Y)}}break;case 3:if(Zc=null,h=Dr,Dr=Wc(i.containerInfo),Bn(i,n),Dr=h,qn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{lu(i.containerInfo)}catch(Y){st(n,n.return,Y)}Vf&&(Vf=!1,Hv(n));break;case 4:l=Dr,Dr=Wc(n.stateNode.containerInfo),Bn(i,n),qn(n),Dr=l;break;case 12:Bn(i,n),qn(n);break;case 13:Bn(i,n),qn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(qf=pn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,jf(n,l)));break;case 22:h=n.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,G=ji,Z=wt;if(ji=G||h,wt=Z||O,Bn(i,n),wt=Z,ji=G,qn(n),l&8192)e:for(i=n.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||O||ji||wt||Ra(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){O=a=i;try{if(f=O.stateNode,h)T=f.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{b=O.stateNode;var te=O.memoizedProps.style,Q=te!=null&&te.hasOwnProperty("display")?te.display:null;b.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(Y){st(O,O.return,Y)}}}else if(i.tag===6){if(a===null){O=i;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(Y){st(O,O.return,Y)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,jf(n,a))));break;case 19:Bn(i,n),qn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,jf(n,l)));break;case 30:break;case 21:break;default:Bn(i,n),qn(n)}}function qn(n){var i=n.flags;if(i&2){try{for(var a,l=n.return;l!==null;){if(jv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Mf(n);Lc(n,f,h);break;case 5:var T=a.stateNode;a.flags&32&&(Dt(T,""),a.flags&=-33);var b=Mf(n);Lc(n,b,T);break;case 3:case 4:var O=a.stateNode.containerInfo,G=Mf(n);Pf(n,G,O);break;default:throw Error(s(161))}}catch(Z){st(n,n.return,Z)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Hv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;Hv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function vs(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Uv(n,i.alternate,i),i=i.sibling}function Ra(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:ys(4,i,i.return),Ra(i);break;case 1:Zr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Pv(i,i.return,a),Ra(i);break;case 27:eu(i.stateNode);case 26:case 5:Zr(i,i.return),Ra(i);break;case 22:i.memoizedState===null&&Ra(i);break;case 30:Ra(i);break;default:Ra(i)}n=n.sibling}}function _s(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=n,f=i,T=f.flags;switch(f.tag){case 0:case 11:case 15:_s(h,f,a),Hl(4,f);break;case 1:if(_s(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(G){st(l,l.return,G)}if(l=f,h=l.updateQueue,h!==null){var b=l.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)_y(O[h],b)}catch(G){st(l,l.return,G)}}a&&T&64&&Mv(f),Gl(f,f.return);break;case 27:kv(f);case 26:case 5:_s(h,f,a),a&&l===null&&T&4&&Vv(f),Gl(f,f.return);break;case 12:_s(h,f,a);break;case 13:_s(h,f,a),a&&T&4&&qv(h,f);break;case 22:f.memoizedState===null&&_s(h,f,a),Gl(f,f.return);break;case 30:break;default:_s(h,f,a)}i=i.sibling}}function kf(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Nl(a))}function Lf(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Nl(n))}function ei(n,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Gv(n,i,a,l),i=i.sibling}function Gv(n,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ei(n,i,a,l),h&2048&&Hl(9,i);break;case 1:ei(n,i,a,l);break;case 3:ei(n,i,a,l),h&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Nl(n)));break;case 12:if(h&2048){ei(n,i,a,l),n=i.stateNode;try{var f=i.memoizedProps,T=f.id,b=f.onPostCommit;typeof b=="function"&&b(T,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(O){st(i,i.return,O)}}else ei(n,i,a,l);break;case 13:ei(n,i,a,l);break;case 23:break;case 22:f=i.stateNode,T=i.alternate,i.memoizedState!==null?f._visibility&2?ei(n,i,a,l):$l(n,i):f._visibility&2?ei(n,i,a,l):(f._visibility|=2,To(n,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&kf(T,i);break;case 24:ei(n,i,a,l),h&2048&&Lf(i.alternate,i);break;default:ei(n,i,a,l)}}function To(n,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var f=n,T=i,b=a,O=l,G=T.flags;switch(T.tag){case 0:case 11:case 15:To(f,T,b,O,h),Hl(8,T);break;case 23:break;case 22:var Z=T.stateNode;T.memoizedState!==null?Z._visibility&2?To(f,T,b,O,h):$l(f,T):(Z._visibility|=2,To(f,T,b,O,h)),h&&G&2048&&kf(T.alternate,T);break;case 24:To(f,T,b,O,h),h&&G&2048&&Lf(T.alternate,T);break;default:To(f,T,b,O,h)}i=i.sibling}}function $l(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,l=i,h=l.flags;switch(l.tag){case 22:$l(a,l),h&2048&&kf(l.alternate,l);break;case 24:$l(a,l),h&2048&&Lf(l.alternate,l);break;default:$l(a,l)}i=i.sibling}}var Ql=8192;function bo(n){if(n.subtreeFlags&Ql)for(n=n.child;n!==null;)$v(n),n=n.sibling}function $v(n){switch(n.tag){case 26:bo(n),n.flags&Ql&&n.memoizedState!==null&&XA(Dr,n.memoizedState,n.memoizedProps);break;case 5:bo(n);break;case 3:case 4:var i=Dr;Dr=Wc(n.stateNode.containerInfo),bo(n),Dr=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Ql,Ql=16777216,bo(n),Ql=i):bo(n));break;default:bo(n)}}function Qv(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Kl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ht=l,Yv(l,n)}Qv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Kv(n),n=n.sibling}function Kv(n){switch(n.tag){case 0:case 11:case 15:Kl(n),n.flags&2048&&ys(9,n,n.return);break;case 3:Kl(n);break;case 12:Kl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Uc(n)):Kl(n);break;default:Kl(n)}}function Uc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ht=l,Yv(l,n)}Qv(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:ys(8,i,i.return),Uc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Uc(i));break;default:Uc(i)}n=n.sibling}}function Yv(n,i){for(;Ht!==null;){var a=Ht;switch(a.tag){case 0:case 11:case 15:ys(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Nl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ht=l;else e:for(a=n;Ht!==null;){l=Ht;var h=l.sibling,f=l.return;if(zv(l),l===a){Ht=null;break e}if(h!==null){h.return=f,Ht=h;break e}Ht=f}}}var dA={getCacheForType:function(n){var i=un(jt),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},fA=typeof WeakMap=="function"?WeakMap:Map,Ze=0,at=null,Le=null,Ge=0,et=0,Fn=null,Es=!1,wo=!1,Uf=!1,Li=0,_t=0,Ts=0,Ca=0,zf=0,hr=0,Ao=0,Yl=null,In=null,Bf=!1,qf=0,zc=1/0,Bc=null,bs=null,en=0,ws=null,So=null,xo=0,Ff=0,Hf=null,Xv=null,Xl=0,Gf=null;function Hn(){if((Ze&2)!==0&&Ge!==0)return Ge&-Ge;if(J.T!==null){var n=fo;return n!==0?n:Jf()}return br()}function Wv(){hr===0&&(hr=(Ge&536870912)===0||Xe?vi():536870912);var n=cr.current;return n!==null&&(n.flags|=32),hr}function Gn(n,i,a){(n===at&&(et===2||et===9)||n.cancelPendingCommit!==null)&&(Ro(n,0),As(n,Ge,hr,!1)),gn(n,a),((Ze&2)===0||n!==at)&&(n===at&&((Ze&2)===0&&(Ca|=a),_t===4&&As(n,Ge,hr,!1)),ti(n))}function Jv(n,i,a){if((Ze&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&n.expiredLanes)===0||Er(n,i),h=l?gA(n,i):Kf(n,i,!0),f=l;do{if(h===0){wo&&!l&&As(n,i,0,!1);break}else{if(a=n.current.alternate,f&&!mA(a)){h=Kf(n,i,!1),f=!1;continue}if(h===2){if(f=i,n.errorRecoveryDisabledLanes&f)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var b=n;h=Yl;var O=b.current.memoizedState.isDehydrated;if(O&&(Ro(b,T).flags|=256),T=Kf(b,T,!1),T!==2){if(Uf&&!O){b.errorRecoveryDisabledLanes|=f,Ca|=f,h=4;break e}f=In,In=h,f!==null&&(In===null?In=f:In.push.apply(In,f))}h=T}if(f=!1,h!==2)continue}}if(h===1){Ro(n,0),As(n,i,0,!0);break}e:{switch(l=n,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:As(l,i,hr,!Es);break e;case 2:In=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=qf+300-pn(),10<h)){if(As(l,i,hr,!Es),es(l,0,!0)!==0)break e;l.timeoutHandle=R_(Zv.bind(null,l,a,In,Bc,Bf,i,hr,Ca,Ao,Es,f,2,-0,0),h);break e}Zv(l,a,In,Bc,Bf,i,hr,Ca,Ao,Es,f,0,-0,0)}}break}while(!0);ti(n)}function Zv(n,i,a,l,h,f,T,b,O,G,Z,te,Q,Y){if(n.timeoutHandle=-1,te=i.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(ru={stylesheets:null,count:0,unsuspend:YA},$v(i),te=WA(),te!==null)){n.cancelPendingCommit=te(a_.bind(null,n,i,f,a,l,h,T,b,O,Z,1,Q,Y)),As(n,f,T,!G);return}a_(n,i,f,a,l,h,T,b,O)}function mA(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!Un(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function As(n,i,a,l){i&=~zf,i&=~Ca,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var h=i;0<h;){var f=31-Ot(h),T=1<<f;l[f]=-1,h&=~T}a!==0&&Xn(n,a,i)}function qc(){return(Ze&6)===0?(Wl(0),!1):!0}function $f(){if(Le!==null){if(et===0)var n=Le.return;else n=Le,Ni=ba=null,uf(n),_o=null,Bl=0,n=Le;for(;n!==null;)Dv(n.alternate,n),n=n.return;Le=null}}function Ro(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,DA(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),$f(),at=n,Le=a=Ri(n.current,null),Ge=i,et=0,Fn=null,Es=!1,wo=Er(n,i),Uf=!1,Ao=hr=zf=Ca=Ts=_t=0,In=Yl=null,Bf=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var h=31-Ot(l),f=1<<h;i|=n[h],l&=~f}return Li=i,cc(),a}function e_(n,i){Ve=null,J.H=Ic,i===Dl||i===_c?(i=yy(),et=3):i===my?(i=yy(),et=4):et=i===vv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Fn=i,Le===null&&(_t=1,Pc(n,ar(i,n.current)))}function t_(){var n=J.H;return J.H=Ic,n===null?Ic:n}function n_(){var n=J.A;return J.A=dA,n}function Qf(){_t=4,Es||(Ge&4194048)!==Ge&&cr.current!==null||(wo=!0),(Ts&134217727)===0&&(Ca&134217727)===0||at===null||As(at,Ge,hr,!1)}function Kf(n,i,a){var l=Ze;Ze|=2;var h=t_(),f=n_();(at!==n||Ge!==i)&&(Bc=null,Ro(n,i)),i=!1;var T=_t;e:do try{if(et!==0&&Le!==null){var b=Le,O=Fn;switch(et){case 8:$f(),T=6;break e;case 3:case 2:case 9:case 6:cr.current===null&&(i=!0);var G=et;if(et=0,Fn=null,Co(n,b,O,G),a&&wo){T=0;break e}break;default:G=et,et=0,Fn=null,Co(n,b,O,G)}}pA(),T=_t;break}catch(Z){e_(n,Z)}while(!0);return i&&n.shellSuspendCounter++,Ni=ba=null,Ze=l,J.H=h,J.A=f,Le===null&&(at=null,Ge=0,cc()),T}function pA(){for(;Le!==null;)r_(Le)}function gA(n,i){var a=Ze;Ze|=2;var l=t_(),h=n_();at!==n||Ge!==i?(Bc=null,zc=pn()+500,Ro(n,i)):wo=Er(n,i);e:do try{if(et!==0&&Le!==null){i=Le;var f=Fn;t:switch(et){case 1:et=0,Fn=null,Co(n,i,f,1);break;case 2:case 9:if(py(f)){et=0,Fn=null,i_(i);break}i=function(){et!==2&&et!==9||at!==n||(et=7),ti(n)},f.then(i,i);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:py(f)?(et=0,Fn=null,i_(i)):(et=0,Fn=null,Co(n,i,f,7));break;case 5:var T=null;switch(Le.tag){case 26:T=Le.memoizedState;case 5:case 27:var b=Le;if(!T||U_(T)){et=0,Fn=null;var O=b.sibling;if(O!==null)Le=O;else{var G=b.return;G!==null?(Le=G,Fc(G)):Le=null}break t}}et=0,Fn=null,Co(n,i,f,5);break;case 6:et=0,Fn=null,Co(n,i,f,6);break;case 8:$f(),_t=6;break e;default:throw Error(s(462))}}yA();break}catch(Z){e_(n,Z)}while(!0);return Ni=ba=null,J.H=l,J.A=h,Ze=a,Le!==null?0:(at=null,Ge=0,cc(),_t)}function yA(){for(;Le!==null&&!Ji();)r_(Le)}function r_(n){var i=Nv(n.alternate,n,Li);n.memoizedProps=n.pendingProps,i===null?Fc(n):Le=i}function i_(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=Av(a,i,i.pendingProps,i.type,void 0,Ge);break;case 11:i=Av(a,i,i.pendingProps,i.type.render,i.ref,Ge);break;case 5:uf(i);default:Dv(a,i),i=Le=sy(i,Li),i=Nv(a,i,Li)}n.memoizedProps=n.pendingProps,i===null?Fc(n):Le=i}function Co(n,i,a,l){Ni=ba=null,uf(i),_o=null,Bl=0;var h=i.return;try{if(aA(n,h,i,a,Ge)){_t=1,Pc(n,ar(a,n.current)),Le=null;return}}catch(f){if(h!==null)throw Le=h,f;_t=1,Pc(n,ar(a,n.current)),Le=null;return}i.flags&32768?(Xe||l===1?n=!0:wo||(Ge&536870912)!==0?n=!1:(Es=n=!0,(l===2||l===9||l===3||l===6)&&(l=cr.current,l!==null&&l.tag===13&&(l.flags|=16384))),s_(i,n)):Fc(i)}function Fc(n){var i=n;do{if((i.flags&32768)!==0){s_(i,Es);return}n=i.return;var a=lA(i.alternate,i,Li);if(a!==null){Le=a;return}if(i=i.sibling,i!==null){Le=i;return}Le=i=n}while(i!==null);_t===0&&(_t=5)}function s_(n,i){do{var a=uA(n.alternate,n);if(a!==null){a.flags&=32767,Le=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){Le=n;return}Le=n=a}while(n!==null);_t=6,Le=null}function a_(n,i,a,l,h,f,T,b,O){n.cancelPendingCommit=null;do Hc();while(en!==0);if((Ze&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=kd,ta(n,a,f,T,b,O),n===at&&(Le=at=null,Ge=0),So=i,ws=n,xo=a,Ff=f,Hf=h,Xv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,TA(_r,function(){return h_(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=J.T,J.T=null,h=le.p,le.p=2,T=Ze,Ze|=4;try{cA(n,i,a)}finally{Ze=T,le.p=h,J.T=l}}en=1,o_(),l_(),u_()}}function o_(){if(en===1){en=0;var n=ws,i=So,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=J.T,J.T=null;var l=le.p;le.p=2;var h=Ze;Ze|=4;try{Fv(i,n);var f=am,T=Yg(n.containerInfo),b=f.focusedElem,O=f.selectionRange;if(T!==b&&b&&b.ownerDocument&&Kg(b.ownerDocument.documentElement,b)){if(O!==null&&Dd(b)){var G=O.start,Z=O.end;if(Z===void 0&&(Z=G),"selectionStart"in b)b.selectionStart=G,b.selectionEnd=Math.min(Z,b.value.length);else{var te=b.ownerDocument||document,Q=te&&te.defaultView||window;if(Q.getSelection){var Y=Q.getSelection(),Ce=b.textContent.length,be=Math.min(O.start,Ce),it=O.end===void 0?be:Math.min(O.end,Ce);!Y.extend&&be>it&&(T=it,it=be,be=T);var z=Qg(b,be),j=Qg(b,it);if(z&&j&&(Y.rangeCount!==1||Y.anchorNode!==z.node||Y.anchorOffset!==z.offset||Y.focusNode!==j.node||Y.focusOffset!==j.offset)){var F=te.createRange();F.setStart(z.node,z.offset),Y.removeAllRanges(),be>it?(Y.addRange(F),Y.extend(j.node,j.offset)):(F.setEnd(j.node,j.offset),Y.addRange(F))}}}}for(te=[],Y=b;Y=Y.parentNode;)Y.nodeType===1&&te.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<te.length;b++){var ee=te[b];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}nh=!!sm,am=sm=null}finally{Ze=h,le.p=l,J.T=a}}n.current=i,en=2}}function l_(){if(en===2){en=0;var n=ws,i=So,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=J.T,J.T=null;var l=le.p;le.p=2;var h=Ze;Ze|=4;try{Uv(n,i.alternate,i)}finally{Ze=h,le.p=l,J.T=a}}en=3}}function u_(){if(en===4||en===3){en=0,Zi();var n=ws,i=So,a=xo,l=Xv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?en=5:(en=0,So=ws=null,c_(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(bs=null),ts(a),i=i.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(ut,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=J.T,h=le.p,le.p=2,J.T=null;try{for(var f=n.onRecoverableError,T=0;T<l.length;T++){var b=l[T];f(b.value,{componentStack:b.stack})}}finally{J.T=i,le.p=h}}(xo&3)!==0&&Hc(),ti(n),h=n.pendingLanes,(a&4194090)!==0&&(h&42)!==0?n===Gf?Xl++:(Xl=0,Gf=n):Xl=0,Wl(0)}}function c_(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Nl(i)))}function Hc(n){return o_(),l_(),u_(),h_()}function h_(){if(en!==5)return!1;var n=ws,i=Ff;Ff=0;var a=ts(xo),l=J.T,h=le.p;try{le.p=32>a?32:a,J.T=null,a=Hf,Hf=null;var f=ws,T=xo;if(en=0,So=ws=null,xo=0,(Ze&6)!==0)throw Error(s(331));var b=Ze;if(Ze|=4,Kv(f.current),Gv(f,f.current,T,a),Ze=b,Wl(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(ut,f)}catch{}return!0}finally{le.p=h,J.T=l,c_(n,i)}}function d_(n,i,a){i=ar(a,i),i=wf(n.stateNode,i,2),n=fs(n,i,2),n!==null&&(gn(n,2),ti(n))}function st(n,i,a){if(n.tag===3)d_(n,n,a);else for(;i!==null;){if(i.tag===3){d_(i,n,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(bs===null||!bs.has(l))){n=ar(a,n),a=gv(2),l=fs(i,a,2),l!==null&&(yv(a,l,i,n),gn(l,2),ti(l));break}}i=i.return}}function Yf(n,i,a){var l=n.pingCache;if(l===null){l=n.pingCache=new fA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Uf=!0,h.add(a),n=vA.bind(null,n,i,a),i.then(n,n))}function vA(n,i,a){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,at===n&&(Ge&a)===a&&(_t===4||_t===3&&(Ge&62914560)===Ge&&300>pn()-qf?(Ze&2)===0&&Ro(n,0):zf|=a,Ao===Ge&&(Ao=0)),ti(n)}function f_(n,i){i===0&&(i=_i()),n=lo(n,i),n!==null&&(gn(n,i),ti(n))}function _A(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),f_(n,a)}function EA(n,i){var a=0;switch(n.tag){case 13:var l=n.stateNode,h=n.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),f_(n,a)}function TA(n,i){return fi(n,i)}var Gc=null,Io=null,Xf=!1,$c=!1,Wf=!1,Ia=0;function ti(n){n!==Io&&n.next===null&&(Io===null?Gc=Io=n:Io=Io.next=n),$c=!0,Xf||(Xf=!0,wA())}function Wl(n,i){if(!Wf&&$c){Wf=!0;do for(var a=!1,l=Gc;l!==null;){if(n!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var T=l.suspendedLanes,b=l.pingedLanes;f=(1<<31-Ot(42|n)+1)-1,f&=h&~(T&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,y_(l,f))}else f=Ge,f=es(l,l===at?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Er(l,f)||(a=!0,y_(l,f));l=l.next}while(a);Wf=!1}}function bA(){m_()}function m_(){$c=Xf=!1;var n=0;Ia!==0&&(OA()&&(n=Ia),Ia=0);for(var i=pn(),a=null,l=Gc;l!==null;){var h=l.next,f=p_(l,i);f===0?(l.next=null,a===null?Gc=h:a.next=h,h===null&&(Io=a)):(a=l,(n!==0||(f&3)!==0)&&($c=!0)),l=h}Wl(n)}function p_(n,i){for(var a=n.suspendedLanes,l=n.pingedLanes,h=n.expirationTimes,f=n.pendingLanes&-62914561;0<f;){var T=31-Ot(f),b=1<<T,O=h[T];O===-1?((b&a)===0||(b&l)!==0)&&(h[T]=Tr(b,i)):O<=i&&(n.expiredLanes|=b),f&=~b}if(i=at,a=Ge,a=es(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===i&&(et===2||et===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Br(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Er(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(l!==null&&Br(l),ts(a)){case 2:case 8:a=vr;break;case 32:a=_r;break;case 268435456:a=mi;break;default:a=_r}return l=g_.bind(null,n),a=fi(a,l),n.callbackPriority=i,n.callbackNode=a,i}return l!==null&&l!==null&&Br(l),n.callbackPriority=2,n.callbackNode=null,2}function g_(n,i){if(en!==0&&en!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Hc()&&n.callbackNode!==a)return null;var l=Ge;return l=es(n,n===at?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(Jv(n,l,i),p_(n,pn()),n.callbackNode!=null&&n.callbackNode===a?g_.bind(null,n):null)}function y_(n,i){if(Hc())return null;Jv(n,i,!0)}function wA(){MA(function(){(Ze&6)!==0?fi(ea,bA):m_()})}function Jf(){return Ia===0&&(Ia=vi()),Ia}function v_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:os(""+n)}function __(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function AA(n,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var f=v_((h[gt]||null).action),T=l.submitter;T&&(i=(i=T[gt]||null)?v_(i.formAction):T.getAttribute("formAction"),i!==null&&(f=i,T=null));var b=new me("action","action",null,l,h);n.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ia!==0){var O=T?__(h,T):new FormData(h);vf(a,{pending:!0,data:O,method:h.method,action:f},null,O)}}else typeof f=="function"&&(b.preventDefault(),O=T?__(h,T):new FormData(h),vf(a,{pending:!0,data:O,method:h.method,action:f},f,O))},currentTarget:h}]})}}for(var Zf=0;Zf<jd.length;Zf++){var em=jd[Zf],SA=em.toLowerCase(),xA=em[0].toUpperCase()+em.slice(1);Or(SA,"on"+xA)}Or(Jg,"onAnimationEnd"),Or(Zg,"onAnimationIteration"),Or(ey,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(F1,"onTransitionRun"),Or(H1,"onTransitionStart"),Or(G1,"onTransitionCancel"),Or(ty,"onTransitionEnd"),on("onMouseEnter",["mouseout","mouseover"]),on("onMouseLeave",["mouseout","mouseover"]),on("onPointerEnter",["pointerout","pointerover"]),on("onPointerLeave",["pointerout","pointerover"]),Pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jl));function E_(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],h=l.event;l=l.listeners;e:{var f=void 0;if(i)for(var T=l.length-1;0<=T;T--){var b=l[T],O=b.instance,G=b.currentTarget;if(b=b.listener,O!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=G;try{f(h)}catch(Z){Mc(Z)}h.currentTarget=null,f=O}else for(T=0;T<l.length;T++){if(b=l[T],O=b.instance,G=b.currentTarget,b=b.listener,O!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=G;try{f(h)}catch(Z){Mc(Z)}h.currentTarget=null,f=O}}}}function Ue(n,i){var a=i[ia];a===void 0&&(a=i[ia]=new Set);var l=n+"__bubble";a.has(l)||(T_(i,n,2,!1),a.add(l))}function tm(n,i,a){var l=0;i&&(l|=4),T_(a,n,l,i)}var Qc="_reactListening"+Math.random().toString(36).slice(2);function nm(n){if(!n[Qc]){n[Qc]=!0,sa.forEach(function(a){a!=="selectionchange"&&(RA.has(a)||tm(a,!1,n),tm(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Qc]||(i[Qc]=!0,tm("selectionchange",!1,i))}}function T_(n,i,a,l){switch(G_(i)){case 2:var h=eS;break;case 8:h=tS;break;default:h=gm}a=h.bind(null,i,a,n),h=void 0,!Sn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?n.addEventListener(i,a,{capture:!0,passive:h}):n.addEventListener(i,a,!0):h!==void 0?n.addEventListener(i,a,{passive:h}):n.addEventListener(i,a,!1)}function rm(n,i,a,l,h){var f=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var b=l.stateNode.containerInfo;if(b===h)break;if(T===4)for(T=l.return;T!==null;){var O=T.tag;if((O===3||O===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;b!==null;){if(T=wr(b),T===null)return;if(O=T.tag,O===5||O===6||O===26||O===27){l=f=T;continue e}b=b.parentNode}}l=l.return}us(function(){var G=f,Z=vn(a),te=[];e:{var Q=ny.get(n);if(Q!==void 0){var Y=me,Ce=n;switch(n){case"keypress":if(ir(a)===0)break e;case"keydown":case"keyup":Y=ro;break;case"focusin":Ce="focus",Y=Nr;break;case"focusout":Ce="blur",Y=Nr;break;case"beforeblur":case"afterblur":Y=Nr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=_n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=eo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=rc;break;case Jg:case Zg:case ey:Y=to;break;case ty:Y=sc;break;case"scroll":case"scrollend":Y=Mt;break;case"wheel":Y=io;break;case"copy":case"cut":case"paste":Y=no;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=bl;break;case"toggle":case"beforetoggle":Y=oc}var be=(i&4)!==0,it=!be&&(n==="scroll"||n==="scrollend"),z=be?Q!==null?Q+"Capture":null:Q;be=[];for(var j=G,F;j!==null;){var ee=j;if(F=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||F===null||z===null||(ee=Qr(j,z),ee!=null&&be.push(Zl(j,ee,F))),it)break;j=j.return}0<be.length&&(Q=new Y(Q,Ce,null,a,Z),te.push({event:Q,listeners:be}))}}if((i&7)===0){e:{if(Q=n==="mouseover"||n==="pointerover",Y=n==="mouseout"||n==="pointerout",Q&&a!==xr&&(Ce=a.relatedTarget||a.fromElement)&&(wr(Ce)||Ce[An]))break e;if((Y||Q)&&(Q=Z.window===Z?Z:(Q=Z.ownerDocument)?Q.defaultView||Q.parentWindow:window,Y?(Ce=a.relatedTarget||a.toElement,Y=G,Ce=Ce?wr(Ce):null,Ce!==null&&(it=u(Ce),be=Ce.tag,Ce!==it||be!==5&&be!==27&&be!==6)&&(Ce=null)):(Y=null,Ce=G),Y!==Ce)){if(be=_n,ee="onMouseLeave",z="onMouseEnter",j="mouse",(n==="pointerout"||n==="pointerover")&&(be=bl,ee="onPointerLeave",z="onPointerEnter",j="pointer"),it=Y==null?Q:Kt(Y),F=Ce==null?Q:Kt(Ce),Q=new be(ee,j+"leave",Y,a,Z),Q.target=it,Q.relatedTarget=F,ee=null,wr(Z)===G&&(be=new be(z,j+"enter",Ce,a,Z),be.target=F,be.relatedTarget=it,ee=be),it=ee,Y&&Ce)t:{for(be=Y,z=Ce,j=0,F=be;F;F=No(F))j++;for(F=0,ee=z;ee;ee=No(ee))F++;for(;0<j-F;)be=No(be),j--;for(;0<F-j;)z=No(z),F--;for(;j--;){if(be===z||z!==null&&be===z.alternate)break t;be=No(be),z=No(z)}be=null}else be=null;Y!==null&&b_(te,Q,Y,be,!1),Ce!==null&&it!==null&&b_(te,it,Ce,be,!0)}}e:{if(Q=G?Kt(G):window,Y=Q.nodeName&&Q.nodeName.toLowerCase(),Y==="select"||Y==="input"&&Q.type==="file")var pe=Bg;else if(Vt(Q))if(qg)pe=z1;else{pe=L1;var ke=k1}else Y=Q.nodeName,!Y||Y.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?G&&ha(G.elementType)&&(pe=Bg):pe=U1;if(pe&&(pe=pe(n,G))){xi(te,pe,a,Z);break e}ke&&ke(n,Q,G),n==="focusout"&&G&&Q.type==="number"&&G.memoizedProps.value!=null&&Ar(Q,"number",Q.value)}switch(ke=G?Kt(G):window,n){case"focusin":(Vt(ke)||ke.contentEditable==="true")&&(so=ke,Md=G,Sl=null);break;case"focusout":Sl=Md=so=null;break;case"mousedown":Pd=!0;break;case"contextmenu":case"mouseup":case"dragend":Pd=!1,Xg(te,a,Z);break;case"selectionchange":if(q1)break;case"keydown":case"keyup":Xg(te,a,Z)}var _e;if(Yr)e:{switch(n){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Fe?W(n,a)&&(we="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(_&&a.locale!=="ko"&&(Fe||we!=="onCompositionStart"?we==="onCompositionEnd"&&Fe&&(_e=Ai()):(rr=Z,kn="value"in rr?rr.value:rr.textContent,Fe=!0)),ke=Kc(G,we),0<ke.length&&(we=new El(we,n,null,a,Z),te.push({event:we,listeners:ke}),_e?we.data=_e:(_e=ue(a),_e!==null&&(we.data=_e)))),(_e=y?Pt(n,a):He(n,a))&&(we=Kc(G,"onBeforeInput"),0<we.length&&(ke=new El("onBeforeInput","beforeinput",null,a,Z),te.push({event:ke,listeners:we}),ke.data=_e)),AA(te,n,G,a,Z)}E_(te,i)})}function Zl(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Kc(n,i){for(var a=i+"Capture",l=[];n!==null;){var h=n,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Qr(n,a),h!=null&&l.unshift(Zl(n,h,f)),h=Qr(n,i),h!=null&&l.push(Zl(n,h,f))),n.tag===3)return l;n=n.return}return[]}function No(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function b_(n,i,a,l,h){for(var f=i._reactName,T=[];a!==null&&a!==l;){var b=a,O=b.alternate,G=b.stateNode;if(b=b.tag,O!==null&&O===l)break;b!==5&&b!==26&&b!==27||G===null||(O=G,h?(G=Qr(a,f),G!=null&&T.unshift(Zl(a,G,O))):h||(G=Qr(a,f),G!=null&&T.push(Zl(a,G,O)))),a=a.return}T.length!==0&&n.push({event:i,listeners:T})}var CA=/\r\n?/g,IA=/\u0000|\uFFFD/g;function w_(n){return(typeof n=="string"?n:""+n).replace(CA,`
`).replace(IA,"")}function A_(n,i){return i=w_(i),w_(n)===i}function Yc(){}function rt(n,i,a,l,h,f){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Dt(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Dt(n,""+l);break;case"className":Jn(n,"class",l);break;case"tabIndex":Jn(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Jn(n,a,l);break;case"style":ca(n,l,f);break;case"data":if(i!=="object"){Jn(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=os(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&rt(n,i,"name",h.name,h,null),rt(n,i,"formEncType",h.formEncType,h,null),rt(n,i,"formMethod",h.formMethod,h,null),rt(n,i,"formTarget",h.formTarget,h,null)):(rt(n,i,"encType",h.encType,h,null),rt(n,i,"method",h.method,h,null),rt(n,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=os(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Yc);break;case"onScroll":l!=null&&Ue("scroll",n);break;case"onScrollEnd":l!=null&&Ue("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=os(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Ue("beforetoggle",n),Ue("toggle",n),Gr(n,"popover",l);break;case"xlinkActuate":xt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Gr(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=yl.get(a)||a,Gr(n,a,l))}}function im(n,i,a,l,h,f){switch(a){case"style":ca(n,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Dt(n,l):(typeof l=="number"||typeof l=="bigint")&&Dt(n,""+l);break;case"onScroll":l!=null&&Ue("scroll",n);break;case"onScrollEnd":l!=null&&Ue("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Yc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ns.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=n[gt]||null,f=f!=null?f[a]:null,typeof f=="function"&&n.removeEventListener(i,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,l,h);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Gr(n,a,l)}}}function tn(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",n),Ue("load",n);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var T=a[f];if(T!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:rt(n,i,f,T,a,null)}}h&&rt(n,i,"srcSet",a.srcSet,a,null),l&&rt(n,i,"src",a.src,a,null);return;case"input":Ue("invalid",n);var b=f=T=h=null,O=null,G=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":T=Z;break;case"checked":O=Z;break;case"defaultChecked":G=Z;break;case"value":f=Z;break;case"defaultValue":b=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,i));break;default:rt(n,i,l,Z,a,null)}}wi(n,f,b,O,G,T,h,!1),as(n);return;case"select":Ue("invalid",n),l=T=f=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":f=b;break;case"defaultValue":T=b;break;case"multiple":l=b;default:rt(n,i,h,b,a,null)}i=f,a=T,n.multiple=!!l,i!=null?Sr(n,!!l,i,!1):a!=null&&Sr(n,!!l,a,!0);return;case"textarea":Ue("invalid",n),f=h=l=null;for(T in a)if(a.hasOwnProperty(T)&&(b=a[T],b!=null))switch(T){case"value":l=b;break;case"defaultValue":h=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:rt(n,i,T,b,a,null)}er(n,l,h,f),as(n);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(l=a[O],l!=null))switch(O){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:rt(n,i,O,l,a,null)}return;case"dialog":Ue("beforetoggle",n),Ue("toggle",n),Ue("cancel",n),Ue("close",n);break;case"iframe":case"object":Ue("load",n);break;case"video":case"audio":for(l=0;l<Jl.length;l++)Ue(Jl[l],n);break;case"image":Ue("error",n),Ue("load",n);break;case"details":Ue("toggle",n);break;case"embed":case"source":case"link":Ue("error",n),Ue("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:rt(n,i,G,l,a,null)}return;default:if(ha(i)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&im(n,i,Z,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&rt(n,i,b,l,a,null))}function NA(n,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,T=null,b=null,O=null,G=null,Z=null;for(Y in a){var te=a[Y];if(a.hasOwnProperty(Y)&&te!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":O=te;default:l.hasOwnProperty(Y)||rt(n,i,Y,null,l,te)}}for(var Q in l){var Y=l[Q];if(te=a[Q],l.hasOwnProperty(Q)&&(Y!=null||te!=null))switch(Q){case"type":f=Y;break;case"name":h=Y;break;case"checked":G=Y;break;case"defaultChecked":Z=Y;break;case"value":T=Y;break;case"defaultValue":b=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==te&&rt(n,i,Q,Y,l,te)}}yn(n,T,b,O,G,Z,f,h);return;case"select":Y=T=b=Q=null;for(f in a)if(O=a[f],a.hasOwnProperty(f)&&O!=null)switch(f){case"value":break;case"multiple":Y=O;default:l.hasOwnProperty(f)||rt(n,i,f,null,l,O)}for(h in l)if(f=l[h],O=a[h],l.hasOwnProperty(h)&&(f!=null||O!=null))switch(h){case"value":Q=f;break;case"defaultValue":b=f;break;case"multiple":T=f;default:f!==O&&rt(n,i,h,f,l,O)}i=b,a=T,l=Y,Q!=null?Sr(n,!!a,Q,!1):!!l!=!!a&&(i!=null?Sr(n,!!a,i,!0):Sr(n,!!a,a?[]:"",!1));return;case"textarea":Y=Q=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:rt(n,i,b,null,l,h)}for(T in l)if(h=l[T],f=a[T],l.hasOwnProperty(T)&&(h!=null||f!=null))switch(T){case"value":Q=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&rt(n,i,T,h,l,f)}We(n,Q,Y);return;case"option":for(var Ce in a)if(Q=a[Ce],a.hasOwnProperty(Ce)&&Q!=null&&!l.hasOwnProperty(Ce))switch(Ce){case"selected":n.selected=!1;break;default:rt(n,i,Ce,null,l,Q)}for(O in l)if(Q=l[O],Y=a[O],l.hasOwnProperty(O)&&Q!==Y&&(Q!=null||Y!=null))switch(O){case"selected":n.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:rt(n,i,O,Q,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)Q=a[be],a.hasOwnProperty(be)&&Q!=null&&!l.hasOwnProperty(be)&&rt(n,i,be,null,l,Q);for(G in l)if(Q=l[G],Y=a[G],l.hasOwnProperty(G)&&Q!==Y&&(Q!=null||Y!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:rt(n,i,G,Q,l,Y)}return;default:if(ha(i)){for(var it in a)Q=a[it],a.hasOwnProperty(it)&&Q!==void 0&&!l.hasOwnProperty(it)&&im(n,i,it,void 0,l,Q);for(Z in l)Q=l[Z],Y=a[Z],!l.hasOwnProperty(Z)||Q===Y||Q===void 0&&Y===void 0||im(n,i,Z,Q,l,Y);return}}for(var z in a)Q=a[z],a.hasOwnProperty(z)&&Q!=null&&!l.hasOwnProperty(z)&&rt(n,i,z,null,l,Q);for(te in l)Q=l[te],Y=a[te],!l.hasOwnProperty(te)||Q===Y||Q==null&&Y==null||rt(n,i,te,Q,l,Y)}var sm=null,am=null;function Xc(n){return n.nodeType===9?n:n.ownerDocument}function S_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function x_(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function om(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var lm=null;function OA(){var n=window.event;return n&&n.type==="popstate"?n===lm?!1:(lm=n,!0):(lm=null,!1)}var R_=typeof setTimeout=="function"?setTimeout:void 0,DA=typeof clearTimeout=="function"?clearTimeout:void 0,C_=typeof Promise=="function"?Promise:void 0,MA=typeof queueMicrotask=="function"?queueMicrotask:typeof C_<"u"?function(n){return C_.resolve(null).then(n).catch(PA)}:R_;function PA(n){setTimeout(function(){throw n})}function Ss(n){return n==="head"}function I_(n,i){var a=i,l=0,h=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var T=n.ownerDocument;if(a&1&&eu(T.documentElement),a&2&&eu(T.body),a&4)for(a=T.head,eu(a),T=a.firstChild;T;){var b=T.nextSibling,O=T.nodeName;T[Ei]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=b}}if(h===0){n.removeChild(f),lu(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);lu(i)}function um(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":um(a),Hr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function VA(n,i,a,l){for(;n.nodeType===1;){var h=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Ei])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(f=n.getAttribute("rel"),f==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(f!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(f=n.getAttribute("src"),(f!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===f)return n}else return n;if(n=Mr(n.nextSibling),n===null)break}return null}function jA(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Mr(n.nextSibling),n===null))return null;return n}function cm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function kA(n,i){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Mr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var hm=null;function N_(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function O_(n,i,a){switch(i=Xc(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function eu(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Hr(n)}var dr=new Map,D_=new Set;function Wc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ui=le.d;le.d={f:LA,r:UA,D:zA,C:BA,L:qA,m:FA,X:GA,S:HA,M:$A};function LA(){var n=Ui.f(),i=qc();return n||i}function UA(n){var i=Wn(n);i!==null&&i.tag===5&&i.type==="form"?Jy(i):Ui.r(n)}var Oo=typeof document>"u"?null:document;function M_(n,i,a){var l=Oo;if(l&&typeof i=="string"&&i){var h=yt(i);h='link[rel="'+n+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),D_.has(h)||(D_.add(h),n={rel:n,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),tn(i,"link",n),dt(i),l.head.appendChild(i)))}}function zA(n){Ui.D(n),M_("dns-prefetch",n,null)}function BA(n,i){Ui.C(n,i),M_("preconnect",n,i)}function qA(n,i,a){Ui.L(n,i,a);var l=Oo;if(l&&n&&i){var h='link[rel="preload"][as="'+yt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+yt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+yt(a.imageSizes)+'"]')):h+='[href="'+yt(n)+'"]';var f=h;switch(i){case"style":f=Do(n);break;case"script":f=Mo(n)}dr.has(f)||(n=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),dr.set(f,n),l.querySelector(h)!==null||i==="style"&&l.querySelector(tu(f))||i==="script"&&l.querySelector(nu(f))||(i=l.createElement("link"),tn(i,"link",n),dt(i),l.head.appendChild(i)))}}function FA(n,i){Ui.m(n,i);var a=Oo;if(a&&n){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+yt(l)+'"][href="'+yt(n)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Mo(n)}if(!dr.has(f)&&(n=E({rel:"modulepreload",href:n},i),dr.set(f,n),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(nu(f)))return}l=a.createElement("link"),tn(l,"link",n),dt(l),a.head.appendChild(l)}}}function HA(n,i,a){Ui.S(n,i,a);var l=Oo;if(l&&n){var h=Yt(l).hoistableStyles,f=Do(n);i=i||"default";var T=h.get(f);if(!T){var b={loading:0,preload:null};if(T=l.querySelector(tu(f)))b.loading=5;else{n=E({rel:"stylesheet",href:n,"data-precedence":i},a),(a=dr.get(f))&&dm(n,a);var O=T=l.createElement("link");dt(O),tn(O,"link",n),O._p=new Promise(function(G,Z){O.onload=G,O.onerror=Z}),O.addEventListener("load",function(){b.loading|=1}),O.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Jc(T,i,l)}T={type:"stylesheet",instance:T,count:1,state:b},h.set(f,T)}}}function GA(n,i){Ui.X(n,i);var a=Oo;if(a&&n){var l=Yt(a).hoistableScripts,h=Mo(n),f=l.get(h);f||(f=a.querySelector(nu(h)),f||(n=E({src:n,async:!0},i),(i=dr.get(h))&&fm(n,i),f=a.createElement("script"),dt(f),tn(f,"link",n),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function $A(n,i){Ui.M(n,i);var a=Oo;if(a&&n){var l=Yt(a).hoistableScripts,h=Mo(n),f=l.get(h);f||(f=a.querySelector(nu(h)),f||(n=E({src:n,async:!0,type:"module"},i),(i=dr.get(h))&&fm(n,i),f=a.createElement("script"),dt(f),tn(f,"link",n),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function P_(n,i,a,l){var h=(h=Re.current)?Wc(h):null;if(!h)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Do(a.href),a=Yt(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Do(a.href);var f=Yt(h).hoistableStyles,T=f.get(n);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(n,T),(f=h.querySelector(tu(n)))&&!f._p&&(T.instance=f,T.state.loading=5),dr.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},dr.set(n,a),f||QA(h,n,a,T.state))),i&&l===null)throw Error(s(528,""));return T}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Mo(a),a=Yt(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Do(n){return'href="'+yt(n)+'"'}function tu(n){return'link[rel="stylesheet"]['+n+"]"}function V_(n){return E({},n,{"data-precedence":n.precedence,precedence:null})}function QA(n,i,a,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),tn(i,"link",a),dt(i),n.head.appendChild(i))}function Mo(n){return'[src="'+yt(n)+'"]'}function nu(n){return"script[async]"+n}function j_(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+yt(a.href)+'"]');if(l)return i.instance=l,dt(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),dt(l),tn(l,"style",h),Jc(l,a.precedence,n),i.instance=l;case"stylesheet":h=Do(a.href);var f=n.querySelector(tu(h));if(f)return i.state.loading|=4,i.instance=f,dt(f),f;l=V_(a),(h=dr.get(h))&&dm(l,h),f=(n.ownerDocument||n).createElement("link"),dt(f);var T=f;return T._p=new Promise(function(b,O){T.onload=b,T.onerror=O}),tn(f,"link",l),i.state.loading|=4,Jc(f,a.precedence,n),i.instance=f;case"script":return f=Mo(a.src),(h=n.querySelector(nu(f)))?(i.instance=h,dt(h),h):(l=a,(h=dr.get(f))&&(l=E({},a),fm(l,h)),n=n.ownerDocument||n,h=n.createElement("script"),dt(h),tn(h,"link",l),n.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Jc(l,a.precedence,n));return i.instance}function Jc(n,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,T=0;T<l.length;T++){var b=l[T];if(b.dataset.precedence===i)f=b;else if(f!==h)break}f?f.parentNode.insertBefore(n,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function dm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function fm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Zc=null;function k_(n,i,a){if(Zc===null){var l=new Map,h=Zc=new Map;h.set(a,l)}else h=Zc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),h=0;h<a.length;h++){var f=a[h];if(!(f[Ei]||f[Et]||n==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var T=f.getAttribute(i)||"";T=n+T;var b=l.get(T);b?b.push(f):l.set(T,[f])}}return l}function L_(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function KA(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function U_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var ru=null;function YA(){}function XA(n,i,a){if(ru===null)throw Error(s(475));var l=ru;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Do(a.href),f=n.querySelector(tu(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=eh.bind(l),n.then(l,l)),i.state.loading|=4,i.instance=f,dt(f);return}f=n.ownerDocument||n,a=V_(a),(h=dr.get(h))&&dm(a,h),f=f.createElement("link"),dt(f);var T=f;T._p=new Promise(function(b,O){T.onload=b,T.onerror=O}),tn(f,"link",a),i.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=eh.bind(l),n.addEventListener("load",i),n.addEventListener("error",i))}}function WA(){if(ru===null)throw Error(s(475));var n=ru;return n.stylesheets&&n.count===0&&mm(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&mm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function eh(){if(this.count--,this.count===0){if(this.stylesheets)mm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var th=null;function mm(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,th=new Map,i.forEach(JA,n),th=null,eh.call(n))}function JA(n,i){if(!(i.state.loading&4)){var a=th.get(n);if(a)var l=a.get(null);else{a=new Map,th.set(n,a);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var T=h[f];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),l=T)}l&&a.set(null,l)}h=i.instance,T=h.getAttribute("data-precedence"),f=a.get(T)||l,f===l&&a.set(null,h),a.set(T,h),this.count++,l=eh.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),i.state.loading|=4}}var iu={$$typeof:se,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function ZA(n,i,a,l,h,f,T,b){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mn(0),this.hiddenUpdates=Mn(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function z_(n,i,a,l,h,f,T,b,O,G,Z,te){return n=new ZA(n,i,a,T,b,O,G,te),i=1,f===!0&&(i|=24),f=zn(3,null,null,i),n.current=f,f.stateNode=n,i=Kd(),i.refCount++,n.pooledCache=i,i.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:i},Jd(f),n}function B_(n){return n?(n=uo,n):uo}function q_(n,i,a,l,h,f){h=B_(h),l.context===null?l.context=h:l.pendingContext=h,l=ds(i),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=fs(n,l,i),a!==null&&(Gn(a,n,i),Pl(a,n,i))}function F_(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function pm(n,i){F_(n,i),(n=n.alternate)&&F_(n,i)}function H_(n){if(n.tag===13){var i=lo(n,67108864);i!==null&&Gn(i,n,67108864),pm(n,67108864)}}var nh=!0;function eS(n,i,a,l){var h=J.T;J.T=null;var f=le.p;try{le.p=2,gm(n,i,a,l)}finally{le.p=f,J.T=h}}function tS(n,i,a,l){var h=J.T;J.T=null;var f=le.p;try{le.p=8,gm(n,i,a,l)}finally{le.p=f,J.T=h}}function gm(n,i,a,l){if(nh){var h=ym(l);if(h===null)rm(n,i,l,rh,a),$_(n,l);else if(rS(h,n,i,a,l))l.stopPropagation();else if($_(n,l),i&4&&-1<nS.indexOf(n)){for(;h!==null;){var f=Wn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var T=Dn(f.pendingLanes);if(T!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;T;){var O=1<<31-Ot(T);b.entanglements[1]|=O,T&=~O}ti(f),(Ze&6)===0&&(zc=pn()+500,Wl(0))}}break;case 13:b=lo(f,2),b!==null&&Gn(b,f,2),qc(),pm(f,2)}if(f=ym(l),f===null&&rm(n,i,l,rh,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else rm(n,i,l,null,a)}}function ym(n){return n=vn(n),vm(n)}var rh=null;function vm(n){if(rh=null,n=wr(n),n!==null){var i=u(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=d(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return rh=n,null}function G_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fl()){case ea:return 2;case vr:return 8;case _r:case Qa:return 32;case mi:return 268435456;default:return 32}default:return 32}}var _m=!1,xs=null,Rs=null,Cs=null,su=new Map,au=new Map,Is=[],nS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $_(n,i){switch(n){case"focusin":case"focusout":xs=null;break;case"dragenter":case"dragleave":Rs=null;break;case"mouseover":case"mouseout":Cs=null;break;case"pointerover":case"pointerout":su.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":au.delete(i.pointerId)}}function ou(n,i,a,l,h,f){return n===null||n.nativeEvent!==f?(n={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},i!==null&&(i=Wn(i),i!==null&&H_(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),n)}function rS(n,i,a,l,h){switch(i){case"focusin":return xs=ou(xs,n,i,a,l,h),!0;case"dragenter":return Rs=ou(Rs,n,i,a,l,h),!0;case"mouseover":return Cs=ou(Cs,n,i,a,l,h),!0;case"pointerover":var f=h.pointerId;return su.set(f,ou(su.get(f)||null,n,i,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,au.set(f,ou(au.get(f)||null,n,i,a,l,h)),!0}return!1}function Q_(n){var i=wr(n.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){n.blockedOn=i,ra(n.priority,function(){if(a.tag===13){var l=Hn();l=Fr(l);var h=lo(a,l);h!==null&&Gn(h,a,l),pm(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ih(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=ym(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);xr=l,a.target.dispatchEvent(l),xr=null}else return i=Wn(a),i!==null&&H_(i),n.blockedOn=a,!1;i.shift()}return!0}function K_(n,i,a){ih(n)&&a.delete(i)}function iS(){_m=!1,xs!==null&&ih(xs)&&(xs=null),Rs!==null&&ih(Rs)&&(Rs=null),Cs!==null&&ih(Cs)&&(Cs=null),su.forEach(K_),au.forEach(K_)}function sh(n,i){n.blockedOn===i&&(n.blockedOn=null,_m||(_m=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,iS)))}var ah=null;function Y_(n){ah!==n&&(ah=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ah===n&&(ah=null);for(var i=0;i<n.length;i+=3){var a=n[i],l=n[i+1],h=n[i+2];if(typeof l!="function"){if(vm(l||a)===null)continue;break}var f=Wn(a);f!==null&&(n.splice(i,3),i-=3,vf(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function lu(n){function i(O){return sh(O,n)}xs!==null&&sh(xs,n),Rs!==null&&sh(Rs,n),Cs!==null&&sh(Cs,n),su.forEach(i),au.forEach(i);for(var a=0;a<Is.length;a++){var l=Is[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Is.length&&(a=Is[0],a.blockedOn===null);)Q_(a),a.blockedOn===null&&Is.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],T=h[gt]||null;if(typeof f=="function")T||Y_(a);else if(T){var b=null;if(f&&f.hasAttribute("formAction")){if(h=f,T=f[gt]||null)b=T.formAction;else if(vm(h)!==null)continue}else b=T.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),Y_(a)}}}function Em(n){this._internalRoot=n}oh.prototype.render=Em.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Hn();q_(a,l,n,i,null,null)},oh.prototype.unmount=Em.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;q_(n.current,2,null,n,null,null),qc(),i[An]=null}};function oh(n){this._internalRoot=n}oh.prototype.unstable_scheduleHydration=function(n){if(n){var i=br();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Is.length&&i!==0&&i<Is[a].priority;a++);Is.splice(a,0,n),a===0&&Q_(n)}};var X_=e.version;if(X_!=="19.1.0")throw Error(s(527,X_,"19.1.0"));le.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var sS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lh.isDisabled&&lh.supportsFiber)try{ut=lh.inject(sS),Qe=lh}catch{}}return cu.createRoot=function(n,i){if(!o(n))throw Error(s(299));var a=!1,l="",h=dv,f=fv,T=mv,b=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(b=i.unstable_transitionCallbacks)),i=z_(n,1,!1,null,null,a,l,h,f,T,b,null),n[An]=i.current,nm(n),new Em(i)},cu.hydrateRoot=function(n,i,a){if(!o(n))throw Error(s(299));var l=!1,h="",f=dv,T=fv,b=mv,O=null,G=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(O=a.unstable_transitionCallbacks),a.formState!==void 0&&(G=a.formState)),i=z_(n,1,!0,i,a??null,l,h,f,T,b,O,G),i.context=B_(null),a=i.current,l=Hn(),l=Fr(l),h=ds(l),h.callback=null,fs(a,h,l),a=l,i.current.lanes=a,gn(i,a),ti(i),n[An]=i.current,nm(n),new oh(i)},cu.version="19.1.0",cu}var a0;function gS(){if(a0)return wm.exports;a0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),wm.exports=pS(),wm.exports}var yS=gS(),hu={},o0;function vS(){if(o0)return hu;o0=1,Object.defineProperty(hu,"__esModule",{value:!0}),hu.parse=d,hu.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function d(x,M){const D=new u,K=x.length;if(K<2)return D;const k=(M==null?void 0:M.decode)||E;let H=0;do{const re=x.indexOf("=",H);if(re===-1)break;const se=x.indexOf(";",H),ye=se===-1?K:se;if(re>ye){H=x.lastIndexOf(";",re-1)+1;continue}const he=m(x,H,re),Ae=p(x,re,he),V=x.slice(he,Ae);if(D[V]===void 0){let R=m(x,re+1,ye),I=p(x,ye,R);const P=k(x.slice(R,I));D[V]=P}H=ye+1}while(H<K);return D}function m(x,M,D){do{const K=x.charCodeAt(M);if(K!==32&&K!==9)return M}while(++M<D);return D}function p(x,M,D){for(;M>D;){const K=x.charCodeAt(--M);if(K!==32&&K!==9)return M+1}return D}function g(x,M,D){const K=(D==null?void 0:D.encode)||encodeURIComponent;if(!r.test(x))throw new TypeError(`argument name is invalid: ${x}`);const k=K(M);if(!e.test(k))throw new TypeError(`argument val is invalid: ${M}`);let H=x+"="+k;if(!D)return H;if(D.maxAge!==void 0){if(!Number.isInteger(D.maxAge))throw new TypeError(`option maxAge is invalid: ${D.maxAge}`);H+="; Max-Age="+D.maxAge}if(D.domain){if(!t.test(D.domain))throw new TypeError(`option domain is invalid: ${D.domain}`);H+="; Domain="+D.domain}if(D.path){if(!s.test(D.path))throw new TypeError(`option path is invalid: ${D.path}`);H+="; Path="+D.path}if(D.expires){if(!S(D.expires)||!Number.isFinite(D.expires.valueOf()))throw new TypeError(`option expires is invalid: ${D.expires}`);H+="; Expires="+D.expires.toUTCString()}if(D.httpOnly&&(H+="; HttpOnly"),D.secure&&(H+="; Secure"),D.partitioned&&(H+="; Partitioned"),D.priority)switch(typeof D.priority=="string"?D.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${D.priority}`)}if(D.sameSite)switch(typeof D.sameSite=="string"?D.sameSite.toLowerCase():D.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${D.sameSite}`)}return H}function E(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function S(x){return o.call(x)==="[object Date]"}return hu}vS();/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var l0="popstate";function _S(r={}){function e(o,u){let{pathname:d="/",search:m="",hash:p=""}=za(o.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),Bm("",{pathname:d,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function t(o,u){let d=o.document.querySelector("base"),m="";if(d&&d.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:Au(u))}function s(o,u){gr(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return TS(e,t,s,r)}function ht(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function gr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ES(){return Math.random().toString(36).substring(2,10)}function u0(r,e){return{usr:r.state,key:r.key,idx:e}}function Bm(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?za(e):e,state:t,key:e&&e.key||s||ES()}}function Au({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function za(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function TS(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,d=o.history,m="POP",p=null,g=E();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function E(){return(d.state||{idx:null}).idx}function S(){m="POP";let k=E(),H=k==null?null:k-g;g=k,p&&p({action:m,location:K.location,delta:H})}function x(k,H){m="PUSH";let re=Bm(K.location,k,H);t&&t(re,k),g=E()+1;let se=u0(re,g),ye=K.createHref(re);try{d.pushState(se,"",ye)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;o.location.assign(ye)}u&&p&&p({action:m,location:K.location,delta:1})}function M(k,H){m="REPLACE";let re=Bm(K.location,k,H);t&&t(re,k),g=E();let se=u0(re,g),ye=K.createHref(re);d.replaceState(se,"",ye),u&&p&&p({action:m,location:K.location,delta:0})}function D(k){let H=o.location.origin!=="null"?o.location.origin:o.location.href,re=typeof k=="string"?k:Au(k);return re=re.replace(/ $/,"%20"),ht(H,`No window.location.(origin|href) available to create URL for href: ${re}`),new URL(re,H)}let K={get action(){return m},get location(){return r(o,d)},listen(k){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(l0,S),p=k,()=>{o.removeEventListener(l0,S),p=null}},createHref(k){return e(o,k)},createURL:D,encodeLocation(k){let H=D(k);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:x,replace:M,go(k){return d.go(k)}};return K}function iT(r,e,t="/"){return bS(r,e,t,!1)}function bS(r,e,t,s){let o=typeof e=="string"?za(e):e,u=Gi(o.pathname||"/",t);if(u==null)return null;let d=sT(r);wS(d);let m=null;for(let p=0;m==null&&p<d.length;++p){let g=PS(u);m=DS(d[p],g,s)}return m}function sT(r,e=[],t=[],s=""){let o=(u,d,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};p.relativePath.startsWith("/")&&(ht(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=qi([s,p.relativePath]),E=t.concat(p);u.children&&u.children.length>0&&(ht(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),sT(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:NS(g,u.index),routesMeta:E})};return r.forEach((u,d)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,d);else for(let p of aT(u.path))o(u,d,p)}),e}function aT(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let d=aT(s.join("/")),m=[];return m.push(...d.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...d),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function wS(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:OS(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var AS=/^:[\w-]+$/,SS=3,xS=2,RS=1,CS=10,IS=-2,c0=r=>r==="*";function NS(r,e){let t=r.split("/"),s=t.length;return t.some(c0)&&(s+=IS),e&&(s+=xS),t.filter(o=>!c0(o)).reduce((o,u)=>o+(AS.test(u)?SS:u===""?RS:CS),s)}function OS(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function DS(r,e,t=!1){let{routesMeta:s}=r,o={},u="/",d=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=Ch({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),x=p.route;if(!S&&g&&t&&!s[s.length-1].route.index&&(S=Ch({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),d.push({params:o,pathname:qi([u,S.pathname]),pathnameBase:LS(qi([u,S.pathnameBase])),route:x}),S.pathnameBase!=="/"&&(u=qi([u,S.pathnameBase]))}return d}function Ch(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=MS(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:S},x)=>{if(E==="*"){let D=m[x]||"";d=u.slice(0,u.length-D.length).replace(/(.)\/+$/,"$1")}const M=m[x];return S&&!M?g[E]=void 0:g[E]=(M||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:d,pattern:r}}function MS(r,e=!1,t=!0){gr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function PS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Gi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function VS(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?za(r):r;return{pathname:t?t.startsWith("/")?t:jS(t,e):e,search:US(s),hash:zS(o)}}function jS(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Rm(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kS(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Tp(r){let e=kS(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function bp(r,e,t,s=!1){let o;typeof r=="string"?o=za(r):(o={...r},ht(!o.pathname||!o.pathname.includes("?"),Rm("?","pathname","search",o)),ht(!o.pathname||!o.pathname.includes("#"),Rm("#","pathname","hash",o)),ht(!o.search||!o.search.includes("#"),Rm("#","search","hash",o)));let u=r===""||o.pathname==="",d=u?"/":o.pathname,m;if(d==null)m=t;else{let S=e.length-1;if(!s&&d.startsWith("..")){let x=d.split("/");for(;x[0]==="..";)x.shift(),S-=1;o.pathname=x.join("/")}m=S>=0?e[S]:"/"}let p=VS(o,m),g=d&&d!=="/"&&d.endsWith("/"),E=(u||d===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var qi=r=>r.join("/").replace(/\/\/+/g,"/"),LS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),US=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,zS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function BS(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var oT=["POST","PUT","PATCH","DELETE"];new Set(oT);var qS=["GET",...oT];new Set(qS);var nl=$.createContext(null);nl.displayName="DataRouter";var Wh=$.createContext(null);Wh.displayName="DataRouterState";var lT=$.createContext({isTransitioning:!1});lT.displayName="ViewTransition";var FS=$.createContext(new Map);FS.displayName="Fetchers";var HS=$.createContext(null);HS.displayName="Await";var Lr=$.createContext(null);Lr.displayName="Navigation";var Lu=$.createContext(null);Lu.displayName="Location";var Ur=$.createContext({outlet:null,matches:[],isDataRoute:!1});Ur.displayName="Route";var wp=$.createContext(null);wp.displayName="RouteError";function GS(r,{relative:e}={}){ht(rl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=$.useContext(Lr),{hash:o,pathname:u,search:d}=Uu(r,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:qi([t,u])),s.createHref({pathname:m,search:d,hash:o})}function rl(){return $.useContext(Lu)!=null}function Ys(){return ht(rl(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(Lu).location}var uT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cT(r){$.useContext(Lr).static||$.useLayoutEffect(r)}function il(){let{isDataRoute:r}=$.useContext(Ur);return r?sx():$S()}function $S(){ht(rl(),"useNavigate() may be used only in the context of a <Router> component.");let r=$.useContext(nl),{basename:e,navigator:t}=$.useContext(Lr),{matches:s}=$.useContext(Ur),{pathname:o}=Ys(),u=JSON.stringify(Tp(s)),d=$.useRef(!1);return cT(()=>{d.current=!0}),$.useCallback((p,g={})=>{if(gr(d.current,uT),!d.current)return;if(typeof p=="number"){t.go(p);return}let E=bp(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:qi([e,E.pathname])),(g.replace?t.replace:t.push)(E,g.state,g)},[e,t,u,o,r])}$.createContext(null);function QS(){let{matches:r}=$.useContext(Ur),e=r[r.length-1];return e?e.params:{}}function Uu(r,{relative:e}={}){let{matches:t}=$.useContext(Ur),{pathname:s}=Ys(),o=JSON.stringify(Tp(t));return $.useMemo(()=>bp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function KS(r,e){return hT(r,e)}function hT(r,e,t,s){var re;ht(rl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=$.useContext(Lr),{matches:d}=$.useContext(Ur),m=d[d.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let se=S&&S.path||"";dT(g,!S||se.endsWith("*")||se.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${se}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${se}"> to <Route path="${se==="/"?"*":`${se}/*`}">.`)}let x=Ys(),M;if(e){let se=typeof e=="string"?za(e):e;ht(E==="/"||((re=se.pathname)==null?void 0:re.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${se.pathname}" was given in the \`location\` prop.`),M=se}else M=x;let D=M.pathname||"/",K=D;if(E!=="/"){let se=E.replace(/^\//,"").split("/");K="/"+D.replace(/^\//,"").split("/").slice(se.length).join("/")}let k=!u&&t&&t.matches&&t.matches.length>0?t.matches:iT(r,{pathname:K});gr(S||k!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),gr(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=ZS(k&&k.map(se=>Object.assign({},se,{params:Object.assign({},p,se.params),pathname:qi([E,o.encodeLocation?o.encodeLocation(se.pathname).pathname:se.pathname]),pathnameBase:se.pathnameBase==="/"?E:qi([E,o.encodeLocation?o.encodeLocation(se.pathnameBase).pathname:se.pathnameBase])})),d,t,s);return e&&H?$.createElement(Lu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},H):H}function YS(){let r=ix(),e=BS(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=$.createElement($.Fragment,null,$.createElement("p",null,"💿 Hey developer 👋"),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:u},"ErrorBoundary")," or"," ",$.createElement("code",{style:u},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),t?$.createElement("pre",{style:o},t):null,d)}var XS=$.createElement(YS,null),WS=class extends $.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?$.createElement(Ur.Provider,{value:this.props.routeContext},$.createElement(wp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function JS({routeContext:r,match:e,children:t}){let s=$.useContext(nl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(Ur.Provider,{value:r},t)}function ZS(r,e=[],t=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,u=t==null?void 0:t.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);ht(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let d=!1,m=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:S}=t,x=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!S||S[g.route.id]===void 0);if(g.route.lazy||x){d=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let S,x=!1,M=null,D=null;t&&(S=u&&g.route.id?u[g.route.id]:void 0,M=g.route.errorElement||XS,d&&(m<0&&E===0?(dT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,D=null):m===E&&(x=!0,D=g.route.hydrateFallbackElement||null)));let K=e.concat(o.slice(0,E+1)),k=()=>{let H;return S?H=M:x?H=D:g.route.Component?H=$.createElement(g.route.Component,null):g.route.element?H=g.route.element:H=p,$.createElement(JS,{match:g,routeContext:{outlet:p,matches:K,isDataRoute:t!=null},children:H})};return t&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?$.createElement(WS,{location:t.location,revalidation:t.revalidation,component:M,error:S,children:k(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):k()},null)}function Ap(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ex(r){let e=$.useContext(nl);return ht(e,Ap(r)),e}function tx(r){let e=$.useContext(Wh);return ht(e,Ap(r)),e}function nx(r){let e=$.useContext(Ur);return ht(e,Ap(r)),e}function Sp(r){let e=nx(r),t=e.matches[e.matches.length-1];return ht(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function rx(){return Sp("useRouteId")}function ix(){var s;let r=$.useContext(wp),e=tx("useRouteError"),t=Sp("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[t]}function sx(){let{router:r}=ex("useNavigate"),e=Sp("useNavigate"),t=$.useRef(!1);return cT(()=>{t.current=!0}),$.useCallback(async(o,u={})=>{gr(t.current,uT),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var h0={};function dT(r,e,t){!e&&!h0[r]&&(h0[r]=!0,gr(!1,t))}$.memo(ax);function ax({routes:r,future:e,state:t}){return hT(r,void 0,t,e)}function fT({to:r,replace:e,state:t,relative:s}){ht(rl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=$.useContext(Lr);gr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=$.useContext(Ur),{pathname:d}=Ys(),m=il(),p=bp(r,Tp(u),d,s==="path"),g=JSON.stringify(p);return $.useEffect(()=>{m(JSON.parse(g),{replace:e,state:t,relative:s})},[m,g,s,e,t]),null}function ni(r){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ox({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){ht(!rl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),m=$.useMemo(()=>({basename:d,navigator:o,static:u,future:{}}),[d,o,u]);typeof t=="string"&&(t=za(t));let{pathname:p="/",search:g="",hash:E="",state:S=null,key:x="default"}=t,M=$.useMemo(()=>{let D=Gi(p,d);return D==null?null:{location:{pathname:D,search:g,hash:E,state:S,key:x},navigationType:s}},[d,p,g,E,S,x,s]);return gr(M!=null,`<Router basename="${d}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:$.createElement(Lr.Provider,{value:m},$.createElement(Lu.Provider,{children:e,value:M}))}function lx({children:r,location:e}){return KS(qm(r),e)}function qm(r,e=[]){let t=[];return $.Children.forEach(r,(s,o)=>{if(!$.isValidElement(s))return;let u=[...e,o];if(s.type===$.Fragment){t.push.apply(t,qm(s.props.children,u));return}ht(s.type===ni,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=qm(s.props.children,u)),t.push(d)}),t}var gh="get",yh="application/x-www-form-urlencoded";function Jh(r){return r!=null&&typeof r.tagName=="string"}function ux(r){return Jh(r)&&r.tagName.toLowerCase()==="button"}function cx(r){return Jh(r)&&r.tagName.toLowerCase()==="form"}function hx(r){return Jh(r)&&r.tagName.toLowerCase()==="input"}function dx(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function fx(r,e){return r.button===0&&(!e||e==="_self")&&!dx(r)}var uh=null;function mx(){if(uh===null)try{new FormData(document.createElement("form"),0),uh=!1}catch{uh=!0}return uh}var px=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cm(r){return r!=null&&!px.has(r)?(gr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yh}"`),null):r}function gx(r,e){let t,s,o,u,d;if(cx(r)){let m=r.getAttribute("action");s=m?Gi(m,e):null,t=r.getAttribute("method")||gh,o=Cm(r.getAttribute("enctype"))||yh,u=new FormData(r)}else if(ux(r)||hx(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Gi(p,e):null,t=r.getAttribute("formmethod")||m.getAttribute("method")||gh,o=Cm(r.getAttribute("formenctype"))||Cm(m.getAttribute("enctype"))||yh,u=new FormData(m,r),!mx()){let{name:g,type:E,value:S}=r;if(E==="image"){let x=g?`${g}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else g&&u.append(g,S)}}else{if(Jh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=gh,s=null,o=yh,d=r}return u&&o==="text/plain"&&(d=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:d}}function xp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function yx(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vx(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function _x(r,e,t){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let d=await yx(u,t);return d.links?d.links():[]}return[]}));return wx(s.flat(1).filter(vx).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function d0(r,e,t,s,o,u){let d=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,m=(p,g)=>{var E;return t[g].pathname!==p.pathname||((E=t[g].route.path)==null?void 0:E.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>d(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var S;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(d(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let x=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=t[0])==null?void 0:S.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function Ex(r,e,{includeHydrateFallback:t}={}){return Tx(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Tx(r){return[...new Set(r)]}function bx(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function wx(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(bx(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}var Ax=new Set([100,101,204,205]);function Sx(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&Gi(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function mT(){let r=$.useContext(nl);return xp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function xx(){let r=$.useContext(Wh);return xp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Rp=$.createContext(void 0);Rp.displayName="FrameworkContext";function pT(){let r=$.useContext(Rp);return xp(r,"You must render this element inside a <HydratedRouter> element"),r}function Rx(r,e){let t=$.useContext(Rp),[s,o]=$.useState(!1),[u,d]=$.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:S}=e,x=$.useRef(null);$.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let K=H=>{H.forEach(re=>{d(re.isIntersecting)})},k=new IntersectionObserver(K,{threshold:.5});return x.current&&k.observe(x.current),()=>{k.disconnect()}}},[r]),$.useEffect(()=>{if(s){let K=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(K)}}},[s]);let M=()=>{o(!0)},D=()=>{o(!1),d(!1)};return t?r!=="intent"?[u,x,{}]:[u,x,{onFocus:du(m,M),onBlur:du(p,D),onMouseEnter:du(g,M),onMouseLeave:du(E,D),onTouchStart:du(S,M)}]:[!1,x,{}]}function du(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function Cx({page:r,...e}){let{router:t}=mT(),s=$.useMemo(()=>iT(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?$.createElement(Nx,{page:r,matches:s,...e}):null}function Ix(r){let{manifest:e,routeModules:t}=pT(),[s,o]=$.useState([]);return $.useEffect(()=>{let u=!1;return _x(r,e,t).then(d=>{u||o(d)}),()=>{u=!0}},[r,e,t]),s}function Nx({page:r,matches:e,...t}){let s=Ys(),{manifest:o,routeModules:u}=pT(),{basename:d}=mT(),{loaderData:m,matches:p}=xx(),g=$.useMemo(()=>d0(r,e,p,o,s,"data"),[r,e,p,o,s]),E=$.useMemo(()=>d0(r,e,p,o,s,"assets"),[r,e,p,o,s]),S=$.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let D=new Set,K=!1;if(e.forEach(H=>{var se;let re=o.routes[H.route.id];!re||!re.hasLoader||(!g.some(ye=>ye.route.id===H.route.id)&&H.route.id in m&&((se=u[H.route.id])!=null&&se.shouldRevalidate)||re.hasClientLoader?K=!0:D.add(H.route.id))}),D.size===0)return[];let k=Sx(r,d);return K&&D.size>0&&k.searchParams.set("_routes",e.filter(H=>D.has(H.route.id)).map(H=>H.route.id).join(",")),[k.pathname+k.search]},[d,m,s,o,g,e,r,u]),x=$.useMemo(()=>Ex(E,o),[E,o]),M=Ix(E);return $.createElement($.Fragment,null,S.map(D=>$.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...t})),x.map(D=>$.createElement("link",{key:D,rel:"modulepreload",href:D,...t})),M.map(({key:D,link:K})=>$.createElement("link",{key:D,...K})))}function Ox(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var gT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{gT&&(window.__reactRouterVersion="7.5.1")}catch{}function Dx({basename:r,children:e,window:t}){let s=$.useRef();s.current==null&&(s.current=_S({window:t,v5Compat:!0}));let o=s.current,[u,d]=$.useState({action:o.action,location:o.location}),m=$.useCallback(p=>{$.startTransition(()=>d(p))},[d]);return $.useLayoutEffect(()=>o.listen(m),[o,m]),$.createElement(ox,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var yT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qt=$.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:d,state:m,target:p,to:g,preventScrollReset:E,viewTransition:S,...x},M){let{basename:D}=$.useContext(Lr),K=typeof g=="string"&&yT.test(g),k,H=!1;if(typeof g=="string"&&K&&(k=g,gT))try{let I=new URL(window.location.href),P=g.startsWith("//")?new URL(I.protocol+g):new URL(g),L=Gi(P.pathname,D);P.origin===I.origin&&L!=null?g=L+P.search+P.hash:H=!0}catch{gr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=GS(g,{relative:o}),[se,ye,he]=Rx(s,x),Ae=Vx(g,{replace:d,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:S});function V(I){e&&e(I),I.defaultPrevented||Ae(I)}let R=$.createElement("a",{...x,...he,href:k||re,onClick:H||u?e:V,ref:Ox(M,ye),target:p,"data-discover":!K&&t==="render"?"true":void 0});return se&&!K?$.createElement($.Fragment,null,R,$.createElement(Cx,{page:re})):R});Qt.displayName="Link";var fr=$.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:d,viewTransition:m,children:p,...g},E){let S=Uu(d,{relative:g.relative}),x=Ys(),M=$.useContext(Wh),{navigator:D,basename:K}=$.useContext(Lr),k=M!=null&&zx(S)&&m===!0,H=D.encodeLocation?D.encodeLocation(S).pathname:S.pathname,re=x.pathname,se=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;t||(re=re.toLowerCase(),se=se?se.toLowerCase():null,H=H.toLowerCase()),se&&K&&(se=Gi(se,K)||se);const ye=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let he=re===H||!o&&re.startsWith(H)&&re.charAt(ye)==="/",Ae=se!=null&&(se===H||!o&&se.startsWith(H)&&se.charAt(H.length)==="/"),V={isActive:he,isPending:Ae,isTransitioning:k},R=he?e:void 0,I;typeof s=="function"?I=s(V):I=[s,he?"active":null,Ae?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let P=typeof u=="function"?u(V):u;return $.createElement(Qt,{...g,"aria-current":R,className:I,ref:E,style:P,to:d,viewTransition:m},typeof p=="function"?p(V):p)});fr.displayName="NavLink";var Mx=$.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:d=gh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:S,...x},M)=>{let D=Lx(),K=Ux(m,{relative:g}),k=d.toLowerCase()==="get"?"get":"post",H=typeof m=="string"&&yT.test(m),re=se=>{if(p&&p(se),se.defaultPrevented)return;se.preventDefault();let ye=se.nativeEvent.submitter,he=(ye==null?void 0:ye.getAttribute("formmethod"))||d;D(ye||se.currentTarget,{fetcherKey:e,method:he,navigate:t,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:S})};return $.createElement("form",{ref:M,method:k,action:K,onSubmit:s?p:re,...x,"data-discover":!H&&r==="render"?"true":void 0})});Mx.displayName="Form";function Px(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vT(r){let e=$.useContext(nl);return ht(e,Px(r)),e}function Vx(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:d}={}){let m=il(),p=Ys(),g=Uu(r,{relative:u});return $.useCallback(E=>{if(fx(E,e)){E.preventDefault();let S=t!==void 0?t:Au(p)===Au(g);m(r,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:d})}},[p,m,g,t,s,e,r,o,u,d])}var jx=0,kx=()=>`__${String(++jx)}__`;function Lx(){let{router:r}=vT("useSubmit"),{basename:e}=$.useContext(Lr),t=rx();return $.useCallback(async(s,o={})=>{let{action:u,method:d,encType:m,formData:p,body:g}=gx(s,e);if(o.navigate===!1){let E=o.fetcherKey||kx();await r.fetch(E,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||d,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||d,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function Ux(r,{relative:e}={}){let{basename:t}=$.useContext(Lr),s=$.useContext(Ur);ht(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Uu(r||".",{relative:e})},d=Ys();if(r==null){u.search=d.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:qi([t,u.pathname])),Au(u)}function zx(r,e={}){let t=$.useContext(lT);ht(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=vT("useViewTransitionState"),o=Uu(r,{relative:e.relative});if(!t.isTransitioning)return!1;let u=Gi(t.currentLocation.pathname,s)||t.currentLocation.pathname,d=Gi(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Ch(o.pathname,d)!=null||Ch(o.pathname,u)!=null}new TextEncoder;[...Ax];const Bx=()=>{};var f0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},qx=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[t++],d=r[t++],m=r[t++],p=((o&7)<<18|(u&63)<<12|(d&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[t++],d=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return e.join("")},ET={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],d=o+1<r.length,m=d?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let x=(m&15)<<2|g>>6,M=g&63;p||(M=64,d||(x=64)),s.push(t[E],t[S],t[x],t[M])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(_T(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):qx(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=t[r.charAt(o++)],m=o<r.length?t[r.charAt(o)]:0;++o;const g=o<r.length?t[r.charAt(o)]:64;++o;const S=o<r.length?t[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||S==null)throw new Fx;const x=u<<2|m>>4;if(s.push(x),g!==64){const M=m<<4&240|g>>2;if(s.push(M),S!==64){const D=g<<6&192|S;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Fx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Hx=function(r){const e=_T(r);return ET.encodeByteArray(e,!0)},Ih=function(r){return Hx(r).replace(/\./g,"")},TT=function(r){try{return ET.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x=()=>Gx().__FIREBASE_DEFAULTS__,Qx=()=>{if(typeof process>"u"||typeof f0>"u")return;const r=f0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Kx=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&TT(r[1]);return e&&JSON.parse(e)},Zh=()=>{try{return Bx()||$x()||Qx()||Kx()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},bT=r=>{var e,t;return(t=(e=Zh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},Yx=r=>{const e=bT(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},wT=()=>{var r;return(r=Zh())===null||r===void 0?void 0:r.config},AT=r=>{var e;return(e=Zh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Ih(JSON.stringify(t)),Ih(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Jx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function Zx(){var r;const e=(r=Zh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function e2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function t2(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function n2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function r2(){const r=mn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function i2(){return!Zx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function s2(){try{return typeof indexedDB=="object"}catch{return!1}}function a2(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2="FirebaseError";class Xi extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=o2,Object.setPrototypeOf(this,Xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zu.prototype.create)}}class zu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],d=u?l2(u,s):"Error",m=`${this.serviceName}: ${d} (${o}).`;return new Xi(o,m,s)}}function l2(r,e){return r.replace(u2,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const u2=/\{\$([^}]+)}/g;function c2(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Pa(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=r[o],d=e[o];if(m0(u)&&m0(d)){if(!Pa(u,d))return!1}else if(u!==d)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function m0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function fu(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function mu(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function h2(r,e){const t=new d2(r,e);return t.subscribe.bind(t)}class d2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");f2(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Im),o.error===void 0&&(o.error=Im),o.complete===void 0&&(o.complete=Im);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function f2(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Im(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(r){return r&&r._delegate?r._delegate:r}class Va{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new Xx;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(g2(e))try{this.getOrInitializeService({instanceIdentifier:Na})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Na){return this.instances.has(e)}getOptions(e=Na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&d.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const d=this.instances.get(o);return d&&e(d,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:p2(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Na){return this.component?this.component.multipleInstances?e:Na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function p2(r){return r===Na?void 0:r}function g2(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new m2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Be||(Be={}));const v2={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},_2=Be.INFO,E2={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},T2=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=E2[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cp{constructor(e){this.name=e,this._logLevel=_2,this._logHandler=T2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?v2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const b2=(r,e)=>e.some(t=>r instanceof t);let p0,g0;function w2(){return p0||(p0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function A2(){return g0||(g0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ST=new WeakMap,Fm=new WeakMap,xT=new WeakMap,Nm=new WeakMap,Ip=new WeakMap;function S2(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",d)},u=()=>{t(ks(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&ST.set(t,r)}).catch(()=>{}),Ip.set(e,r),e}function x2(r){if(Fm.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",d),r.removeEventListener("abort",d)},u=()=>{t(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",d),r.addEventListener("abort",d)});Fm.set(r,e)}let Hm={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Fm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||xT.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ks(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function R2(r){Hm=r(Hm)}function C2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(Om(this),e,...t);return xT.set(s,e.sort?e.sort():[e]),ks(s)}:A2().includes(r)?function(...e){return r.apply(Om(this),e),ks(ST.get(this))}:function(...e){return ks(r.apply(Om(this),e))}}function I2(r){return typeof r=="function"?C2(r):(r instanceof IDBTransaction&&x2(r),b2(r,w2())?new Proxy(r,Hm):r)}function ks(r){if(r instanceof IDBRequest)return S2(r);if(Nm.has(r))return Nm.get(r);const e=I2(r);return e!==r&&(Nm.set(r,e),Ip.set(e,r)),e}const Om=r=>Ip.get(r);function N2(r,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const d=indexedDB.open(r,e),m=ks(d);return s&&d.addEventListener("upgradeneeded",p=>{s(ks(d.result),p.oldVersion,p.newVersion,ks(d.transaction),p)}),t&&d.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const O2=["get","getKey","getAll","getAllKeys","count"],D2=["put","add","delete","clear"],Dm=new Map;function y0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Dm.get(e))return Dm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=D2.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||O2.includes(t)))return;const u=async function(d,...m){const p=this.transaction(d,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),o&&p.done]))[0]};return Dm.set(e,u),u}R2(r=>({...r,get:(e,t,s)=>y0(e,t)||r.get(e,t,s),has:(e,t)=>!!y0(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(P2(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function P2(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Gm="@firebase/app",v0="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new Cp("@firebase/app"),V2="@firebase/app-compat",j2="@firebase/analytics-compat",k2="@firebase/analytics",L2="@firebase/app-check-compat",U2="@firebase/app-check",z2="@firebase/auth",B2="@firebase/auth-compat",q2="@firebase/database",F2="@firebase/data-connect",H2="@firebase/database-compat",G2="@firebase/functions",$2="@firebase/functions-compat",Q2="@firebase/installations",K2="@firebase/installations-compat",Y2="@firebase/messaging",X2="@firebase/messaging-compat",W2="@firebase/performance",J2="@firebase/performance-compat",Z2="@firebase/remote-config",eR="@firebase/remote-config-compat",tR="@firebase/storage",nR="@firebase/storage-compat",rR="@firebase/firestore",iR="@firebase/vertexai",sR="@firebase/firestore-compat",aR="firebase",oR="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="[DEFAULT]",lR={[Gm]:"fire-core",[V2]:"fire-core-compat",[k2]:"fire-analytics",[j2]:"fire-analytics-compat",[U2]:"fire-app-check",[L2]:"fire-app-check-compat",[z2]:"fire-auth",[B2]:"fire-auth-compat",[q2]:"fire-rtdb",[F2]:"fire-data-connect",[H2]:"fire-rtdb-compat",[G2]:"fire-fn",[$2]:"fire-fn-compat",[Q2]:"fire-iid",[K2]:"fire-iid-compat",[Y2]:"fire-fcm",[X2]:"fire-fcm-compat",[W2]:"fire-perf",[J2]:"fire-perf-compat",[Z2]:"fire-rc",[eR]:"fire-rc-compat",[tR]:"fire-gcs",[nR]:"fire-gcs-compat",[rR]:"fire-fst",[sR]:"fire-fst-compat",[iR]:"fire-vertex","fire-js":"fire-js",[aR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new Map,uR=new Map,Qm=new Map;function _0(r,e){try{r.container.addComponent(e)}catch(t){$i.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function $o(r){const e=r.name;if(Qm.has(e))return $i.debug(`There were multiple attempts to register component ${e}.`),!1;Qm.set(e,r);for(const t of Nh.values())_0(t,r);for(const t of uR.values())_0(t,r);return!0}function Np(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function $n(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ls=new zu("app","Firebase",cR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Va("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl=oR;function RT(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:$m,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Ls.create("bad-app-name",{appName:String(o)});if(t||(t=wT()),!t)throw Ls.create("no-options");const u=Nh.get(o);if(u){if(Pa(t,u.options)&&Pa(s,u.config))return u;throw Ls.create("duplicate-app",{appName:o})}const d=new y2(o);for(const p of Qm.values())d.addComponent(p);const m=new hR(t,s,d);return Nh.set(o,m),m}function CT(r=$m){const e=Nh.get(r);if(!e&&r===$m&&wT())return RT();if(!e)throw Ls.create("no-app",{appName:r});return e}function Us(r,e,t){var s;let o=(s=lR[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const u=o.match(/\s|\//),d=e.match(/\s|\//);if(u||d){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&d&&m.push("and"),d&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$i.warn(m.join(" "));return}$o(new Va(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="firebase-heartbeat-database",fR=1,Su="firebase-heartbeat-store";let Mm=null;function IT(){return Mm||(Mm=N2(dR,fR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Su)}catch(t){console.warn(t)}}}}).catch(r=>{throw Ls.create("idb-open",{originalErrorMessage:r.message})})),Mm}async function mR(r){try{const t=(await IT()).transaction(Su),s=await t.objectStore(Su).get(NT(r));return await t.done,s}catch(e){if(e instanceof Xi)$i.warn(e.message);else{const t=Ls.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$i.warn(t.message)}}}async function E0(r,e){try{const s=(await IT()).transaction(Su,"readwrite");await s.objectStore(Su).put(e,NT(r)),await s.done}catch(t){if(t instanceof Xi)$i.warn(t.message);else{const s=Ls.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});$i.warn(s.message)}}}function NT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=1024,gR=30;class yR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new _R(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=T0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>gR){const d=ER(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){$i.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=T0(),{heartbeatsToSend:s,unsentEntries:o}=vR(this._heartbeatsCache.heartbeats),u=Ih(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return $i.warn(t),""}}}function T0(){return new Date().toISOString().substring(0,10)}function vR(r,e=pR){const t=[];let s=r.slice();for(const o of r){const u=t.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),b0(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),b0(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class _R{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return s2()?a2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await mR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return E0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return E0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function b0(r){return Ih(JSON.stringify({version:2,heartbeats:r})).length}function ER(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(r){$o(new Va("platform-logger",e=>new M2(e),"PRIVATE")),$o(new Va("heartbeat",e=>new yR(e),"PRIVATE")),Us(Gm,v0,r),Us(Gm,v0,"esm2017"),Us("fire-js","")}TR("");function Op(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(t[s[o]]=r[s[o]]);return t}function OT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bR=OT,DT=new zu("auth","Firebase",OT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=new Cp("@firebase/auth");function wR(r,...e){Oh.logLevel<=Be.WARN&&Oh.warn(`Auth (${sl}): ${r}`,...e)}function vh(r,...e){Oh.logLevel<=Be.ERROR&&Oh.error(`Auth (${sl}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(r,...e){throw Mp(r,...e)}function Vr(r,...e){return Mp(r,...e)}function Dp(r,e,t){const s=Object.assign(Object.assign({},bR()),{[e]:t});return new zu("auth","Firebase",s).create(e,{appName:r.name})}function Fi(r){return Dp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function AR(r,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&yr(r,"argument-error"),Dp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Mp(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return DT.create(r,...e)}function Se(r,e,...t){if(!r)throw Mp(e,...t)}function zi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw vh(e),new Error(e)}function Qi(r,e){r||zi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function SR(){return w0()==="http:"||w0()==="https:"}function w0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SR()||t2()||"connection"in navigator)?navigator.onLine:!0}function RR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Qi(t>e,"Short delay should be less than long delay!"),this.isMobile=Jx()||n2()}get(){return xR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(r,e){Qi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],NR=new qu(3e4,6e4);function Xs(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Wi(r,e,t,s,o={}){return PT(r,o,async()=>{let u={},d={};s&&(e==="GET"?d=s:u={body:JSON.stringify(s)});const m=Bu(Object.assign({key:r.config.apiKey},d)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return e2()||(g.referrerPolicy="no-referrer"),MT.fetch()(await VT(r,r.config.apiHost,t,m),g)})}async function PT(r,e,t){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},CR),e);try{const o=new DR(r),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw ch(r,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const m=u.ok?d.errorMessage:d.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ch(r,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw ch(r,"email-already-in-use",d);if(p==="USER_DISABLED")throw ch(r,"user-disabled",d);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Dp(r,E,g);yr(r,E)}}catch(o){if(o instanceof Xi)throw o;yr(r,"network-request-failed",{message:String(o)})}}async function Fu(r,e,t,s,o={}){const u=await Wi(r,e,t,s,o);return"mfaPendingCredential"in u&&yr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function VT(r,e,t,s){const o=`${e}${t}?${s}`,u=r,d=u.config.emulator?Pp(r.config,o):`${r.config.apiScheme}://${o}`;return IR.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function OR(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class DR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Vr(this.auth,"network-request-failed")),NR.get())})}}function ch(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Vr(r,e,s);return o.customData._tokenResponse=t,o}function A0(r){return r!==void 0&&r.enterprise!==void 0}class MR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return OR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function PR(r,e){return Wi(r,"GET","/v2/recaptchaConfig",Xs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VR(r,e){return Wi(r,"POST","/v1/accounts:delete",e)}async function Dh(r,e){return Wi(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jR(r,e=!1){const t=zt(r),s=await t.getIdToken(e),o=Vp(s);Se(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,d=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:_u(Pm(o.auth_time)),issuedAtTime:_u(Pm(o.iat)),expirationTime:_u(Pm(o.exp)),signInProvider:d||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Pm(r){return Number(r)*1e3}function Vp(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return vh("JWT malformed, contained fewer than 3 sections"),null;try{const o=TT(t);return o?JSON.parse(o):(vh("Failed to decode base64 JWT payload"),null)}catch(o){return vh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function S0(r){const e=Vp(r);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Xi&&kR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function kR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=_u(this.lastLoginAt),this.creationTime=_u(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mh(r){var e;const t=r.auth,s=await r.getIdToken(),o=await Qo(r,Dh(t,{idToken:s}));Se(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const d=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?jT(u.providerUserInfo):[],m=zR(r.providerData,d),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,S={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Ym(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,S)}async function UR(r){const e=zt(r);await Mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zR(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function jT(r){return r.map(e=>{var{providerId:t}=e,s=Op(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BR(r,e){const t=await PT(r,{},async()=>{const s=Bu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,d=await VT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",MT.fetch()(d,{method:"POST",headers:m,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function qR(r,e){return Wi(r,"POST","/v2/accounts:revokeToken",Xs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):S0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=S0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await BR(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,d=new qo;return s&&(Se(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),o&&(Se(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),u&&(Se(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qo,this.toJSON())}_performRefresh(){return zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(r,e){Se(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Pr{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=Op(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new LR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Ym(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await Qo(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return jR(this,e)}reload(){return UR(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Pr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Mh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(Fi(this.auth));const e=await this.getIdToken();return await Qo(this,VR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,d,m,p,g,E;const S=(s=t.displayName)!==null&&s!==void 0?s:void 0,x=(o=t.email)!==null&&o!==void 0?o:void 0,M=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,D=(d=t.photoURL)!==null&&d!==void 0?d:void 0,K=(m=t.tenantId)!==null&&m!==void 0?m:void 0,k=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,H=(g=t.createdAt)!==null&&g!==void 0?g:void 0,re=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:se,emailVerified:ye,isAnonymous:he,providerData:Ae,stsTokenManager:V}=t;Se(se&&V,e,"internal-error");const R=qo.fromJSON(this.name,V);Se(typeof se=="string",e,"internal-error"),Os(S,e.name),Os(x,e.name),Se(typeof ye=="boolean",e,"internal-error"),Se(typeof he=="boolean",e,"internal-error"),Os(M,e.name),Os(D,e.name),Os(K,e.name),Os(k,e.name),Os(H,e.name),Os(re,e.name);const I=new Pr({uid:se,auth:e,email:x,emailVerified:ye,displayName:S,isAnonymous:he,photoURL:D,phoneNumber:M,tenantId:K,stsTokenManager:R,createdAt:H,lastLoginAt:re});return Ae&&Array.isArray(Ae)&&(I.providerData=Ae.map(P=>Object.assign({},P))),k&&(I._redirectEventId=k),I}static async _fromIdTokenResponse(e,t,s=!1){const o=new qo;o.updateFromServerResponse(t);const u=new Pr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Mh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Se(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?jT(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new qo;m.updateFromIdToken(s);const p=new Pr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:d}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ym(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=new Map;function Bi(r){Qi(r instanceof Function,"Expected a class definition");let e=x0.get(r);return e?(Qi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,x0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}kT.type="NONE";const R0=kT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(r,e,t){return`firebase:${r}:${e}:${t}`}class Fo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=_h(this.userKey,o.apiKey,u),this.fullPersistenceKey=_h("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Dh(this.auth,{idToken:e}).catch(()=>{});return t?Pr._fromGetAccountInfoResponse(this.auth,t,e):null}return Pr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Fo(Bi(R0),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Bi(R0);const d=_h(s,e.config.apiKey,e.name);let m=null;for(const g of t)try{const E=await g._get(d);if(E){let S;if(typeof E=="string"){const x=await Dh(e,{idToken:E}).catch(()=>{});if(!x)break;S=await Pr._fromGetAccountInfoResponse(e,x,E)}else S=Pr._fromJSON(e,E);g!==u&&(m=S),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Fo(u,e,s):(u=p[0],m&&await u._set(d,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(d)}catch{}})),new Fo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FT(e))return"Blackberry";if(HT(e))return"Webos";if(UT(e))return"Safari";if((e.includes("chrome/")||zT(e))&&!e.includes("edge/"))return"Chrome";if(qT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function LT(r=mn()){return/firefox\//i.test(r)}function UT(r=mn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zT(r=mn()){return/crios\//i.test(r)}function BT(r=mn()){return/iemobile/i.test(r)}function qT(r=mn()){return/android/i.test(r)}function FT(r=mn()){return/blackberry/i.test(r)}function HT(r=mn()){return/webos/i.test(r)}function jp(r=mn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function FR(r=mn()){var e;return jp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function HR(){return r2()&&document.documentMode===10}function GT(r=mn()){return jp(r)||qT(r)||HT(r)||FT(r)||/windows phone/i.test(r)||BT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(r,e=[]){let t;switch(r){case"Browser":t=C0(mn());break;case"Worker":t=`${C0(mn())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${sl}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((d,m)=>{try{const p=e(u);d(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $R(r,e={}){return Wi(r,"GET","/v2/passwordPolicy",Xs(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=6;class KR{constructor(e){var t,s,o,u;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=d.minPasswordLength)!==null&&t!==void 0?t:QR,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,d,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new I0(this),this.idTokenSubscription=new I0(this),this.beforeStateQueue=new GR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Bi(t)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Fo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Dh(this,{idToken:e}),s=await Pr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if($n(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!d||d===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Mh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($n(this.app))return Promise.reject(Fi(this));const t=e?zt(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(Fi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $n(this.app)?Promise.reject(Fi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $R(this),t=new KR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new zu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await qR(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Bi(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await Fo.create(this,[Bi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let d=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(m,this,"internal-error"),m.then(()=>{d||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{d=!0,p()}}else{const p=e.addObserver(t);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$T(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&wR(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ws(r){return zt(r)}class I0{constructor(e){this.auth=e,this.observer=null,this.addObserver=h2(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ed={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XR(r){ed=r}function QT(r){return ed.loadJS(r)}function WR(){return ed.recaptchaEnterpriseScript}function JR(){return ed.gapiScript}function ZR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class eC{constructor(){this.enterprise=new tC}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class tC{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const nC="recaptcha-enterprise",KT="NO_RECAPTCHA";class rC{constructor(e){this.type=nC,this.auth=Ws(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,m)=>{PR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new MR(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,d(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,d,m){const p=window.grecaptcha;A0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{d(g)}).catch(()=>{d(KT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eC().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{s(this.auth).then(m=>{if(!t&&A0(window.grecaptcha))o(m,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=WR();p.length!==0&&(p+=m),QT(p).then(()=>{o(m,u,d)}).catch(g=>{d(g)})}}).catch(m=>{d(m)})})}}async function N0(r,e,t,s=!1,o=!1){const u=new rC(r);let d;if(o)d=KT;else try{d=await u.verify(t)}catch{d=await u.verify(t,!0)}const m=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:d}):Object.assign(m,{captchaResponse:d}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Xm(r,e,t,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await N0(r,e,t,t==="getOobCode");return s(r,d)}else return s(r,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await N0(r,e,t,t==="getOobCode");return s(r,m)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(r,e){const t=Np(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(Pa(u,e??{}))return o;yr(o,"already-initialized")}return t.initialize({options:e})}function sC(r,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(Bi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function aC(r,e,t){const s=Ws(r);Se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=YT(e),{host:d,port:m}=oC(e),p=m===null?"":`:${m}`,g={url:`${u}//${d}${p}/`},E=Object.freeze({host:d,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Se(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Se(Pa(g,s.config.emulator)&&Pa(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,lC()}function YT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function oC(r){const e=YT(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:O0(s.substr(u.length+1))}}else{const[u,d]=s.split(":");return{host:u,port:O0(d)}}}function O0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function lC(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return zi("not implemented")}_getIdTokenResponse(e){return zi("not implemented")}_linkToIdToken(e,t){return zi("not implemented")}_getReauthenticationResolver(e){return zi("not implemented")}}async function uC(r,e){return Wi(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cC(r,e){return Fu(r,"POST","/v1/accounts:signInWithPassword",Xs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hC(r,e){return Fu(r,"POST","/v1/accounts:signInWithEmailLink",Xs(r,e))}async function dC(r,e){return Fu(r,"POST","/v1/accounts:signInWithEmailLink",Xs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu extends kp{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new xu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new xu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xm(e,t,"signInWithPassword",cC);case"emailLink":return hC(e,{email:this._email,oobCode:this._password});default:yr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xm(e,s,"signUpPassword",uC);case"emailLink":return dC(e,{idToken:t,email:this._email,oobCode:this._password});default:yr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(r,e){return Fu(r,"POST","/v1/accounts:signInWithIdp",Xs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC="http://localhost";class ja extends kp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ja(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):yr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=Op(t,["providerId","signInMethod"]);if(!s||!o)return null;const d=new ja(s,o);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const t=this.buildRequest();return Ho(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Ho(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ho(e,t)}buildRequest(){const e={requestUri:fC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Bu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pC(r){const e=fu(mu(r)).link,t=e?fu(mu(e)).deep_link_id:null,s=fu(mu(r)).deep_link_id;return(s?fu(mu(s)).link:null)||s||t||e||r}class Lp{constructor(e){var t,s,o,u,d,m;const p=fu(mu(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,S=mC((o=p.mode)!==null&&o!==void 0?o:null);Se(g&&E&&S,"argument-error"),this.apiKey=g,this.operation=S,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(d=p.lang)!==null&&d!==void 0?d:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const t=pC(e);try{return new Lp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(){this.providerId=al.PROVIDER_ID}static credential(e,t){return xu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Lp.parseLink(t);return Se(s,"argument-error"),xu._fromEmailAndCode(e,s.code,s.tenantId)}}al.PROVIDER_ID="password";al.EMAIL_PASSWORD_SIGN_IN_METHOD="password";al.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu extends Up{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends Hu{constructor(){super("facebook.com")}static credential(e){return ja._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ds.credential(e.oauthAccessToken)}catch{return null}}}Ds.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ds.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends Hu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ja._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ii.credentialFromTaggedObject(e)}static credentialFromError(e){return ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return ii.credential(t,s)}catch{return null}}}ii.GOOGLE_SIGN_IN_METHOD="google.com";ii.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends Hu{constructor(){super("github.com")}static credential(e){return ja._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ms.credential(e.oauthAccessToken)}catch{return null}}}Ms.GITHUB_SIGN_IN_METHOD="github.com";Ms.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends Hu{constructor(){super("twitter.com")}static credential(e,t){return ja._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Ps.credential(t,s)}catch{return null}}}Ps.TWITTER_SIGN_IN_METHOD="twitter.com";Ps.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gC(r,e){return Fu(r,"POST","/v1/accounts:signUp",Xs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await Pr._fromIdTokenResponse(e,s,o),d=D0(s);return new ka({user:u,providerId:d,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=D0(s);return new ka({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function D0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph extends Xi{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ph.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Ph(e,t,s,o)}}function XT(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ph._fromErrorAndOperation(r,u,e,s):u})}async function yC(r,e,t=!1){const s=await Qo(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return ka._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vC(r,e,t=!1){const{auth:s}=r;if($n(s.app))return Promise.reject(Fi(s));const o="reauthenticate";try{const u=await Qo(r,XT(s,o,e,r),t);Se(u.idToken,s,"internal-error");const d=Vp(u.idToken);Se(d,s,"internal-error");const{sub:m}=d;return Se(r.uid===m,s,"user-mismatch"),ka._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&yr(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WT(r,e,t=!1){if($n(r.app))return Promise.reject(Fi(r));const s="signIn",o=await XT(r,s,e),u=await ka._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(u.user),u}async function _C(r,e){return WT(Ws(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JT(r){const e=Ws(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function EC(r,e,t){if($n(r.app))return Promise.reject(Fi(r));const s=Ws(r),d=await Xm(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&JT(r),p}),m=await ka._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(m.user),m}function TC(r,e,t){return $n(r.app)?Promise.reject(Fi(r)):_C(zt(r),al.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&JT(r),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bC(r,e){return Wi(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wC(r,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=zt(r),u={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},d=await Qo(s,bC(s.auth,u));s.displayName=d.displayName||null,s.photoURL=d.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(d)}function AC(r,e,t,s){return zt(r).onIdTokenChanged(e,t,s)}function SC(r,e,t){return zt(r).beforeAuthStateChanged(e,t)}function zp(r,e,t,s){return zt(r).onAuthStateChanged(e,t,s)}function xC(r){return zt(r).signOut()}const Vh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Vh,"1"),this.storage.removeItem(Vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=1e3,CC=10;class eb extends ZT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((d,m,p)=>{this.notifyListeners(d,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(s);!t&&this.localCache[s]===d||this.notifyListeners(s,d)},u=this.storage.getItem(s);HR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,CC):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},RC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}eb.type="LOCAL";const IC=eb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb extends ZT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}tb.type="SESSION";const nb=tb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new td(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(d).map(async g=>g(t.origin,u)),p=await NC(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}td.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,d;return new Promise((m,p)=>{const g=Bp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);d={messageChannel:o,onMessage(S){const x=S;if(x.data.eventId===g)switch(x.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(x.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(){return window}function DC(r){ai().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(){return typeof ai().WorkerGlobalScope<"u"&&typeof ai().importScripts=="function"}async function MC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function PC(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function VC(){return rb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="firebaseLocalStorageDb",jC=1,jh="firebaseLocalStorage",sb="fbase_key";class Gu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function nd(r,e){return r.transaction([jh],e?"readwrite":"readonly").objectStore(jh)}function kC(){const r=indexedDB.deleteDatabase(ib);return new Gu(r).toPromise()}function Wm(){const r=indexedDB.open(ib,jC);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(jh,{keyPath:sb})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(jh)?e(s):(s.close(),await kC(),e(await Wm()))})})}async function M0(r,e,t){const s=nd(r,!0).put({[sb]:e,value:t});return new Gu(s).toPromise()}async function LC(r,e){const t=nd(r,!1).get(e),s=await new Gu(t).toPromise();return s===void 0?null:s.value}function P0(r,e){const t=nd(r,!0).delete(e);return new Gu(t).toPromise()}const UC=800,zC=3;class ab{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>zC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=td._getInstance(VC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await MC(),!this.activeServiceWorker)return;this.sender=new OC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||PC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wm();return await M0(e,Vh,"1"),await P0(e,Vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>M0(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>LC(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>P0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=nd(o,!1).getAll();return new Gu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ab.type="LOCAL";const BC=ab;new qu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(r,e){return e?Bi(e):(Se(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp extends kp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ho(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ho(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function qC(r){return WT(r.auth,new qp(r),r.bypassAuthState)}function FC(r){const{auth:e,user:t}=r;return Se(t,e,"internal-error"),vC(t,new qp(r),r.bypassAuthState)}async function HC(r){const{auth:e,user:t}=r;return Se(t,e,"internal-error"),yC(t,new qp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:d,type:m}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qC;case"linkViaPopup":case"linkViaRedirect":return HC;case"reauthViaPopup":case"reauthViaRedirect":return FC;default:yr(this.auth,"internal-error")}}resolve(e){Qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=new qu(2e3,1e4);async function ub(r,e,t){if($n(r.app))return Promise.reject(Vr(r,"operation-not-supported-in-this-environment"));const s=Ws(r);AR(r,e,Up);const o=ob(s,t);return new Oa(s,"signInViaPopup",e,o).executeNotNull()}class Oa extends lb{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Oa.currentPopupAction&&Oa.currentPopupAction.cancel(),Oa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Qi(this.filter.length===1,"Popup operations only handle one event");const e=Bp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Vr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Vr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GC.get())};e()}}Oa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="pendingRedirect",Eh=new Map;class QC extends lb{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Eh.get(this.auth._key());if(!e){try{const s=await KC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Eh.set(this.auth._key(),e)}return this.bypassAuthState||Eh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KC(r,e){const t=WC(e),s=XC(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function YC(r,e){Eh.set(r._key(),e)}function XC(r){return Bi(r._redirectPersistence)}function WC(r){return _h($C,r.config.apiKey,r.name)}async function JC(r,e,t=!1){if($n(r.app))return Promise.reject(Fi(r));const s=Ws(r),o=ob(s,e),d=await new QC(s,o,t).execute();return d&&!t&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=10*60*1e3;class eI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tI(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!cb(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Vr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ZC&&this.cachedEventUids.clear(),this.cachedEventUids.has(V0(e))}saveEventToCache(e){this.cachedEventUids.add(V0(e)),this.lastProcessedEventTime=Date.now()}}function V0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function cb({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function tI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cb(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nI(r,e={}){return Wi(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iI=/^https?/;async function sI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await nI(r);for(const t of e)try{if(aI(t))return}catch{}yr(r,"unauthorized-domain")}function aI(r){const e=Km(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&d.hostname===s}if(!iI.test(t))return!1;if(rI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=new qu(3e4,6e4);function j0(){const r=ai().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function lI(r){return new Promise((e,t)=>{var s,o,u;function d(){j0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{j0(),t(Vr(r,"network-request-failed"))},timeout:oI.get()})}if(!((o=(s=ai().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=ai().gapi)===null||u===void 0)&&u.load)d();else{const m=ZR("iframefcb");return ai()[m]=()=>{gapi.load?d():t(Vr(r,"network-request-failed"))},QT(`${JR()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw Th=null,e})}let Th=null;function uI(r){return Th=Th||lI(r),Th}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=new qu(5e3,15e3),hI="__/auth/iframe",dI="emulator/auth/iframe",fI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pI(r){const e=r.config;Se(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Pp(e,dI):`https://${r.config.authDomain}/${hI}`,s={apiKey:e.apiKey,appName:r.name,v:sl},o=mI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Bu(s).slice(1)}`}async function gI(r){const e=await uI(r),t=ai().gapi;return Se(t,r,"internal-error"),e.open({where:document.body,url:pI(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const d=Vr(r,"network-request-failed"),m=ai().setTimeout(()=>{u(d)},cI.get());function p(){ai().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vI=500,_I=600,EI="_blank",TI="http://localhost";class k0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bI(r,e,t,s=vI,o=_I){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},yI),{width:s.toString(),height:o.toString(),top:u,left:d}),g=mn().toLowerCase();t&&(m=zT(g)?EI:t),LT(g)&&(e=e||TI,p.scrollbars="yes");const E=Object.entries(p).reduce((x,[M,D])=>`${x}${M}=${D},`,"");if(FR(g)&&m!=="_self")return wI(e||"",m),new k0(null);const S=window.open(e||"",m,E);Se(S,r,"popup-blocked");try{S.focus()}catch{}return new k0(S)}function wI(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="__/auth/handler",SI="emulator/auth/handler",xI=encodeURIComponent("fac");async function L0(r,e,t,s,o,u){Se(r.config.authDomain,r,"auth-domain-config-required"),Se(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:sl,eventId:o};if(e instanceof Up){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",c2(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))d[E]=S}if(e instanceof Hu){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(d.scopes=E.join(","))}r.tenantId&&(d.tid=r.tenantId);const m=d;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${xI}=${encodeURIComponent(p)}`:"";return`${RI(r)}?${Bu(m).slice(1)}${g}`}function RI({config:r}){return r.emulator?Pp(r,SI):`https://${r.authDomain}/${AI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="webStorageSupport";class CI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nb,this._completeRedirectFn=JC,this._overrideRedirectResult=YC}async _openPopup(e,t,s,o){var u;Qi((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const d=await L0(e,t,s,Km(),o);return bI(e,d,Bp())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await L0(e,t,s,Km(),o);return DC(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(Qi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await gI(e),s=new eI(e);return t.register("authEvent",o=>(Se(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Vm,{type:Vm},o=>{var u;const d=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Vm];d!==void 0&&t(!!d),yr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=sI(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return GT()||UT()||jp()}}const II=CI;var U0="@firebase/auth",z0="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DI(r){$o(new Va("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:m}=s.options;Se(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:d,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$T(r)},g=new YR(s,o,u,p);return sC(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),$o(new Va("auth-internal",e=>{const t=Ws(e.getProvider("auth").getImmediate());return(s=>new NI(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Us(U0,z0,OI(r)),Us(U0,z0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=5*60,PI=AT("authIdTokenMaxAge")||MI;let B0=null;const VI=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>PI)return;const o=t==null?void 0:t.token;B0!==o&&(B0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function jI(r=CT()){const e=Np(r,"auth");if(e.isInitialized())return e.getImmediate();const t=iC(r,{popupRedirectResolver:II,persistence:[BC,IC,nb]}),s=AT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const d=VI(u.toString());SC(t,d,()=>d(t.currentUser)),AC(t,m=>d(m))}}const o=bT("auth");return o&&aC(t,`http://${o}`),t}function kI(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}XR({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Vr("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",kI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DI("Browser");var LI="firebase",UI="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Us(LI,UI,"app");var q0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zs,hb;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,R){function I(){}I.prototype=R.prototype,V.D=R.prototype,V.prototype=new I,V.prototype.constructor=V,V.C=function(P,L,U){for(var C=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)C[ve-2]=arguments[ve];return R.prototype[L].apply(P,C)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,R,I){I||(I=0);var P=Array(16);if(typeof R=="string")for(var L=0;16>L;++L)P[L]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(L=0;16>L;++L)P[L]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=V.g[0],I=V.g[1],L=V.g[2];var U=V.g[3],C=R+(U^I&(L^U))+P[0]+3614090360&4294967295;R=I+(C<<7&4294967295|C>>>25),C=U+(L^R&(I^L))+P[1]+3905402710&4294967295,U=R+(C<<12&4294967295|C>>>20),C=L+(I^U&(R^I))+P[2]+606105819&4294967295,L=U+(C<<17&4294967295|C>>>15),C=I+(R^L&(U^R))+P[3]+3250441966&4294967295,I=L+(C<<22&4294967295|C>>>10),C=R+(U^I&(L^U))+P[4]+4118548399&4294967295,R=I+(C<<7&4294967295|C>>>25),C=U+(L^R&(I^L))+P[5]+1200080426&4294967295,U=R+(C<<12&4294967295|C>>>20),C=L+(I^U&(R^I))+P[6]+2821735955&4294967295,L=U+(C<<17&4294967295|C>>>15),C=I+(R^L&(U^R))+P[7]+4249261313&4294967295,I=L+(C<<22&4294967295|C>>>10),C=R+(U^I&(L^U))+P[8]+1770035416&4294967295,R=I+(C<<7&4294967295|C>>>25),C=U+(L^R&(I^L))+P[9]+2336552879&4294967295,U=R+(C<<12&4294967295|C>>>20),C=L+(I^U&(R^I))+P[10]+4294925233&4294967295,L=U+(C<<17&4294967295|C>>>15),C=I+(R^L&(U^R))+P[11]+2304563134&4294967295,I=L+(C<<22&4294967295|C>>>10),C=R+(U^I&(L^U))+P[12]+1804603682&4294967295,R=I+(C<<7&4294967295|C>>>25),C=U+(L^R&(I^L))+P[13]+4254626195&4294967295,U=R+(C<<12&4294967295|C>>>20),C=L+(I^U&(R^I))+P[14]+2792965006&4294967295,L=U+(C<<17&4294967295|C>>>15),C=I+(R^L&(U^R))+P[15]+1236535329&4294967295,I=L+(C<<22&4294967295|C>>>10),C=R+(L^U&(I^L))+P[1]+4129170786&4294967295,R=I+(C<<5&4294967295|C>>>27),C=U+(I^L&(R^I))+P[6]+3225465664&4294967295,U=R+(C<<9&4294967295|C>>>23),C=L+(R^I&(U^R))+P[11]+643717713&4294967295,L=U+(C<<14&4294967295|C>>>18),C=I+(U^R&(L^U))+P[0]+3921069994&4294967295,I=L+(C<<20&4294967295|C>>>12),C=R+(L^U&(I^L))+P[5]+3593408605&4294967295,R=I+(C<<5&4294967295|C>>>27),C=U+(I^L&(R^I))+P[10]+38016083&4294967295,U=R+(C<<9&4294967295|C>>>23),C=L+(R^I&(U^R))+P[15]+3634488961&4294967295,L=U+(C<<14&4294967295|C>>>18),C=I+(U^R&(L^U))+P[4]+3889429448&4294967295,I=L+(C<<20&4294967295|C>>>12),C=R+(L^U&(I^L))+P[9]+568446438&4294967295,R=I+(C<<5&4294967295|C>>>27),C=U+(I^L&(R^I))+P[14]+3275163606&4294967295,U=R+(C<<9&4294967295|C>>>23),C=L+(R^I&(U^R))+P[3]+4107603335&4294967295,L=U+(C<<14&4294967295|C>>>18),C=I+(U^R&(L^U))+P[8]+1163531501&4294967295,I=L+(C<<20&4294967295|C>>>12),C=R+(L^U&(I^L))+P[13]+2850285829&4294967295,R=I+(C<<5&4294967295|C>>>27),C=U+(I^L&(R^I))+P[2]+4243563512&4294967295,U=R+(C<<9&4294967295|C>>>23),C=L+(R^I&(U^R))+P[7]+1735328473&4294967295,L=U+(C<<14&4294967295|C>>>18),C=I+(U^R&(L^U))+P[12]+2368359562&4294967295,I=L+(C<<20&4294967295|C>>>12),C=R+(I^L^U)+P[5]+4294588738&4294967295,R=I+(C<<4&4294967295|C>>>28),C=U+(R^I^L)+P[8]+2272392833&4294967295,U=R+(C<<11&4294967295|C>>>21),C=L+(U^R^I)+P[11]+1839030562&4294967295,L=U+(C<<16&4294967295|C>>>16),C=I+(L^U^R)+P[14]+4259657740&4294967295,I=L+(C<<23&4294967295|C>>>9),C=R+(I^L^U)+P[1]+2763975236&4294967295,R=I+(C<<4&4294967295|C>>>28),C=U+(R^I^L)+P[4]+1272893353&4294967295,U=R+(C<<11&4294967295|C>>>21),C=L+(U^R^I)+P[7]+4139469664&4294967295,L=U+(C<<16&4294967295|C>>>16),C=I+(L^U^R)+P[10]+3200236656&4294967295,I=L+(C<<23&4294967295|C>>>9),C=R+(I^L^U)+P[13]+681279174&4294967295,R=I+(C<<4&4294967295|C>>>28),C=U+(R^I^L)+P[0]+3936430074&4294967295,U=R+(C<<11&4294967295|C>>>21),C=L+(U^R^I)+P[3]+3572445317&4294967295,L=U+(C<<16&4294967295|C>>>16),C=I+(L^U^R)+P[6]+76029189&4294967295,I=L+(C<<23&4294967295|C>>>9),C=R+(I^L^U)+P[9]+3654602809&4294967295,R=I+(C<<4&4294967295|C>>>28),C=U+(R^I^L)+P[12]+3873151461&4294967295,U=R+(C<<11&4294967295|C>>>21),C=L+(U^R^I)+P[15]+530742520&4294967295,L=U+(C<<16&4294967295|C>>>16),C=I+(L^U^R)+P[2]+3299628645&4294967295,I=L+(C<<23&4294967295|C>>>9),C=R+(L^(I|~U))+P[0]+4096336452&4294967295,R=I+(C<<6&4294967295|C>>>26),C=U+(I^(R|~L))+P[7]+1126891415&4294967295,U=R+(C<<10&4294967295|C>>>22),C=L+(R^(U|~I))+P[14]+2878612391&4294967295,L=U+(C<<15&4294967295|C>>>17),C=I+(U^(L|~R))+P[5]+4237533241&4294967295,I=L+(C<<21&4294967295|C>>>11),C=R+(L^(I|~U))+P[12]+1700485571&4294967295,R=I+(C<<6&4294967295|C>>>26),C=U+(I^(R|~L))+P[3]+2399980690&4294967295,U=R+(C<<10&4294967295|C>>>22),C=L+(R^(U|~I))+P[10]+4293915773&4294967295,L=U+(C<<15&4294967295|C>>>17),C=I+(U^(L|~R))+P[1]+2240044497&4294967295,I=L+(C<<21&4294967295|C>>>11),C=R+(L^(I|~U))+P[8]+1873313359&4294967295,R=I+(C<<6&4294967295|C>>>26),C=U+(I^(R|~L))+P[15]+4264355552&4294967295,U=R+(C<<10&4294967295|C>>>22),C=L+(R^(U|~I))+P[6]+2734768916&4294967295,L=U+(C<<15&4294967295|C>>>17),C=I+(U^(L|~R))+P[13]+1309151649&4294967295,I=L+(C<<21&4294967295|C>>>11),C=R+(L^(I|~U))+P[4]+4149444226&4294967295,R=I+(C<<6&4294967295|C>>>26),C=U+(I^(R|~L))+P[11]+3174756917&4294967295,U=R+(C<<10&4294967295|C>>>22),C=L+(R^(U|~I))+P[2]+718787259&4294967295,L=U+(C<<15&4294967295|C>>>17),C=I+(U^(L|~R))+P[9]+3951481745&4294967295,V.g[0]=V.g[0]+R&4294967295,V.g[1]=V.g[1]+(L+(C<<21&4294967295|C>>>11))&4294967295,V.g[2]=V.g[2]+L&4294967295,V.g[3]=V.g[3]+U&4294967295}s.prototype.u=function(V,R){R===void 0&&(R=V.length);for(var I=R-this.blockSize,P=this.B,L=this.h,U=0;U<R;){if(L==0)for(;U<=I;)o(this,V,U),U+=this.blockSize;if(typeof V=="string"){for(;U<R;)if(P[L++]=V.charCodeAt(U++),L==this.blockSize){o(this,P),L=0;break}}else for(;U<R;)if(P[L++]=V[U++],L==this.blockSize){o(this,P),L=0;break}}this.h=L,this.o+=R},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var R=1;R<V.length-8;++R)V[R]=0;var I=8*this.o;for(R=V.length-8;R<V.length;++R)V[R]=I&255,I/=256;for(this.u(V),V=Array(16),R=I=0;4>R;++R)for(var P=0;32>P;P+=8)V[I++]=this.g[R]>>>P&255;return V};function u(V,R){var I=m;return Object.prototype.hasOwnProperty.call(I,V)?I[V]:I[V]=R(V)}function d(V,R){this.h=R;for(var I=[],P=!0,L=V.length-1;0<=L;L--){var U=V[L]|0;P&&U==R||(I[L]=U,P=!1)}this.g=I}var m={};function p(V){return-128<=V&&128>V?u(V,function(R){return new d([R|0],0>R?-1:0)}):new d([V|0],0>V?-1:0)}function g(V){if(isNaN(V)||!isFinite(V))return S;if(0>V)return k(g(-V));for(var R=[],I=1,P=0;V>=I;P++)R[P]=V/I|0,I*=4294967296;return new d(R,0)}function E(V,R){if(V.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(V.charAt(0)=="-")return k(E(V.substring(1),R));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(R,8)),P=S,L=0;L<V.length;L+=8){var U=Math.min(8,V.length-L),C=parseInt(V.substring(L,L+U),R);8>U?(U=g(Math.pow(R,U)),P=P.j(U).add(g(C))):(P=P.j(I),P=P.add(g(C)))}return P}var S=p(0),x=p(1),M=p(16777216);r=d.prototype,r.m=function(){if(K(this))return-k(this).m();for(var V=0,R=1,I=0;I<this.g.length;I++){var P=this.i(I);V+=(0<=P?P:4294967296+P)*R,R*=4294967296}return V},r.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(D(this))return"0";if(K(this))return"-"+k(this).toString(V);for(var R=g(Math.pow(V,6)),I=this,P="";;){var L=ye(I,R).g;I=H(I,L.j(R));var U=((0<I.g.length?I.g[0]:I.h)>>>0).toString(V);if(I=L,D(I))return U+P;for(;6>U.length;)U="0"+U;P=U+P}},r.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function D(V){if(V.h!=0)return!1;for(var R=0;R<V.g.length;R++)if(V.g[R]!=0)return!1;return!0}function K(V){return V.h==-1}r.l=function(V){return V=H(this,V),K(V)?-1:D(V)?0:1};function k(V){for(var R=V.g.length,I=[],P=0;P<R;P++)I[P]=~V.g[P];return new d(I,~V.h).add(x)}r.abs=function(){return K(this)?k(this):this},r.add=function(V){for(var R=Math.max(this.g.length,V.g.length),I=[],P=0,L=0;L<=R;L++){var U=P+(this.i(L)&65535)+(V.i(L)&65535),C=(U>>>16)+(this.i(L)>>>16)+(V.i(L)>>>16);P=C>>>16,U&=65535,C&=65535,I[L]=C<<16|U}return new d(I,I[I.length-1]&-2147483648?-1:0)};function H(V,R){return V.add(k(R))}r.j=function(V){if(D(this)||D(V))return S;if(K(this))return K(V)?k(this).j(k(V)):k(k(this).j(V));if(K(V))return k(this.j(k(V)));if(0>this.l(M)&&0>V.l(M))return g(this.m()*V.m());for(var R=this.g.length+V.g.length,I=[],P=0;P<2*R;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(var L=0;L<V.g.length;L++){var U=this.i(P)>>>16,C=this.i(P)&65535,ve=V.i(L)>>>16,Oe=V.i(L)&65535;I[2*P+2*L]+=C*Oe,re(I,2*P+2*L),I[2*P+2*L+1]+=U*Oe,re(I,2*P+2*L+1),I[2*P+2*L+1]+=C*ve,re(I,2*P+2*L+1),I[2*P+2*L+2]+=U*ve,re(I,2*P+2*L+2)}for(P=0;P<R;P++)I[P]=I[2*P+1]<<16|I[2*P];for(P=R;P<2*R;P++)I[P]=0;return new d(I,0)};function re(V,R){for(;(V[R]&65535)!=V[R];)V[R+1]+=V[R]>>>16,V[R]&=65535,R++}function se(V,R){this.g=V,this.h=R}function ye(V,R){if(D(R))throw Error("division by zero");if(D(V))return new se(S,S);if(K(V))return R=ye(k(V),R),new se(k(R.g),k(R.h));if(K(R))return R=ye(V,k(R)),new se(k(R.g),R.h);if(30<V.g.length){if(K(V)||K(R))throw Error("slowDivide_ only works with positive integers.");for(var I=x,P=R;0>=P.l(V);)I=he(I),P=he(P);var L=Ae(I,1),U=Ae(P,1);for(P=Ae(P,2),I=Ae(I,2);!D(P);){var C=U.add(P);0>=C.l(V)&&(L=L.add(I),U=C),P=Ae(P,1),I=Ae(I,1)}return R=H(V,L.j(R)),new se(L,R)}for(L=S;0<=V.l(R);){for(I=Math.max(1,Math.floor(V.m()/R.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),U=g(I),C=U.j(R);K(C)||0<C.l(V);)I-=P,U=g(I),C=U.j(R);D(U)&&(U=x),L=L.add(U),V=H(V,C)}return new se(L,V)}r.A=function(V){return ye(this,V).h},r.and=function(V){for(var R=Math.max(this.g.length,V.g.length),I=[],P=0;P<R;P++)I[P]=this.i(P)&V.i(P);return new d(I,this.h&V.h)},r.or=function(V){for(var R=Math.max(this.g.length,V.g.length),I=[],P=0;P<R;P++)I[P]=this.i(P)|V.i(P);return new d(I,this.h|V.h)},r.xor=function(V){for(var R=Math.max(this.g.length,V.g.length),I=[],P=0;P<R;P++)I[P]=this.i(P)^V.i(P);return new d(I,this.h^V.h)};function he(V){for(var R=V.g.length+1,I=[],P=0;P<R;P++)I[P]=V.i(P)<<1|V.i(P-1)>>>31;return new d(I,V.h)}function Ae(V,R){var I=R>>5;R%=32;for(var P=V.g.length-I,L=[],U=0;U<P;U++)L[U]=0<R?V.i(U+I)>>>R|V.i(U+I+1)<<32-R:V.i(U+I);return new d(L,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,hb=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=g,d.fromString=E,zs=d}).apply(typeof q0<"u"?q0:typeof self<"u"?self:typeof window<"u"?window:{});var hh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var db,pu,fb,bh,Jm,mb,pb,gb;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof hh=="object"&&hh];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var q=c[w];if(!(q in _))break e;_=_[q]}c=c[c.length-1],w=_[c],y=y(w),y!=w&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,w=!1,q={next:function(){if(!w&&_<c.length){var W=_++;return{value:y(W,c[W]),done:!1}}return w=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function S(c,y,_){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,w),c.apply(y,q)}}return function(){return c.apply(y,arguments)}}function x(c,y,_){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,x.apply(null,arguments)}function M(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function D(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(w,q,W){for(var ue=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)ue[Fe-2]=arguments[Fe];return y.prototype[q].apply(w,ue)}}function K(c){const y=c.length;if(0<y){const _=Array(y);for(let w=0;w<y;w++)_[w]=c[w];return _}return[]}function k(c,y){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(p(w)){const q=c.length||0,W=w.length||0;c.length=q+W;for(let ue=0;ue<W;ue++)c[q+ue]=w[ue]}else c.push(w)}}class H{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function re(c){return/^[\s\xa0]*$/.test(c)}function se(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ye(c){return ye[" "](c),c}ye[" "]=function(){};var he=se().indexOf("Gecko")!=-1&&!(se().toLowerCase().indexOf("webkit")!=-1&&se().indexOf("Edge")==-1)&&!(se().indexOf("Trident")!=-1||se().indexOf("MSIE")!=-1)&&se().indexOf("Edge")==-1;function Ae(c,y,_){for(const w in c)y.call(_,c[w],w,c)}function V(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function R(c){const y={};for(const _ in c)y[_]=c[_];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(c,y){let _,w;for(let q=1;q<arguments.length;q++){w=arguments[q];for(_ in w)c[_]=w[_];for(let W=0;W<I.length;W++)_=I[W],Object.prototype.hasOwnProperty.call(w,_)&&(c[_]=w[_])}}function L(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function U(c){m.setTimeout(()=>{throw c},0)}function C(){var c=ze;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ve{constructor(){this.h=this.g=null}add(y,_){const w=Oe.get();w.set(y,_),this.h?this.h.next=w:this.g=w,this.h=w}}var Oe=new H(()=>new J,c=>c.reset());class J{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let le,ge=!1,ze=new ve,N=()=>{const c=m.Promise.resolve(void 0);le=()=>{c.then(ae)}};var ae=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){U(_)}var y=Oe;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ge=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var Ee=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function De(c,y){if(oe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(he){e:{try{ye(y.nodeName);var q=!0;break e}catch{}q=!1}q||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Re[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&De.aa.h.call(this)}}D(De,oe);var Re={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var St="closure_listenable_"+(1e6*Math.random()|0),tt=0;function Kn(c,y,_,w,q){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!w,this.ha=q,this.key=++tt,this.da=this.fa=!1}function zr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Yn(c){this.src=c,this.g={},this.h=0}Yn.prototype.add=function(c,y,_,w,q){var W=c.toString();c=this.g[W],c||(c=this.g[W]=[],this.h++);var ue=fi(c,y,w,q);return-1<ue?(y=c[ue],_||(y.fa=!1)):(y=new Kn(y,this.src,W,!!w,q),y.fa=_,c.push(y)),y};function di(c,y){var _=y.type;if(_ in c.g){var w=c.g[_],q=Array.prototype.indexOf.call(w,y,void 0),W;(W=0<=q)&&Array.prototype.splice.call(w,q,1),W&&(zr(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function fi(c,y,_,w){for(var q=0;q<c.length;++q){var W=c[q];if(!W.da&&W.listener==y&&W.capture==!!_&&W.ha==w)return q}return-1}var Br="closure_lm_"+(1e6*Math.random()|0),Ji={};function Zi(c,y,_,w,q){if(Array.isArray(y)){for(var W=0;W<y.length;W++)Zi(c,y[W],_,w,q);return null}return _=pi(_),c&&c[St]?c.K(y,_,g(w)?!!w.capture:!1,q):pn(c,y,_,!1,w,q)}function pn(c,y,_,w,q,W){if(!y)throw Error("Invalid event type");var ue=g(q)?!!q.capture:!!q,Fe=mi(c);if(Fe||(c[Br]=Fe=new Yn(c)),_=Fe.add(y,_,w,ue,W),_.proxy)return _;if(w=fl(),_.proxy=w,w.src=c,w.listener=_,c.addEventListener)Ee||(q=ue),q===void 0&&(q=!1),c.addEventListener(y.toString(),w,q);else if(c.attachEvent)c.attachEvent(_r(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function fl(){function c(_){return y.call(c.src,c.listener,_)}const y=Qa;return c}function ea(c,y,_,w,q){if(Array.isArray(y))for(var W=0;W<y.length;W++)ea(c,y[W],_,w,q);else w=g(w)?!!w.capture:!!w,_=pi(_),c&&c[St]?(c=c.i,y=String(y).toString(),y in c.g&&(W=c.g[y],_=fi(W,_,w,q),-1<_&&(zr(W[_]),Array.prototype.splice.call(W,_,1),W.length==0&&(delete c.g[y],c.h--)))):c&&(c=mi(c))&&(y=c.g[y.toString()],c=-1,y&&(c=fi(y,_,w,q)),(_=-1<c?y[c]:null)&&vr(_))}function vr(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[St])di(y.i,c);else{var _=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(_,w,c.capture):y.detachEvent?y.detachEvent(_r(_),w):y.addListener&&y.removeListener&&y.removeListener(w),(_=mi(y))?(di(_,c),_.h==0&&(_.src=null,y[Br]=null)):zr(c)}}}function _r(c){return c in Ji?Ji[c]:Ji[c]="on"+c}function Qa(c,y){if(c.da)c=!0;else{y=new De(y,this);var _=c.listener,w=c.ha||c.src;c.fa&&vr(c),c=_.call(w,y)}return c}function mi(c){return c=c[Br],c instanceof Yn?c:null}var wn="__closure_events_fn_"+(1e9*Math.random()>>>0);function pi(c){return typeof c=="function"?c:(c[wn]||(c[wn]=function(y){return c.handleEvent(y)}),c[wn])}function ut(){ce.call(this),this.i=new Yn(this),this.M=this,this.F=null}D(ut,ce),ut.prototype[St]=!0,ut.prototype.removeEventListener=function(c,y,_,w){ea(this,c,y,_,w)};function Qe(c,y){var _,w=c.F;if(w)for(_=[];w;w=w.F)_.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new oe(y,c);else if(y instanceof oe)y.target=y.target||c;else{var q=y;y=new oe(w,c),P(y,q)}if(q=!0,_)for(var W=_.length-1;0<=W;W--){var ue=y.g=_[W];q=an(ue,w,!0,y)&&q}if(ue=y.g=c,q=an(ue,w,!0,y)&&q,q=an(ue,w,!1,y)&&q,_)for(W=0;W<_.length;W++)ue=y.g=_[W],q=an(ue,w,!1,y)&&q}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],w=0;w<_.length;w++)zr(_[w]);delete c.g[y],c.h--}}this.F=null},ut.prototype.K=function(c,y,_,w){return this.i.add(String(c),y,!1,_,w)},ut.prototype.L=function(c,y,_,w){return this.i.add(String(c),y,!0,_,w)};function an(c,y,_,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var q=!0,W=0;W<y.length;++W){var ue=y[W];if(ue&&!ue.da&&ue.capture==_){var Fe=ue.listener,Pt=ue.ha||ue.src;ue.fa&&di(c.i,ue),q=Fe.call(Pt,w)!==!1&&q}}return q&&!w.defaultPrevented}function Ot(c,y,_){if(typeof c=="function")_&&(c=x(c,_));else if(c&&typeof c.handleEvent=="function")c=x(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Ka(c){c.g=Ot(()=>{c.g=null,c.i&&(c.i=!1,Ka(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class ml extends ce{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ka(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gi(c){ce.call(this),this.h=c,this.g={}}D(gi,ce);var yi=[];function qr(c){Ae(c.g,function(y,_){this.g.hasOwnProperty(_)&&vr(y)},c),c.g={}}gi.prototype.N=function(){gi.aa.N.call(this),qr(this)},gi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dn=m.JSON.stringify,es=m.JSON.parse,Er=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Tr(){}Tr.prototype.h=null;function vi(c){return c.h||(c.h=c.i())}function _i(){}var Mn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gn(){oe.call(this,"d")}D(gn,oe);function ta(){oe.call(this,"c")}D(ta,oe);var Xn={},na=null;function Fr(){return na=na||new ut}Xn.La="serverreachability";function ts(c){oe.call(this,Xn.La,c)}D(ts,oe);function br(c){const y=Fr();Qe(y,new ts(y))}Xn.STAT_EVENT="statevent";function ra(c,y){oe.call(this,Xn.STAT_EVENT,c),this.stat=y}D(ra,oe);function Ke(c){const y=Fr();Qe(y,new ra(y,c))}Xn.Ma="timingevent";function Et(c,y){oe.call(this,Xn.Ma,c),this.size=y}D(Et,oe);function gt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function An(){this.g=!0}An.prototype.xa=function(){this.g=!1};function ia(c,y,_,w,q,W){c.info(function(){if(c.g)if(W)for(var ue="",Fe=W.split("&"),Pt=0;Pt<Fe.length;Pt++){var He=Fe[Pt].split("=");if(1<He.length){var qt=He[0];He=He[1];var Vt=qt.split("_");ue=2<=Vt.length&&Vt[1]=="type"?ue+(qt+"="+He+"&"):ue+(qt+"=redacted&")}}else ue=null;else ue=W;return"XMLHTTP REQ ("+w+") [attempt "+q+"]: "+y+`
`+_+`
`+ue})}function pl(c,y,_,w,q,W,ue){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+q+"]: "+y+`
`+_+`
`+W+" "+ue})}function Bt(c,y,_,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ei(c,_)+(w?" "+w:"")})}function Ya(c,y){c.info(function(){return"TIMEOUT: "+y})}An.prototype.info=function(){};function Ei(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var w=_[c];if(!(2>w.length)){var q=w[1];if(Array.isArray(q)&&!(1>q.length)){var W=q[0];if(W!="noop"&&W!="stop"&&W!="close")for(var ue=1;ue<q.length;ue++)q[ue]=""}}}}return Dn(_)}catch{return y}}var Hr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wn;function Kt(){}D(Kt,Tr),Kt.prototype.g=function(){return new XMLHttpRequest},Kt.prototype.i=function(){return{}},Wn=new Kt;function Yt(c,y,_,w){this.j=c,this.i=y,this.l=_,this.R=w||1,this.U=new gi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dt}function dt(){this.i=null,this.g="",this.h=!1}var sa={},ns={};function Pn(c,y,_){c.L=1,c.v=er(yn(y)),c.m=_,c.P=!0,on(c,null)}function on(c,y){c.F=Date.now(),Ti(c),c.A=yn(c.v);var _=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),ls(_.i,"t",w),c.C=0,_=c.j.J,c.h=new dt,c.g=sc(c.j,_?y:null,!c.m),0<c.O&&(c.M=new ml(x(c.Y,c,c.g),c.O)),y=c.U,_=c.g,w=c.ca;var q="readystatechange";Array.isArray(q)||(q&&(yi[0]=q.toString()),q=yi);for(var W=0;W<q.length;W++){var ue=Zi(_,q[W],w||y.handleEvent,!1,y.h||y);if(!ue)break;y.g[ue.key]=ue}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),br(),ia(c.i,c.u,c.A,c.l,c.R,c.m)}Yt.prototype.ca=function(c){c=c.target;const y=this.M;y&&_n(c)==3?y.j():this.Y(c)},Yt.prototype.Y=function(c){try{if(c==this.g)e:{const Vt=_n(this.g);var y=this.g.Ba();const xi=this.g.Z();if(!(3>Vt)&&(Vt!=3||this.g&&(this.h.h||this.g.oa()||da(this.g)))){this.J||Vt!=4||y==7||(y==8||0>=xi?br(3):br(2)),Gr(this);var _=this.g.Z();this.X=_;t:if(Xa(this)){var w=da(this.g);c="";var q=w.length,W=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xt(this),Jn(this);var ue="";break t}this.h.i=new m.TextDecoder}for(y=0;y<q;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!(W&&y==q-1)});w.length=0,this.h.g+=c,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=_==200,pl(this.i,this.u,this.A,this.l,this.R,Vt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,Pt=this.g;if((Fe=Pt.g?Pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(Fe)){var He=Fe;break t}}He=null}if(_=He)Bt(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zn(this,_);else{this.o=!1,this.s=3,Ke(12),xt(this),Jn(this);break e}}if(this.P){_=!0;let Jt;for(;!this.J&&this.C<ue.length;)if(Jt=Wa(this,ue),Jt==ns){Vt==4&&(this.s=4,Ke(14),_=!1),Bt(this.i,this.l,null,"[Incomplete Response]");break}else if(Jt==sa){this.s=4,Ke(15),Bt(this.i,this.l,ue,"[Invalid Chunk]"),_=!1;break}else Bt(this.i,this.l,Jt,null),Zn(this,Jt);if(Xa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||ue.length!=0||this.h.h||(this.s=1,Ke(16),_=!1),this.o=this.o&&_,!_)Bt(this.i,this.l,ue,"[Invalid Chunked Response]"),xt(this),Jn(this);else if(0<ue.length&&!this.W){this.W=!0;var qt=this.j;qt.g==this&&qt.ba&&!qt.M&&(qt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),ma(qt),qt.M=!0,Ke(11))}}else Bt(this.i,this.l,ue,null),Zn(this,ue);Vt==4&&xt(this),this.o&&!this.J&&(Vt==4?nc(this.j,this):(this.o=!1,Ti(this)))}else eo(this.g),_==400&&0<ue.indexOf("Unknown SID")?(this.s=3,Ke(12)):(this.s=0,Ke(13)),xt(this),Jn(this)}}}catch{}finally{}};function Xa(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Wa(c,y){var _=c.C,w=y.indexOf(`
`,_);return w==-1?ns:(_=Number(y.substring(_,w)),isNaN(_)?sa:(w+=1,w+_>y.length?ns:(y=y.slice(w,w+_),c.C=w+_,y)))}Yt.prototype.cancel=function(){this.J=!0,xt(this)};function Ti(c){c.S=Date.now()+c.I,Ja(c,c.I)}function Ja(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=gt(x(c.ba,c),y)}function Gr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Yt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ya(this.i,this.A),this.L!=2&&(br(),Ke(17)),xt(this),this.s=2,Jn(this)):Ja(this,this.S-c)};function Jn(c){c.j.G==0||c.J||nc(c.j,c)}function xt(c){Gr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,qr(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Zn(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||aa(_.h,c))){if(!c.K&&aa(_.h,c)&&_.G==3){try{var w=_.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var q=w;if(q[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ro(_),to(_);else break e;Tl(_),Ke(18)}}else _.za=q[1],0<_.za-_.T&&37500>q[2]&&_.F&&_.v==0&&!_.C&&(_.C=gt(x(_.Za,_),6e3));if(1>=is(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Si(_,11)}else if((c.K||_.g==c)&&ro(_),!re(y))for(q=_.Da.g.parse(y),y=0;y<q.length;y++){let He=q[y];if(_.T=He[0],He=He[1],_.G==2)if(He[0]=="c"){_.K=He[1],_.ia=He[2];const qt=He[3];qt!=null&&(_.la=qt,_.j.info("VER="+_.la));const Vt=He[4];Vt!=null&&(_.Aa=Vt,_.j.info("SVER="+_.Aa));const xi=He[5];xi!=null&&typeof xi=="number"&&0<xi&&(w=1.5*xi,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const Jt=c.g;if(Jt){const Xr=Jt.g?Jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xr){var W=w.h;W.g||Xr.indexOf("spdy")==-1&&Xr.indexOf("quic")==-1&&Xr.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(ss(W,W.h),W.h=null))}if(w.D){const wl=Jt.g?Jt.g.getResponseHeader("X-HTTP-Session-Id"):null;wl&&(w.ya=wl,We(w.I,w.D,wl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var ue=c;if(w.qa=ic(w,w.J?w.ia:null,w.W),ue.K){Xt(w.h,ue);var Fe=ue,Pt=w.L;Pt&&(Fe.I=Pt),Fe.B&&(Gr(Fe),Ti(Fe)),w.g=ue}else ec(w);0<_.i.length&&no(_)}else He[0]!="stop"&&He[0]!="close"||Si(_,7);else _.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Si(_,7):_l(_):He[0]!="noop"&&_.l&&_.l.ta(He),_.v=0)}}br(4)}catch{}}var Za=class{constructor(c,y){this.g=c,this.map=y}};function Vn(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function rs(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function is(c){return c.h?1:c.g?c.g.size:0}function aa(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ss(c,y){c.g?c.g.add(y):c.h=y}function Xt(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Vn.prototype.cancel=function(){if(this.i=oa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function oa(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return K(c.i)}function la(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,w=0;w<_;w++)y.push(c[w]);return y}y=[],_=0;for(w in c)y[_++]=c[w];return y}function as(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const w in c)y[_++]=w;return y}}}function ua(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=as(c),w=la(c),q=w.length,W=0;W<q;W++)y.call(void 0,w[W],_&&_[W],c)}var bi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gl(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var w=c[_].indexOf("="),q=null;if(0<=w){var W=c[_].substring(0,w);q=c[_].substring(w+1)}else W=c[_];y(W,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function yt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof yt){this.h=c.h,wi(this,c.j),this.o=c.o,this.g=c.g,Ar(this,c.s),this.l=c.l;var y=c.i,_=new xr;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Sr(this,_),this.m=c.m}else c&&(y=String(c).match(bi))?(this.h=!1,wi(this,y[1]||"",!0),this.o=Dt(y[2]||""),this.g=Dt(y[3]||"",!0),Ar(this,y[4]),this.l=Dt(y[5]||"",!0),Sr(this,y[6]||"",!0),this.m=Dt(y[7]||"")):(this.h=!1,this.i=new xr(null,this.h))}yt.prototype.toString=function(){var c=[],y=this.j;y&&c.push($r(y,ca,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push($r(y,ca,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push($r(_,_.charAt(0)=="/"?yl:ha,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",$r(_,os)),c.join("")};function yn(c){return new yt(c)}function wi(c,y,_){c.j=_?Dt(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ar(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Sr(c,y,_){y instanceof xr?(c.i=y,us(c.i,c.h)):(_||(y=$r(y,vl)),c.i=new xr(y,c.h))}function We(c,y,_){c.i.set(y,_)}function er(c){return We(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Dt(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function $r(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,tr),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function tr(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ca=/[#\/\?@]/g,ha=/[#\?:]/g,yl=/[#\?]/g,vl=/[#\?@]/g,os=/#/g;function xr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function vn(c){c.g||(c.g=new Map,c.h=0,c.i&&gl(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=xr.prototype,r.add=function(c,y){vn(this),this.i=null,c=nr(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Wt(c,y){vn(c),y=nr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Rr(c,y){return vn(c),y=nr(c,y),c.g.has(y)}r.forEach=function(c,y){vn(this),this.g.forEach(function(_,w){_.forEach(function(q){c.call(y,q,w,this)},this)},this)},r.na=function(){vn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let w=0;w<y.length;w++){const q=c[w];for(let W=0;W<q.length;W++)_.push(y[w])}return _},r.V=function(c){vn(this);let y=[];if(typeof c=="string")Rr(this,c)&&(y=y.concat(this.g.get(nr(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return vn(this),this.i=null,c=nr(this,c),Rr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function ls(c,y,_){Wt(c,y),0<_.length&&(c.i=null,c.g.set(nr(c,y),K(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var w=y[_];const W=encodeURIComponent(String(w)),ue=this.V(w);for(w=0;w<ue.length;w++){var q=W;ue[w]!==""&&(q+="="+encodeURIComponent(String(ue[w]))),c.push(q)}}return this.i=c.join("&")};function nr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function us(c,y){y&&!c.j&&(vn(c),c.i=null,c.g.forEach(function(_,w){var q=w.toLowerCase();w!=q&&(Wt(this,w),ls(this,q,_))},c)),c.j=y}function Qr(c,y){const _=new An;if(m.Image){const w=new Image;w.onload=M(Sn,_,"TestLoadImage: loaded",!0,y,w),w.onerror=M(Sn,_,"TestLoadImage: error",!1,y,w),w.onabort=M(Sn,_,"TestLoadImage: abort",!1,y,w),w.ontimeout=M(Sn,_,"TestLoadImage: timeout",!1,y,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function jn(c,y){const _=new An,w=new AbortController,q=setTimeout(()=>{w.abort(),Sn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(W=>{clearTimeout(q),W.ok?Sn(_,"TestPingServer: ok",!0,y):Sn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),Sn(_,"TestPingServer: error",!1,y)})}function Sn(c,y,_,w,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),w(_)}catch{}}function Kr(){this.g=new Er}function rr(c,y,_){const w=_||"";try{ua(c,function(q,W){let ue=q;g(q)&&(ue=Dn(q)),y.push(w+W+"="+encodeURIComponent(ue))})}catch(q){throw y.push(w+"type="+encodeURIComponent("_badmap")),q}}function kn(c){this.l=c.Ub||null,this.j=c.eb||!1}D(kn,Tr),kn.prototype.g=function(){return new Cr(this.l,this.j)},kn.prototype.i=function(c){return function(){return c}}({});function Cr(c,y){ut.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Cr,ut),r=Cr.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,sr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ir(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,sr(this)),this.g&&(this.readyState=3,sr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ai(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ai(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ir(this):sr(this),this.readyState==3&&Ai(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ir(this))},r.Qa=function(c){this.g&&(this.response=c,ir(this))},r.ga=function(){this.g&&ir(this)};function ir(c){c.readyState=4,c.l=null,c.j=null,c.v=null,sr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function sr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Cr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function A(c){let y="";return Ae(c,function(_,w){y+=w,y+=":",y+=_,y+=`\r
`}),y}function B(c,y,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=A(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):We(c,y,_))}function X(c){ut.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(X,ut);var me=/^https?$/i,ot=["POST","PUT"];r=X.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wn.g(),this.v=this.o?vi(this.o):vi(Wn),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(W){Mt(this,W);return}if(c=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var q in w)_.set(q,w[q]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const W of w.keys())_.set(W,w.get(W));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(W=>W.toLowerCase()=="content-type"),q=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ot,y,void 0))||w||q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ue]of _)this.g.setRequestHeader(W,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xn(this),this.u=!0,this.g.send(c),this.u=!1}catch(W){Mt(this,W)}};function Mt(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ln(c),Ln(c)}function ln(c){c.A||(c.A=!0,Qe(c,"complete"),Qe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Qe(this,"complete"),Qe(this,"abort"),Ln(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ln(this,!0)),X.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Tt(this):this.bb())},r.bb=function(){Tt(this)};function Tt(c){if(c.h&&typeof d<"u"&&(!c.v[1]||_n(c)!=4||c.Z()!=2)){if(c.u&&_n(c)==4)Ot(c.Ea,0,c);else if(Qe(c,"readystatechange"),_n(c)==4){c.h=!1;try{const ue=c.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var w;if(w=ue===0){var q=String(c.D).match(bi)[1]||null;!q&&m.self&&m.self.location&&(q=m.self.location.protocol.slice(0,-1)),w=!me.test(q?q.toLowerCase():"")}_=w}if(_)Qe(c,"complete"),Qe(c,"success");else{c.m=6;try{var W=2<_n(c)?c.g.statusText:""}catch{W=""}c.l=W+" ["+c.Z()+"]",ln(c)}}finally{Ln(c)}}}}function Ln(c,y){if(c.g){xn(c);const _=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Qe(c,"ready");try{_.onreadystatechange=w}catch{}}}function xn(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function _n(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),es(y)}};function da(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function eo(c){const y={};c=(c.g&&2<=_n(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(re(c[w]))continue;var _=L(c[w]);const q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const W=y[q]||[];y[q]=W,W.push(_)}V(y,function(w){return w.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ir(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Nr(c){this.Aa=0,this.i=[],this.j=new An,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ir("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ir("baseRetryDelayMs",5e3,c),this.cb=Ir("retryDelaySeedMs",1e4,c),this.Wa=Ir("forwardChannelMaxRetries",2,c),this.wa=Ir("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Vn(c&&c.concurrentRequestLimit),this.Da=new Kr,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Nr.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,w){Ke(0),this.W=c,this.H=y||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=ic(this,null,this.W),no(this)};function _l(c){if(Ju(c),c.G==3){var y=c.U++,_=yn(c.I);if(We(_,"SID",c.K),We(_,"RID",y),We(_,"TYPE","terminate"),fa(c,_),y=new Yt(c,c.j,y),y.L=2,y.v=er(yn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=sc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ti(y)}rc(c)}function to(c){c.g&&(ma(c),c.g.cancel(),c.g=null)}function Ju(c){to(c),c.u&&(m.clearTimeout(c.u),c.u=null),ro(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function no(c){if(!rs(c.h)&&!c.s){c.s=!0;var y=c.Ga;le||N(),ge||(le(),ge=!0),ze.add(y,c),c.B=0}}function Id(c,y){return is(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=gt(x(c.Ga,c,y),bl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new Yt(this,this.j,c);let W=this.o;if(this.S&&(W?(W=R(W),P(W,this.S)):W=this.S),this.m!==null||this.O||(q.H=W,W=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Zu(this,q,y),_=yn(this.I),We(_,"RID",c),We(_,"CVER",22),this.D&&We(_,"X-HTTP-Session-Id",this.D),fa(this,_),W&&(this.O?y="headers="+encodeURIComponent(String(A(W)))+"&"+y:this.m&&B(_,this.m,W)),ss(this.h,q),this.Ua&&We(_,"TYPE","init"),this.P?(We(_,"$req",y),We(_,"SID","null"),q.T=!0,Pn(q,_,null)):Pn(q,_,y),this.G=2}}else this.G==3&&(c?El(this,c):this.i.length==0||rs(this.h)||El(this))};function El(c,y){var _;y?_=y.l:_=c.U++;const w=yn(c.I);We(w,"SID",c.K),We(w,"RID",_),We(w,"AID",c.T),fa(c,w),c.m&&c.o&&B(w,c.m,c.o),_=new Yt(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Zu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ss(c.h,_),Pn(_,w,y)}function fa(c,y){c.H&&Ae(c.H,function(_,w){We(y,w,_)}),c.l&&ua({},function(_,w){We(y,w,_)})}function Zu(c,y,_){_=Math.min(c.i.length,_);var w=c.l?x(c.l.Na,c.l,c):null;e:{var q=c.i;let W=-1;for(;;){const ue=["count="+_];W==-1?0<_?(W=q[0].g,ue.push("ofs="+W)):W=0:ue.push("ofs="+W);let Fe=!0;for(let Pt=0;Pt<_;Pt++){let He=q[Pt].g;const qt=q[Pt].map;if(He-=W,0>He)W=Math.max(0,q[Pt].g-100),Fe=!1;else try{rr(qt,ue,"req"+He+"_")}catch{w&&w(qt)}}if(Fe){w=ue.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,w}function ec(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;le||N(),ge||(le(),ge=!0),ze.add(y,c),c.v=0}}function Tl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=gt(x(c.Fa,c),bl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,tc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=gt(x(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ke(10),to(this),tc(this))};function ma(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function tc(c){c.g=new Yt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=yn(c.qa);We(y,"RID","rpc"),We(y,"SID",c.K),We(y,"AID",c.T),We(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&We(y,"TO",c.ja),We(y,"TYPE","xmlhttp"),fa(c,y),c.m&&c.o&&B(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=er(yn(y)),_.m=null,_.P=!0,on(_,c)}r.Za=function(){this.C!=null&&(this.C=null,to(this),Tl(this),Ke(19))};function ro(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function nc(c,y){var _=null;if(c.g==y){ro(c),ma(c),c.g=null;var w=2}else if(aa(c.h,y))_=y.D,Xt(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var q=c.B;w=Fr(),Qe(w,new Et(w,_)),no(c)}else ec(c);else if(q=y.s,q==3||q==0&&0<y.X||!(w==1&&Id(c,y)||w==2&&Tl(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),q){case 1:Si(c,5);break;case 4:Si(c,10);break;case 3:Si(c,6);break;default:Si(c,2)}}}function bl(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Si(c,y){if(c.j.info("Error code "+y),y==2){var _=x(c.fb,c),w=c.Xa;const q=!w;w=new yt(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||wi(w,"https"),er(w),q?Qr(w.toString(),_):jn(w.toString(),_)}else Ke(2);c.G=0,c.l&&c.l.sa(y),rc(c),Ju(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ke(2)):(this.j.info("Failed to ping google.com"),Ke(1))};function rc(c){if(c.G=0,c.ka=[],c.l){const y=oa(c.h);(y.length!=0||c.i.length!=0)&&(k(c.ka,y),k(c.ka,c.i),c.h.i.length=0,K(c.i),c.i.length=0),c.l.ra()}}function ic(c,y,_){var w=_ instanceof yt?yn(_):new yt(_);if(w.g!="")y&&(w.g=y+"."+w.g),Ar(w,w.s);else{var q=m.location;w=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;var W=new yt(null);w&&wi(W,w),y&&(W.g=y),q&&Ar(W,q),_&&(W.l=_),w=W}return _=c.D,y=c.ya,_&&y&&We(w,_,y),We(w,"VER",c.la),fa(c,w),w}function sc(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new X(new kn({eb:_})):new X(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ac(){}r=ac.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function io(){}io.prototype.g=function(c,y){return new En(c,y)};function En(c,y){ut.call(this),this.g=new Nr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!re(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!re(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Yr(this)}D(En,ut),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){_l(this.g)},En.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Dn(c),c=_);y.i.push(new Za(y.Ya++,c)),y.G==3&&no(y)},En.prototype.N=function(){this.g.l=null,delete this.j,_l(this.g),delete this.g,En.aa.N.call(this)};function oc(c){gn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}D(oc,gn);function lc(){ta.call(this),this.status=1}D(lc,ta);function Yr(c){this.g=c}D(Yr,ac),Yr.prototype.ua=function(){Qe(this.g,"a")},Yr.prototype.ta=function(c){Qe(this.g,new oc(c))},Yr.prototype.sa=function(c){Qe(this.g,new lc)},Yr.prototype.ra=function(){Qe(this.g,"b")},io.prototype.createWebChannel=io.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,gb=function(){return new io},pb=function(){return Fr()},mb=Xn,Jm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Hr.NO_ERROR=0,Hr.TIMEOUT=8,Hr.HTTP_ERROR=6,bh=Hr,wr.COMPLETE="complete",fb=wr,_i.EventType=Mn,Mn.OPEN="a",Mn.CLOSE="b",Mn.ERROR="c",Mn.MESSAGE="d",ut.prototype.listen=ut.prototype.K,pu=_i,X.prototype.listenOnce=X.prototype.L,X.prototype.getLastError=X.prototype.Ka,X.prototype.getLastErrorCode=X.prototype.Ba,X.prototype.getStatus=X.prototype.Z,X.prototype.getResponseJson=X.prototype.Oa,X.prototype.getResponseText=X.prototype.oa,X.prototype.send=X.prototype.ea,X.prototype.setWithCredentials=X.prototype.Ha,db=X}).apply(typeof hh<"u"?hh:typeof self<"u"?self:typeof window<"u"?window:{});const F0="@firebase/firestore",H0="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ol="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=new Cp("@firebase/firestore");function Po(){return La.logLevel}function de(r,...e){if(La.logLevel<=Be.DEBUG){const t=e.map(Fp);La.debug(`Firestore (${ol}): ${r}`,...t)}}function Ki(r,...e){if(La.logLevel<=Be.ERROR){const t=e.map(Fp);La.error(`Firestore (${ol}): ${r}`,...t)}}function Ko(r,...e){if(La.logLevel<=Be.WARN){const t=e.map(Fp);La.warn(`Firestore (${ol}): ${r}`,...t)}}function Fp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(r,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,yb(r,s,t)}function yb(r,e,t){let s=`FIRESTORE (${ol}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Ki(s),new Error(s)}function Je(r,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,r||yb(e,o,s)}function Ne(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Xi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(dn.UNAUTHENTICATED))}shutdown(){}}class BI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class qI{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Je(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new Hi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Hi,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Hi)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Je(typeof s.accessToken=="string",31837,{l:s}),new vb(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new dn(e)}}class FI{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class HI{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new FI(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class G0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GI{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Je(this.o===void 0,3512);const s=u=>{u.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,de("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new G0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Je(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new G0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=$I(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function je(r,e){return r<e?-1:r>e?1:0}function Zm(r,e){let t=0;for(;t<r.length&&t<e.length;){const s=r.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return je(s,o);{const u=_b(),d=QI(u.encode($0(r,t)),u.encode($0(e,t)));return d!==0?d:je(s,o)}}t+=s>65535?2:1}return je(r.length,e.length)}function $0(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function QI(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return je(r[t],e[t]);return je(r.length,e.length)}function Yo(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=-62135596800,K0=1e6;class Lt{static now(){return Lt.fromMillis(Date.now())}static fromDate(e){return Lt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*K0);return new Lt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Q0)throw new fe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/K0}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Q0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Lt(0,0))}static max(){return new Ie(new Lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="__name__";class ri{constructor(e,t,s){t===void 0?t=0:t>e.length&&xe(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&xe(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return ri.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ri?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=ri.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return je(e.length,t.length)}static compareSegments(e,t){const s=ri.isNumericId(e),o=ri.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?ri.extractNumericId(e).compare(ri.extractNumericId(t)):Zm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return zs.fromString(e.substring(4,e.length-2))}}class lt extends ri{construct(e,t,s){return new lt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new lt(t)}static emptyPath(){return new lt([])}}const KI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends ri{construct(e,t,s){return new rn(e,t,s)}static isValidIdentifier(e){return KI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Y0}static keyField(){return new rn([Y0])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new fe(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let d=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new fe(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new fe(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(d=!d,o++):m!=="."||d?(s+=m,o++):(u(),o++)}if(u(),d)throw new fe(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(t)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(lt.fromString(e))}static fromName(e){return new Te(lt.fromString(e).popFirst(5))}static empty(){return new Te(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return lt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new lt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru=-1;function YI(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(s===1e9?new Lt(t+1,0):new Lt(t,s));return new Fs(o,Te.empty(),e)}function XI(r){return new Fs(r.readTime,r.key,Ru)}class Fs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Fs(Ie.min(),Te.empty(),Ru)}static max(){return new Fs(Ie.max(),Te.empty(),Ru)}}function WI(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Te.comparator(r.documentKey,e.documentKey),t!==0?t:je(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ll(r){if(r.code!==ne.FAILED_PRECONDITION||r.message!==JI)throw r;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.reject(t)}static resolve(e){return new ie((t,s)=>{t(e)})}static reject(e){return new ie((t,s)=>{s(e)})}static waitFor(e){return new ie((t,s)=>{let o=0,u=0,d=!1;e.forEach(m=>{++o,m.next(()=>{++u,d&&u===o&&t()},p=>s(p))}),d=!0,u===o&&t()})}static or(e){let t=ie.resolve(!1);for(const s of e)t=t.next(o=>o?ie.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new ie((s,o)=>{const u=e.length,d=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(E=>{d[g]=E,++m,m===u&&s(d)},E=>o(E))}})}static doWhile(e,t){return new ie((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function eN(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ul(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>t.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}rd.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp=-1;function id(r){return r==null}function kh(r){return r===0&&1/r==-1/0}function tN(r){return typeof r=="number"&&Number.isInteger(r)&&!kh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="";function nN(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=X0(e)),e=rN(r.get(t),e);return X0(e)}function rN(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":t+="";break;case Tb:t+="";break;default:t+=u}}return t}function X0(r){return r+Tb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Js(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function bb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,t){this.comparator=e,this.root=t||nn.EMPTY}insert(e,t){return new pt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dh(this.root,e,this.comparator,!1)}getReverseIterator(){return new dh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dh(this.root,e,this.comparator,!0)}}class dh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??nn.RED,this.left=o??nn.EMPTY,this.right=u??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new nn(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return nn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new nn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new J0(this.data.getIterator())}getIteratorFrom(e){return new J0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ut(this.comparator);return t.data=e,t}}class J0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new Qn([])}unionWith(e){let t=new Ut(rn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Qn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Yo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new wb("Invalid base64 string: "+u):u}}(e);return new sn(t)}static fromUint8Array(e){const t=function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u}(e);return new sn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const iN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hs(r){if(Je(!!r,39018),typeof r=="string"){let e=0;const t=iN.exec(r);if(Je(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:At(r.seconds),nanos:At(r.nanos)}}function At(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Gs(r){return typeof r=="string"?sn.fromBase64String(r):sn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab="server_timestamp",Sb="__type__",xb="__previous_value__",Rb="__local_write_time__";function Gp(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Sb])===null||t===void 0?void 0:t.stringValue)===Ab}function sd(r){const e=r.mapValue.fields[xb];return Gp(e)?sd(e):e}function Cu(r){const e=Hs(r.mapValue.fields[Rb].timestampValue);return new Lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e,t,s,o,u,d,m,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}const Lh="(default)";class Iu{constructor(e,t){this.projectId=e,this.database=t||Lh}static empty(){return new Iu("","")}get isDefaultDatabase(){return this.database===Lh}isEqual(e){return e instanceof Iu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="__type__",aN="__max__",fh={mapValue:{}},Ib="__vector__",Uh="value";function $s(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Gp(r)?4:lN(r)?9007199254740991:oN(r)?10:11:xe(28295,{value:r})}function ci(r,e){if(r===e)return!0;const t=$s(r);if(t!==$s(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Cu(r).isEqual(Cu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=Hs(o.timestampValue),m=Hs(u.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Gs(o.bytesValue).isEqual(Gs(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return At(o.geoPointValue.latitude)===At(u.geoPointValue.latitude)&&At(o.geoPointValue.longitude)===At(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return At(o.integerValue)===At(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=At(o.doubleValue),m=At(u.doubleValue);return d===m?kh(d)===kh(m):isNaN(d)&&isNaN(m)}return!1}(r,e);case 9:return Yo(r.arrayValue.values||[],e.arrayValue.values||[],ci);case 10:case 11:return function(o,u){const d=o.mapValue.fields||{},m=u.mapValue.fields||{};if(W0(d)!==W0(m))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(m[p]===void 0||!ci(d[p],m[p])))return!1;return!0}(r,e);default:return xe(52216,{left:r})}}function Nu(r,e){return(r.values||[]).find(t=>ci(t,e))!==void 0}function Xo(r,e){if(r===e)return 0;const t=$s(r),s=$s(e);if(t!==s)return je(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return je(r.booleanValue,e.booleanValue);case 2:return function(u,d){const m=At(u.integerValue||u.doubleValue),p=At(d.integerValue||d.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return Z0(r.timestampValue,e.timestampValue);case 4:return Z0(Cu(r),Cu(e));case 5:return Zm(r.stringValue,e.stringValue);case 6:return function(u,d){const m=Gs(u),p=Gs(d);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,d){const m=u.split("/"),p=d.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=je(m[g],p[g]);if(E!==0)return E}return je(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,d){const m=je(At(u.latitude),At(d.latitude));return m!==0?m:je(At(u.longitude),At(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return eE(r.arrayValue,e.arrayValue);case 10:return function(u,d){var m,p,g,E;const S=u.fields||{},x=d.fields||{},M=(m=S[Uh])===null||m===void 0?void 0:m.arrayValue,D=(p=x[Uh])===null||p===void 0?void 0:p.arrayValue,K=je(((g=M==null?void 0:M.values)===null||g===void 0?void 0:g.length)||0,((E=D==null?void 0:D.values)===null||E===void 0?void 0:E.length)||0);return K!==0?K:eE(M,D)}(r.mapValue,e.mapValue);case 11:return function(u,d){if(u===fh.mapValue&&d===fh.mapValue)return 0;if(u===fh.mapValue)return 1;if(d===fh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=d.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const x=Zm(p[S],E[S]);if(x!==0)return x;const M=Xo(m[p[S]],g[E[S]]);if(M!==0)return M}return je(p.length,E.length)}(r.mapValue,e.mapValue);default:throw xe(23264,{Pe:t})}}function Z0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return je(r,e);const t=Hs(r),s=Hs(e),o=je(t.seconds,s.seconds);return o!==0?o:je(t.nanos,s.nanos)}function eE(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=Xo(t[o],s[o]);if(u)return u}return je(t.length,s.length)}function Wo(r){return ep(r)}function ep(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=Hs(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Gs(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Te.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=ep(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const d of s)u?u=!1:o+=",",o+=`${d}:${ep(t.fields[d])}`;return o+"}"}(r.mapValue):xe(61005,{value:r})}function wh(r){switch($s(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sd(r);return e?16+wh(e):16;case 5:return 2*r.stringValue.length;case 6:return Gs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+wh(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Js(s.fields,(u,d)=>{o+=u.length+wh(d)}),o}(r.mapValue);default:throw xe(13486,{value:r})}}function tE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function tp(r){return!!r&&"integerValue"in r}function $p(r){return!!r&&"arrayValue"in r}function nE(r){return!!r&&"nullValue"in r}function rE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ah(r){return!!r&&"mapValue"in r}function oN(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Cb])===null||t===void 0?void 0:t.stringValue)===Ib}function Eu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Js(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Eu(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Eu(r.arrayValue.values[t]);return e}return Object.assign({},r)}function lN(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===aN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Ah(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eu(t)}setAll(e){let t=rn.emptyPath(),s={},o=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=m.popLast()}d?s[m.lastSegment()]=Eu(d):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());Ah(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ci(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Ah(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Js(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new On(Eu(this.value))}}function Nb(r){const e=[];return Js(r.fields,(t,s)=>{const o=new rn([t]);if(Ah(s)){const u=Nb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)}),new Qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,t,s,o,u,d,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=d,this.documentState=m}static newInvalidDocument(e){return new fn(e,0,Ie.min(),Ie.min(),Ie.min(),On.empty(),0)}static newFoundDocument(e,t,s,o){return new fn(e,1,t,Ie.min(),s,o,0)}static newNoDocument(e,t){return new fn(e,2,t,Ie.min(),Ie.min(),On.empty(),0)}static newUnknownDocument(e,t){return new fn(e,3,t,Ie.min(),Ie.min(),On.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,t){this.position=e,this.inclusive=t}}function iE(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],d=r.position[o];if(u.field.isKeyField()?s=Te.comparator(Te.fromName(d.referenceValue),t.key):s=Xo(d,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function sE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!ci(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,t="asc"){this.field=e,this.dir=t}}function uN(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{}class Nt extends Ob{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new hN(e,t,s):t==="array-contains"?new mN(e,s):t==="in"?new pN(e,s):t==="not-in"?new gN(e,s):t==="array-contains-any"?new yN(e,s):new Nt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new dN(e,s):new fN(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Xo(t,this.value)):t!==null&&$s(this.value)===$s(t)&&this.matchesComparison(Xo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jr extends Ob{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new jr(e,t)}matches(e){return Db(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Db(r){return r.op==="and"}function Mb(r){return cN(r)&&Db(r)}function cN(r){for(const e of r.filters)if(e instanceof jr)return!1;return!0}function np(r){if(r instanceof Nt)return r.field.canonicalString()+r.op.toString()+Wo(r.value);if(Mb(r))return r.filters.map(e=>np(e)).join(",");{const e=r.filters.map(t=>np(t)).join(",");return`${r.op}(${e})`}}function Pb(r,e){return r instanceof Nt?function(s,o){return o instanceof Nt&&s.op===o.op&&s.field.isEqual(o.field)&&ci(s.value,o.value)}(r,e):r instanceof jr?function(s,o){return o instanceof jr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,d,m)=>u&&Pb(d,o.filters[m]),!0):!1}(r,e):void xe(19439)}function Vb(r){return r instanceof Nt?function(t){return`${t.field.canonicalString()} ${t.op} ${Wo(t.value)}`}(r):r instanceof jr?function(t){return t.op.toString()+" {"+t.getFilters().map(Vb).join(" ,")+"}"}(r):"Filter"}class hN extends Nt{constructor(e,t,s){super(e,t,s),this.key=Te.fromName(s.referenceValue)}matches(e){const t=Te.comparator(e.key,this.key);return this.matchesComparison(t)}}class dN extends Nt{constructor(e,t){super(e,"in",t),this.keys=jb("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class fN extends Nt{constructor(e,t){super(e,"not-in",t),this.keys=jb("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function jb(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>Te.fromName(s.referenceValue))}class mN extends Nt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return $p(t)&&Nu(t.arrayValue,this.value)}}class pN extends Nt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Nu(this.value.arrayValue,t)}}class gN extends Nt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Nu(this.value.arrayValue,t)}}class yN extends Nt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!$p(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Nu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,t=null,s=[],o=[],u=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=d,this.endAt=m,this.Ie=null}}function aE(r,e=null,t=[],s=[],o=null,u=null,d=null){return new vN(r,e,t,s,o,u,d)}function Qp(r){const e=Ne(r);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>np(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),id(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Wo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Wo(s)).join(",")),e.Ie=t}return e.Ie}function Kp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!uN(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Pb(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!sE(r.startAt,e.startAt)&&sE(r.endAt,e.endAt)}function rp(r){return Te.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,t=null,s=[],o=[],u=null,d="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=d,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function _N(r,e,t,s,o,u,d,m){return new cl(r,e,t,s,o,u,d,m)}function Yp(r){return new cl(r)}function oE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function kb(r){return r.collectionGroup!==null}function Tu(r){const e=Ne(r);if(e.Ee===null){e.Ee=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new Ut(rn.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new Ou(u,s))}),t.has(rn.keyField().canonicalString())||e.Ee.push(new Ou(rn.keyField(),s))}return e.Ee}function oi(r){const e=Ne(r);return e.de||(e.de=EN(e,Tu(r))),e.de}function EN(r,e){if(r.limitType==="F")return aE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Ou(o.field,u)});const t=r.endAt?new zh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new zh(r.startAt.position,r.startAt.inclusive):null;return aE(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function ip(r,e){const t=r.filters.concat([e]);return new cl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function sp(r,e,t){return new cl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function ad(r,e){return Kp(oi(r),oi(e))&&r.limitType===e.limitType}function Lb(r){return`${Qp(oi(r))}|lt:${r.limitType}`}function Vo(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>Vb(o)).join(", ")}]`),id(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>Wo(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>Wo(o)).join(",")),`Target(${s})`}(oi(r))}; limitType=${r.limitType})`}function od(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Te.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Tu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(d,m,p){const g=iE(d,m,p);return d.inclusive?g<=0:g<0}(s.startAt,Tu(s),o)||s.endAt&&!function(d,m,p){const g=iE(d,m,p);return d.inclusive?g>=0:g>0}(s.endAt,Tu(s),o))}(r,e)}function TN(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Ub(r){return(e,t)=>{let s=!1;for(const o of Tu(r)){const u=bN(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function bN(r,e,t){const s=r.field.isKeyField()?Te.comparator(e.key,t.key):function(u,d,m){const p=d.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Xo(p,g):xe(42886)}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return xe(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Js(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return bb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=new pt(Te.comparator);function Yi(){return wN}const zb=new pt(Te.comparator);function gu(...r){let e=zb;for(const t of r)e=e.insert(t.key,t);return e}function Bb(r){let e=zb;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Da(){return bu()}function qb(){return bu()}function bu(){return new Ba(r=>r.toString(),(r,e)=>r.isEqual(e))}const AN=new pt(Te.comparator),SN=new Ut(Te.comparator);function qe(...r){let e=SN;for(const t of r)e=e.add(t);return e}const xN=new Ut(je);function RN(){return xN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kh(e)?"-0":e}}function Fb(r){return{integerValue:""+r}}function CN(r,e){return tN(e)?Fb(e):Xp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(){this._=void 0}}function IN(r,e,t){return r instanceof Du?function(o,u){const d={fields:{[Sb]:{stringValue:Ab},[Rb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Gp(u)&&(u=sd(u)),u&&(d.fields[xb]=u),{mapValue:d}}(t,e):r instanceof Mu?Gb(r,e):r instanceof Pu?$b(r,e):function(o,u){const d=Hb(o,u),m=lE(d)+lE(o.Re);return tp(d)&&tp(o.Re)?Fb(m):Xp(o.serializer,m)}(r,e)}function NN(r,e,t){return r instanceof Mu?Gb(r,e):r instanceof Pu?$b(r,e):t}function Hb(r,e){return r instanceof Bh?function(s){return tp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Du extends ld{}class Mu extends ld{constructor(e){super(),this.elements=e}}function Gb(r,e){const t=Qb(e);for(const s of r.elements)t.some(o=>ci(o,s))||t.push(s);return{arrayValue:{values:t}}}class Pu extends ld{constructor(e){super(),this.elements=e}}function $b(r,e){let t=Qb(e);for(const s of r.elements)t=t.filter(o=>!ci(o,s));return{arrayValue:{values:t}}}class Bh extends ld{constructor(e,t){super(),this.serializer=e,this.Re=t}}function lE(r){return At(r.integerValue||r.doubleValue)}function Qb(r){return $p(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e,t){this.field=e,this.transform=t}}function DN(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Mu&&o instanceof Mu||s instanceof Pu&&o instanceof Pu?Yo(s.elements,o.elements,ci):s instanceof Bh&&o instanceof Bh?ci(s.Re,o.Re):s instanceof Du&&o instanceof Du}(r.transform,e.transform)}class MN{constructor(e,t){this.version=e,this.transformResults=t}}class mr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new mr}static exists(e){return new mr(void 0,e)}static updateTime(e){return new mr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class ud{}function Kb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Wp(r.key,mr.none()):new $u(r.key,r.data,mr.none());{const t=r.data,s=On.empty();let o=new Ut(rn.comparator);for(let u of e.fields)if(!o.has(u)){let d=t.field(u);d===null&&u.length>1&&(u=u.popLast(),d=t.field(u)),d===null?s.delete(u):s.set(u,d),o=o.add(u)}return new Zs(r.key,s,new Qn(o.toArray()),mr.none())}}function PN(r,e,t){r instanceof $u?function(o,u,d){const m=o.value.clone(),p=cE(o.fieldTransforms,u,d.transformResults);m.setAll(p),u.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(r,e,t):r instanceof Zs?function(o,u,d){if(!Sh(o.precondition,u))return void u.convertToUnknownDocument(d.version);const m=cE(o.fieldTransforms,u,d.transformResults),p=u.data;p.setAll(Yb(o)),p.setAll(m),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(r,e,t):function(o,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,t)}function wu(r,e,t,s){return r instanceof $u?function(u,d,m,p){if(!Sh(u.precondition,d))return m;const g=u.value.clone(),E=hE(u.fieldTransforms,p,d);return g.setAll(E),d.convertToFoundDocument(d.version,g).setHasLocalMutations(),null}(r,e,t,s):r instanceof Zs?function(u,d,m,p){if(!Sh(u.precondition,d))return m;const g=hE(u.fieldTransforms,p,d),E=d.data;return E.setAll(Yb(u)),E.setAll(g),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(r,e,t,s):function(u,d,m){return Sh(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m}(r,e,t)}function VN(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=Hb(s.transform,o||null);u!=null&&(t===null&&(t=On.empty()),t.set(s.field,u))}return t||null}function uE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Yo(s,o,(u,d)=>DN(u,d))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class $u extends ud{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Zs extends ud{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Yb(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function cE(r,e,t){const s=new Map;Je(r.length===t.length,32656,{Ve:t.length,me:r.length});for(let o=0;o<t.length;o++){const u=r[o],d=u.transform,m=e.data.field(u.field);s.set(u.field,NN(d,m,t[o]))}return s}function hE(r,e,t){const s=new Map;for(const o of r){const u=o.transform,d=t.data.field(o.field);s.set(o.field,IN(u,d,e))}return s}class Wp extends ud{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jN extends ud{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&PN(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=wu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=wu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=qb();return this.mutations.forEach(o=>{const u=e.get(o.key),d=u.overlayedDocument;let m=this.applyToLocalView(d,u.mutatedFields);m=t.has(o.key)?null:m;const p=Kb(d,m);p!==null&&s.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(Ie.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),qe())}isEqual(e){return this.batchId===e.batchId&&Yo(this.mutations,e.mutations,(t,s)=>uE(t,s))&&Yo(this.baseMutations,e.baseMutations,(t,s)=>uE(t,s))}}class Jp{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Je(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return AN}();const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,s[d].version);return new Jp(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,$e;function zN(r){switch(r){case ne.OK:return xe(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return xe(15467,{code:r})}}function Xb(r){if(r===void 0)return Ki("GRPC error has no .code"),ne.UNKNOWN;switch(r){case It.OK:return ne.OK;case It.CANCELLED:return ne.CANCELLED;case It.UNKNOWN:return ne.UNKNOWN;case It.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case It.INTERNAL:return ne.INTERNAL;case It.UNAVAILABLE:return ne.UNAVAILABLE;case It.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case It.NOT_FOUND:return ne.NOT_FOUND;case It.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case It.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case It.ABORTED:return ne.ABORTED;case It.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case It.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case It.DATA_LOSS:return ne.DATA_LOSS;default:return xe(39323,{code:r})}}($e=It||(It={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=new zs([4294967295,4294967295],0);function dE(r){const e=_b().encode(r),t=new hb;return t.update(e),new Uint8Array(t.digest())}function fE(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new zs([t,s],0),new zs([o,u],0)]}class Zp{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new yu(`Invalid padding: ${t}`);if(s<0)throw new yu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new yu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new yu(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=zs.fromNumber(this.pe)}we(e,t,s){let o=e.add(t.multiply(zs.fromNumber(s)));return o.compare(BN)===1&&(o=new zs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=dE(e),[s,o]=fE(t);for(let u=0;u<this.hashCount;u++){const d=this.we(s,o,u);if(!this.be(d))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new Zp(u,o,t);return s.forEach(m=>d.insert(m)),d}insert(e){if(this.pe===0)return;const t=dE(e),[s,o]=fE(t);for(let u=0;u<this.hashCount;u++){const d=this.we(s,o,u);this.Se(d)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Qu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new cd(Ie.min(),o,new pt(je),Yi(),qe())}}class Qu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Qu(s,t,qe(),qe(),qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,t,s,o){this.De=e,this.removedTargetIds=t,this.key=s,this.ve=o}}class Wb{constructor(e,t){this.targetId=e,this.Ce=t}}class Jb{constructor(e,t,s=sn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class mE{constructor(){this.Fe=0,this.Me=pE(),this.xe=sn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=qe(),t=qe(),s=qe();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:xe(38017,{changeType:u})}}),new Qu(this.xe,this.Oe,e,t,s)}Qe(){this.Ne=!1,this.Me=pE()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Je(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class qN{constructor(e){this.ze=e,this.je=new Map,this.He=Yi(),this.Je=mh(),this.Ye=mh(),this.Ze=new pt(je)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const s=this.rt(t);switch(e.state){case 0:this.it(t)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(t);break;case 3:this.it(t)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),s.ke(e.resumeToken));break;default:xe(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((s,o)=>{this.it(o)&&t(o)})}ot(e){const t=e.targetId,s=e.Ce.count,o=this._t(t);if(o){const u=o.target;if(rp(u))if(s===0){const d=new Te(u.path);this.tt(t,d,fn.newNoDocument(d,Ie.min()))}else Je(s===1,20013,{expectedCount:s});else{const d=this.ut(t);if(d!==s){const m=this.ct(e),p=m?this.lt(m,e,d):1;if(p!==0){this.st(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let d,m;try{d=Gs(s).toUint8Array()}catch(p){if(p instanceof wb)return Ko("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Zp(d,o,u)}catch(p){return Ko(p instanceof yu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(e,t,s){return t.Ce.count===s-this.Tt(e,t.targetId)?0:2}Tt(e,t){const s=this.ze.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const d=this.ze.Pt(),m=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(t,u,null),o++)}),o}It(e){const t=new Map;this.je.forEach((u,d)=>{const m=this._t(d);if(m){if(u.current&&rp(m.target)){const p=new Te(m.target.path);this.Et(p).has(d)||this.dt(d,p)||this.tt(d,p,fn.newNoDocument(p,e))}u.Le&&(t.set(d,u.qe()),u.Qe())}});let s=qe();this.Ye.forEach((u,d)=>{let m=!0;d.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,d)=>d.setReadTime(e));const o=new cd(e,t,this.Ze,this.He,s);return this.He=Yi(),this.Je=mh(),this.Ye=mh(),this.Ze=new pt(je),o}et(e,t){if(!this.it(e))return;const s=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,s),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,t)?o.$e(t,1):o.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),s&&(this.He=this.He.insert(t,s))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new mE,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Ut(je),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Ut(je),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new mE),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function mh(){return new pt(Te.comparator)}function pE(){return new pt(Te.comparator)}const FN={asc:"ASCENDING",desc:"DESCENDING"},HN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GN={and:"AND",or:"OR"};class $N{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ap(r,e){return r.useProto3Json||id(e)?e:{value:e}}function qh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Zb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function QN(r,e){return qh(r,e.toTimestamp())}function li(r){return Je(!!r,49232),Ie.fromTimestamp(function(t){const s=Hs(t);return new Lt(s.seconds,s.nanos)}(r))}function eg(r,e){return op(r,e).canonicalString()}function op(r,e){const t=function(o){return new lt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function ew(r){const e=lt.fromString(r);return Je(sw(e),10190,{key:e.toString()}),e}function lp(r,e){return eg(r.databaseId,e.path)}function jm(r,e){const t=ew(e);if(t.get(1)!==r.databaseId.projectId)throw new fe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new fe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Te(nw(t))}function tw(r,e){return eg(r.databaseId,e)}function KN(r){const e=ew(r);return e.length===4?lt.emptyPath():nw(e)}function up(r){return new lt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function nw(r){return Je(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function gE(r,e,t){return{name:lp(r,e),fields:t.value.mapValue.fields}}function YN(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:xe(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Je(E===void 0||typeof E=="string",58123),sn.fromBase64String(E||"")):(Je(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),sn.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(g){const E=g.code===void 0?ne.UNKNOWN:Xb(g.code);return new fe(E,g.message||"")}(d);t=new Jb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=jm(r,s.document.name),u=li(s.document.updateTime),d=s.document.createTime?li(s.document.createTime):Ie.min(),m=new On({mapValue:{fields:s.document.fields}}),p=fn.newFoundDocument(o,u,d,m),g=s.targetIds||[],E=s.removedTargetIds||[];t=new xh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=jm(r,s.document),u=s.readTime?li(s.readTime):Ie.min(),d=fn.newNoDocument(o,u),m=s.removedTargetIds||[];t=new xh([],m,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=jm(r,s.document),u=s.removedTargetIds||[];t=new xh([],u,o,null)}else{if(!("filter"in e))return xe(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,d=new UN(o,u),m=s.targetId;t=new Wb(m,d)}}return t}function XN(r,e){let t;if(e instanceof $u)t={update:gE(r,e.key,e.value)};else if(e instanceof Wp)t={delete:lp(r,e.key)};else if(e instanceof Zs)t={update:gE(r,e.key,e.data),updateMask:s4(e.fieldMask)};else{if(!(e instanceof jN))return xe(16599,{ft:e.type});t={verify:lp(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,d){const m=d.transform;if(m instanceof Du)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Mu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Pu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Bh)return{fieldPath:d.field.canonicalString(),increment:m.Re};throw xe(20930,{transform:d.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:QN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:xe(27497)}(r,e.precondition)),t}function WN(r,e){return r&&r.length>0?(Je(e!==void 0,14353),r.map(t=>function(o,u){let d=o.updateTime?li(o.updateTime):li(u);return d.isEqual(Ie.min())&&(d=li(u)),new MN(d,o.transformResults||[])}(t,e))):[]}function JN(r,e){return{documents:[tw(r,e.path)]}}function ZN(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=tw(r,o);const u=function(g){if(g.length!==0)return iw(jr.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const d=function(g){if(g.length!==0)return g.map(E=>function(x){return{field:jo(x.field),direction:n4(x.dir)}}(E))}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const m=ap(r,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:t,parent:o}}function e4(r){let e=KN(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Je(s===1,65062);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];t.where&&(u=function(S){const x=rw(S);return x instanceof jr&&Mb(x)?x.getFilters():[x]}(t.where));let d=[];t.orderBy&&(d=function(S){return S.map(x=>function(D){return new Ou(ko(D.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(x))}(t.orderBy));let m=null;t.limit&&(m=function(S){let x;return x=typeof S=="object"?S.value:S,id(x)?null:x}(t.limit));let p=null;t.startAt&&(p=function(S){const x=!!S.before,M=S.values||[];return new zh(M,x)}(t.startAt));let g=null;return t.endAt&&(g=function(S){const x=!S.before,M=S.values||[];return new zh(M,x)}(t.endAt)),_N(e,o,d,u,m,"F",p,g)}function t4(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function rw(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=ko(t.unaryFilter.field);return Nt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ko(t.unaryFilter.field);return Nt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ko(t.unaryFilter.field);return Nt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ko(t.unaryFilter.field);return Nt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}}(r):r.fieldFilter!==void 0?function(t){return Nt.create(ko(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return jr.create(t.compositeFilter.filters.map(s=>rw(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xe(1026)}}(t.compositeFilter.op))}(r):xe(30097,{filter:r})}function n4(r){return FN[r]}function r4(r){return HN[r]}function i4(r){return GN[r]}function jo(r){return{fieldPath:r.canonicalString()}}function ko(r){return rn.fromServerFormat(r.fieldPath)}function iw(r){return r instanceof Nt?function(t){if(t.op==="=="){if(rE(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NAN"}};if(nE(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(rE(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NOT_NAN"}};if(nE(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jo(t.field),op:r4(t.op),value:t.value}}}(r):r instanceof jr?function(t){const s=t.getFilters().map(o=>iw(o));return s.length===1?s[0]:{compositeFilter:{op:i4(t.op),filters:s}}}(r):xe(54877,{filter:r})}function s4(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function sw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,t,s,o,u=Ie.min(),d=Ie.min(),m=sn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e){this.wt=e}}function o4(r){const e=e4({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?sp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(){this.yn=new u4}addToCollectionParentIndex(e,t){return this.yn.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(Fs.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(Fs.min())}updateCollectionGroup(e,t,s){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class u4{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Ut(lt.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ut(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aw=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(aw,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Jo(0)}static ir(){return new Jo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="LruGarbageCollector",c4=1048576;function _E([r,e],[t,s]){const o=je(r,t);return o===0?je(e,s):o}class h4{constructor(e){this.cr=e,this.buffer=new Ut(_E),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();_E(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class d4{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){de(vE,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ul(t)?de(vE,"Ignoring IndexedDB error during garbage collection: ",t):await ll(t)}await this.Ir(3e5)})}}class f4{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return ie.resolve(rd.le);const s=new h4(t);return this.Er.forEachTarget(e,o=>s.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(e,o=>s.Pr(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Er.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(yE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yE):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let s,o,u,d,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,m=Date.now(),this.removeTargets(e,s,t))).next(S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(g=Date.now(),Po()<=Be.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(m-d)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function m4(r,e){return new f4(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(){this.changes=new Ba(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ie.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&wu(s.mutation,o,Qn.empty(),Lt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,qe()).next(()=>s))}getLocalViewOfDocuments(e,t,s=qe()){const o=Da();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let d=gu();return u.forEach((m,p)=>{d=d.insert(m,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const s=Da();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,qe()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((d,m)=>{t.set(d,m)})})}computeViews(e,t,s,o){let u=Yi();const d=bu(),m=function(){return bu()}();return t.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Zs)?u=u.insert(g.key,g):E!==void 0?(d.set(g.key,E.mutation.getFieldMask()),wu(E.mutation,g,E.mutation.getFieldMask(),Lt.now())):d.set(g.key,Qn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>d.set(g,E)),t.forEach((g,E)=>{var S;return m.set(g,new g4(E,(S=d.get(g))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(e,t){const s=bu();let o=new pt((d,m)=>d-m),u=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const m of d)m.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let E=s.get(p)||Qn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const S=(o.get(m.batchId)||qe()).add(p);o=o.insert(m.batchId,S)})}).next(()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,S=qb();E.forEach(x=>{if(!u.has(x)){const M=Kb(t.get(x),s.get(x));M!==null&&S.set(x,M),u=u.add(x)}}),d.push(this.documentOverlayCache.saveOverlays(e,g,S))}return ie.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(d){return Te.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):kb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):ie.resolve(Da());let m=Ru,p=u;return d.next(g=>ie.forEach(g,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?ie.resolve():this.remoteDocumentCache.getEntry(e,E).next(x=>{p=p.insert(E,x)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,qe())).next(E=>({batchId:m,changes:Bb(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Te(t)).next(s=>{let o=gu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let d=gu();return this.indexManager.getCollectionParents(e,u).next(m=>ie.forEach(m,p=>{const g=function(S,x){return new cl(x,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((S,x)=>{d=d.insert(S,x)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(d=>{u.forEach((p,g)=>{const E=g.getKey();d.get(E)===null&&(d=d.insert(E,fn.newInvalidDocument(E)))});let m=gu();return d.forEach((p,g)=>{const E=u.get(p);E!==void 0&&wu(E.mutation,g,Qn.empty(),Lt.now()),od(t,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return ie.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:li(o.createTime)}}(t)),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(o){return{name:o.name,query:o4(o.bundledQuery),readTime:li(o.readTime)}}(t)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(){this.overlays=new pt(Te.comparator),this.Or=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Da();return ie.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.St(e,t,u)}),ie.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Or.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Or.delete(s)),ie.resolve()}getOverlaysForCollection(e,t,s){const o=Da(),u=t.length+1,d=new Te(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new pt((g,E)=>g-E);const d=this.overlays.getIterator();for(;d.hasNext();){const g=d.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Da(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Da(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return ie.resolve(m)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Or.get(o.largestBatchId).delete(s.key);this.Or.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new LN(t,s));let u=this.Or.get(t);u===void 0&&(u=qe(),this.Or.set(t,u)),this.Or.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(){this.Nr=new Ut($t.Br),this.Lr=new Ut($t.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const s=new $t(e,t);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Qr(new $t(e,t))}$r(e,t){e.forEach(s=>this.removeReference(s,t))}Ur(e){const t=new Te(new lt([])),s=new $t(t,e),o=new $t(t,e+1),u=[];return this.Lr.forEachInRange([s,o],d=>{this.Qr(d),u.push(d.key)}),u}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new Te(new lt([])),s=new $t(t,e),o=new $t(t,e+1);let u=qe();return this.Lr.forEachInRange([s,o],d=>{u=u.add(d.key)}),u}containsKey(e){const t=new $t(e,0),s=this.Nr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class $t{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return Te.comparator(e.key,t.key)||je(e.Gr,t.Gr)}static kr(e,t){return je(e.Gr,t.Gr)||Te.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new Ut($t.Br)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new kN(u,t,s,o);this.mutationQueue.push(d);for(const m of o)this.zr=this.zr.add(new $t(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(d)}lookupMutationBatch(e,t){return ie.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Hr(s),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Hp:this.Jn-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new $t(t,0),o=new $t(t,Number.POSITIVE_INFINITY),u=[];return this.zr.forEachInRange([s,o],d=>{const m=this.jr(d.Gr);u.push(m)}),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ut(je);return t.forEach(o=>{const u=new $t(o,0),d=new $t(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([u,d],m=>{s=s.add(m.Gr)})}),ie.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;Te.isDocumentKey(u)||(u=u.child(""));const d=new $t(new Te(u),0);let m=new Ut(je);return this.zr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Gr)),!0)},d),ie.resolve(this.Jr(m))}Jr(e){const t=[];return e.forEach(s=>{const o=this.jr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Je(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return ie.forEach(t.mutations,o=>{const u=new $t(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.zr=s})}Xn(e){}containsKey(e,t){const s=new $t(t,0),o=this.zr.firstAfterOrEqual(s);return ie.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){this.Zr=e,this.docs=function(){return new pt(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,d=this.Zr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ie.resolve(s?s.document.mutableCopy():fn.newInvalidDocument(t))}getEntries(e,t){let s=Yi();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():fn.newInvalidDocument(o))}),ie.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=Yi();const d=t.path,m=new Te(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!d.isPrefixOf(g.path))break;g.path.length>d.length+1||WI(XI(E),s)<=0||(o.has(E.key)||od(t,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,t,s,o){xe(9500)}Xr(e,t){return ie.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new w4(this)}getSize(e){return ie.resolve(this.size)}}class w4 extends p4{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.vr.addEntry(e,o)):this.vr.removeEntry(s)}),ie.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e){this.persistence=e,this.ei=new Ba(t=>Qp(t),Kp),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.ti=0,this.ni=new tg,this.targetCount=0,this.ri=Jo.rr()}forEachTarget(e,t){return this.ei.forEach((s,o)=>t(o)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.ti&&(this.ti=t),ie.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new Jo(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.ar(t),ie.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.ei.forEach((d,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.ei.delete(d),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ie.waitFor(u).next(()=>o)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const s=this.ei.get(t)||null;return ie.resolve(s)}addMatchingKeys(e,t,s){return this.ni.qr(t,s),ie.resolve()}removeMatchingKeys(e,t,s){this.ni.$r(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(d=>{u.push(o.markPotentiallyOrphaned(e,d))}),ie.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ni.Wr(t);return ie.resolve(s)}containsKey(e,t){return ie.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,t){this.ii={},this.overlays={},this.si=new rd(0),this.oi=!1,this.oi=!0,this._i=new E4,this.referenceDelegate=e(this),this.ai=new A4(this),this.indexManager=new l4,this.remoteDocumentCache=function(o){return new b4(o)}(s=>this.referenceDelegate.ui(s)),this.serializer=new a4(t),this.ci=new v4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ii[e.toKey()];return s||(s=new T4(t,this.referenceDelegate),this.ii[e.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,s){de("MemoryPersistence","Starting transaction:",e);const o=new S4(this.si.next());return this.referenceDelegate.li(),s(o).next(u=>this.referenceDelegate.hi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Pi(e,t){return ie.or(Object.values(this.ii).map(s=>()=>s.containsKey(e,t)))}}class S4 extends ZI{constructor(e){super(),this.currentSequenceNumber=e}}class ng{constructor(e){this.persistence=e,this.Ti=new tg,this.Ii=null}static Ei(e){return new ng(e)}get di(){if(this.Ii)return this.Ii;throw xe(60996)}addReference(e,t,s){return this.Ti.addReference(s,t),this.di.delete(s.toString()),ie.resolve()}removeReference(e,t,s){return this.Ti.removeReference(s,t),this.di.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),ie.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(o=>this.di.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.di.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.di,s=>{const o=Te.fromPath(s);return this.Ai(e,o).next(u=>{u||t.removeEntry(o,Ie.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(s=>{s?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return ie.or([()=>ie.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class Fh{constructor(e,t){this.persistence=e,this.Ri=new Ba(s=>nN(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=m4(this,t)}static Ei(e,t){return new Fh(e,t)}li(){}hi(e){return ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}Vr(e){let t=0;return this.Ar(e,s=>{t++}).next(()=>t)}Ar(e,t){return ie.forEach(this.Ri,(s,o)=>this.gr(e,s,o).next(u=>u?ie.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Xr(e,d=>this.gr(e,d,t).next(m=>{m||(s++,u.removeEntry(d,Ie.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),ie.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.Ri.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,t,s){return this.Ri.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),ie.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=wh(e.data.value)),t}gr(e,t,s){return ie.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.Ri.get(t);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.ls=s,this.hs=o}static Ps(e,t){let s=qe(),o=qe();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new rg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return i2()?8:eN(mn())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.Rs(e,t).next(d=>{u.result=d}).next(()=>{if(!u.result)return this.Vs(e,t,o,s).next(d=>{u.result=d})}).next(()=>{if(u.result)return;const d=new x4;return this.fs(e,t,d).next(m=>{if(u.result=m,this.Is)return this.gs(e,t,d,m.size)})}).next(()=>u.result)}gs(e,t,s,o){return s.documentReadCount<this.Es?(Po()<=Be.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Vo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),ie.resolve()):(Po()<=Be.DEBUG&&de("QueryEngine","Query:",Vo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Po()<=Be.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Vo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,oi(t))):ie.resolve())}Rs(e,t){if(oE(t))return ie.resolve(null);let s=oi(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=sp(t,null,"F"),s=oi(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const d=qe(...u);return this.As.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.ps(t,m);return this.ys(t,g,d,p.readTime)?this.Rs(e,sp(t,null,"F")):this.ws(e,g,t,p)}))})))}Vs(e,t,s,o){return oE(t)||o.isEqual(Ie.min())?ie.resolve(null):this.As.getDocuments(e,s).next(u=>{const d=this.ps(t,u);return this.ys(t,d,s,o)?ie.resolve(null):(Po()<=Be.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Vo(t)),this.ws(e,d,t,YI(o,Ru)).next(m=>m))})}ps(e,t){let s=new Ut(Ub(e));return t.forEach((o,u)=>{od(e,u)&&(s=s.add(u))}),s}ys(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}fs(e,t,s){return Po()<=Be.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Vo(t)),this.As.getDocumentsMatchingQuery(e,t,Fs.min(),s)}ws(e,t,s,o){return this.As.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(d=>{u=u.insert(d.key,d)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig="LocalStore",C4=3e8;class I4{constructor(e,t,s,o){this.persistence=e,this.bs=t,this.serializer=o,this.Ss=new pt(je),this.Ds=new Ba(u=>Qp(u),Kp),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(s)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new y4(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function N4(r,e,t,s){return new I4(r,e,t,s)}async function lw(r,e){const t=Ne(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.Fs(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const d=[],m=[];let p=qe();for(const g of o){d.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Ms:g,removedBatchIds:d,addedBatchIds:m}))})})}function O4(r,e){const t=Ne(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.Cs.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const S=g.batch,x=S.keys();let M=ie.resolve();return x.forEach(D=>{M=M.next(()=>E.getEntry(p,D)).next(K=>{const k=g.docVersions.get(D);Je(k!==null,48541),K.version.compareTo(k)<0&&(S.applyToRemoteDocument(K,g),K.isValidDocument()&&(K.setReadTime(g.commitVersion),E.addEntry(K)))})}),M.next(()=>m.mutationQueue.removeMutationBatch(p,S))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=qe();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function uw(r){const e=Ne(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function D4(r,e){const t=Ne(r),s=e.snapshotVersion;let o=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=t.Cs.newChangeBuffer({trackRemovals:!0});o=t.Ss;const m=[];e.targetChanges.forEach((E,S)=>{const x=o.get(S);if(!x)return;m.push(t.ai.removeMatchingKeys(u,E.removedDocuments,S).next(()=>t.ai.addMatchingKeys(u,E.addedDocuments,S)));let M=x.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?M=M.withResumeToken(sn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):E.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(E.resumeToken,s)),o=o.insert(S,M),function(K,k,H){return K.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=C4?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(x,M,E)&&m.push(t.ai.updateTargetData(u,M))});let p=Yi(),g=qe();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(M4(u,d,e.documentUpdates).next(E=>{p=E.xs,g=E.Os})),!s.isEqual(Ie.min())){const E=t.ai.getLastRemoteSnapshotVersion(u).next(S=>t.ai.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return ie.waitFor(m).next(()=>d.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.Ss=o,u))}function M4(r,e,t){let s=qe(),o=qe();return t.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let d=Yi();return t.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ie.min())?(e.removeEntry(m,p.readTime),d=d.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),d=d.insert(m,p)):de(ig,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{xs:d,Os:o}})}function P4(r,e){const t=Ne(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Hp),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function V4(r,e){const t=Ne(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.ai.getTargetData(s,e).next(u=>u?(o=u,ie.resolve(o)):t.ai.allocateTargetId(s).next(d=>(o=new Vs(e,d,"TargetPurposeListen",s.currentSequenceNumber),t.ai.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ss.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(s.targetId,s),t.Ds.set(e,s.targetId)),s})}async function cp(r,e,t){const s=Ne(r),o=s.Ss.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!ul(d))throw d;de(ig,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ss=s.Ss.remove(e),s.Ds.delete(o.target)}function EE(r,e,t){const s=Ne(r);let o=Ie.min(),u=qe();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,g,E){const S=Ne(p),x=S.Ds.get(E);return x!==void 0?ie.resolve(S.Ss.get(x)):S.ai.getTargetData(g,E)}(s,d,oi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(d,m.targetId).next(p=>{u=p})}).next(()=>s.bs.getDocumentsMatchingQuery(d,e,t?o:Ie.min(),t?u:qe())).next(m=>(j4(s,TN(e),m),{documents:m,Ns:u})))}function j4(r,e,t){let s=r.vs.get(e)||Ie.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.vs.set(e,s)}class TE{constructor(){this.activeTargetIds=RN()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class k4{constructor(){this.So=new TE,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,s){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new TE,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="ConnectivityMonitor";class wE{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){de(bE,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){de(bE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ph=null;function hp(){return ph===null?ph=function(){return 268435456+Math.round(2147483648*Math.random())}():ph++,"0x"+ph.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="RestConnection",U4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class z4{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${s}/databases/${o}`,this.qo=this.databaseId.database===Lh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Qo(e,t,s,o,u){const d=hp(),m=this.$o(e,t.toUriEncodedString());de(km,`Sending RPC '${e}' ${d}:`,m,s);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(p,o,u),this.Ko(e,m,p,s).then(g=>(de(km,`Received RPC '${e}' ${d}: `,g),g),g=>{throw Ko(km,`RPC '${e}' ${d} failed with error: `,g,"url: ",m,"request:",s),g})}Wo(e,t,s,o,u,d){return this.Qo(e,t,s,o,u)}Uo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ol}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}$o(e,t){const s=U4[e];return`${this.Lo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn="WebChannelConnection";class q4 extends z4{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,s,o){const u=hp();return new Promise((d,m)=>{const p=new db;p.setWithCredentials(!0),p.listenOnce(fb.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case bh.NO_ERROR:const E=p.getResponseJson();de(hn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),d(E);break;case bh.TIMEOUT:de(hn,`RPC '${e}' ${u} timed out`),m(new fe(ne.DEADLINE_EXCEEDED,"Request time out"));break;case bh.HTTP_ERROR:const S=p.getStatus();if(de(hn,`RPC '${e}' ${u} failed with status:`,S,"response text:",p.getResponseText()),S>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const M=x==null?void 0:x.error;if(M&&M.status&&M.message){const D=function(k){const H=k.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(H)>=0?H:ne.UNKNOWN}(M.status);m(new fe(D,M.message))}else m(new fe(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new fe(ne.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{s_:e,streamId:u,o_:p.getLastErrorCode(),__:p.getLastError()})}}finally{de(hn,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);de(hn,`RPC '${e}' ${u} sending request:`,o),p.send(t,"POST",g,s,15)})}a_(e,t,s){const o=hp(),u=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=gb(),m=pb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const E=u.join("");de(hn,`Creating RPC '${e}' stream ${o}: ${E}`,p);const S=d.createWebChannel(E,p);let x=!1,M=!1;const D=new B4({Go:k=>{M?de(hn,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(x||(de(hn,`Opening RPC '${e}' stream ${o} transport.`),S.open(),x=!0),de(hn,`RPC '${e}' stream ${o} sending:`,k),S.send(k))},zo:()=>S.close()}),K=(k,H,re)=>{k.listen(H,se=>{try{re(se)}catch(ye){setTimeout(()=>{throw ye},0)}})};return K(S,pu.EventType.OPEN,()=>{M||(de(hn,`RPC '${e}' stream ${o} transport opened.`),D.t_())}),K(S,pu.EventType.CLOSE,()=>{M||(M=!0,de(hn,`RPC '${e}' stream ${o} transport closed`),D.r_())}),K(S,pu.EventType.ERROR,k=>{M||(M=!0,Ko(hn,`RPC '${e}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),D.r_(new fe(ne.UNAVAILABLE,"The operation could not be completed")))}),K(S,pu.EventType.MESSAGE,k=>{var H;if(!M){const re=k.data[0];Je(!!re,16349);const se=re,ye=(se==null?void 0:se.error)||((H=se[0])===null||H===void 0?void 0:H.error);if(ye){de(hn,`RPC '${e}' stream ${o} received error:`,ye);const he=ye.status;let Ae=function(I){const P=It[I];if(P!==void 0)return Xb(P)}(he),V=ye.message;Ae===void 0&&(Ae=ne.INTERNAL,V="Unknown error status: "+he+" with message "+ye.message),M=!0,D.r_(new fe(Ae,V)),S.close()}else de(hn,`RPC '${e}' stream ${o} received:`,re),D.i_(re)}}),K(m,mb.STAT_EVENT,k=>{k.stat===Jm.PROXY?de(hn,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===Jm.NOPROXY&&de(hn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{D.n_()},0),D}}function Lm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(r){return new $N(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,t,s=1e3,o=1.5,u=6e4){this.bi=e,this.timerId=t,this.u_=s,this.c_=o,this.l_=u,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),o=Math.max(0,t-s);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="PersistentStream";class hw{constructor(e,t,s,o,u,d,m,p){this.bi=e,this.R_=s,this.V_=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new cw(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(Ki(t.toString()),Ki("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.m_===t&&this.B_(s,o)},s=>{e(()=>{const o=new fe(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(o)})})}B_(e,t){const s=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{s(()=>this.L_(o))}),this.stream.onMessage(o=>{s(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return de(AE,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(de(AE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class F4 extends hw{constructor(e,t,s,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,d),this.serializer=u}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=YN(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ie.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Ie.min():d.readTime?li(d.readTime):Ie.min()}(e);return this.listener.Q_(t,s)}U_(e){const t={};t.database=up(this.serializer),t.addTarget=function(u,d){let m;const p=d.target;if(m=rp(p)?{documents:JN(u,p)}:{query:ZN(u,p).gt},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=Zb(u,d.resumeToken);const g=ap(u,d.expectedCount);g!==null&&(m.expectedCount=g)}else if(d.snapshotVersion.compareTo(Ie.min())>0){m.readTime=qh(u,d.snapshotVersion.toTimestamp());const g=ap(u,d.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=t4(this.serializer,e);s&&(t.labels=s),this.F_(t)}K_(e){const t={};t.database=up(this.serializer),t.removeTarget=e,this.F_(t)}}class H4 extends hw{constructor(e,t,s,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,d),this.serializer=u}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=WN(e.writeResults,e.commitTime),s=li(e.commitTime);return this.listener.j_(s,t)}H_(){const e={};e.database=up(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>XN(this.serializer,s))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{}class $4 extends G4{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new fe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,s,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Qo(e,op(t,s),o,u,d)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(ne.UNKNOWN,u.toString())})}Wo(e,t,s,o,u){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.connection.Wo(e,op(t,s),o,d,m,u)).catch(d=>{throw d.name==="FirebaseError"?(d.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new fe(ne.UNKNOWN,d.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class Q4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Ki(t),this.ea=!1):de("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua="RemoteStore";class K4{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=u,this.ca.vo(d=>{s.enqueueAndForget(async()=>{qa(this)&&(de(Ua,"Restarting streams for network reachability change."),await async function(p){const g=Ne(p);g.aa.add(4),await Ku(g),g.la.set("Unknown"),g.aa.delete(4),await dd(g)}(this))})}),this.la=new Q4(s,o)}}async function dd(r){if(qa(r))for(const e of r.ua)await e(!0)}async function Ku(r){for(const e of r.ua)await e(!1)}function dw(r,e){const t=Ne(r);t._a.has(e.targetId)||(t._a.set(e.targetId,e),lg(t)?og(t):hl(t).b_()&&ag(t,e))}function sg(r,e){const t=Ne(r),s=hl(t);t._a.delete(e),s.b_()&&fw(t,e),t._a.size===0&&(s.b_()?s.v_():qa(t)&&t.la.set("Unknown"))}function ag(r,e){if(r.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}hl(r).U_(e)}function fw(r,e){r.ha.Ke(e),hl(r).K_(e)}function og(r){r.ha=new qN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r._a.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),hl(r).start(),r.la.ta()}function lg(r){return qa(r)&&!hl(r).w_()&&r._a.size>0}function qa(r){return Ne(r).aa.size===0}function mw(r){r.ha=void 0}async function Y4(r){r.la.set("Online")}async function X4(r){r._a.forEach((e,t)=>{ag(r,e)})}async function W4(r,e){mw(r),lg(r)?(r.la.ia(e),og(r)):r.la.set("Unknown")}async function J4(r,e,t){if(r.la.set("Online"),e instanceof Jb&&e.state===2&&e.cause)try{await async function(o,u){const d=u.cause;for(const m of u.targetIds)o._a.has(m)&&(await o.remoteSyncer.rejectListen(m,d),o._a.delete(m),o.ha.removeTarget(m))}(r,e)}catch(s){de(Ua,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Hh(r,s)}else if(e instanceof xh?r.ha.Xe(e):e instanceof Wb?r.ha.ot(e):r.ha.nt(e),!t.isEqual(Ie.min()))try{const s=await uw(r.localStore);t.compareTo(s)>=0&&await function(u,d){const m=u.ha.It(d);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u._a.get(g);E&&u._a.set(g,E.withResumeToken(p.resumeToken,d))}}),m.targetMismatches.forEach((p,g)=>{const E=u._a.get(p);if(!E)return;u._a.set(p,E.withResumeToken(sn.EMPTY_BYTE_STRING,E.snapshotVersion)),fw(u,p);const S=new Vs(E.target,p,g,E.sequenceNumber);ag(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(r,t)}catch(s){de(Ua,"Failed to raise snapshot:",s),await Hh(r,s)}}async function Hh(r,e,t){if(!ul(e))throw e;r.aa.add(1),await Ku(r),r.la.set("Offline"),t||(t=()=>uw(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{de(Ua,"Retrying IndexedDB access"),await t(),r.aa.delete(1),await dd(r)})}function pw(r,e){return e().catch(t=>Hh(r,t,e))}async function fd(r){const e=Ne(r),t=Qs(e);let s=e.oa.length>0?e.oa[e.oa.length-1].batchId:Hp;for(;Z4(e);)try{const o=await P4(e.localStore,s);if(o===null){e.oa.length===0&&t.v_();break}s=o.batchId,eO(e,o)}catch(o){await Hh(e,o)}gw(e)&&yw(e)}function Z4(r){return qa(r)&&r.oa.length<10}function eO(r,e){r.oa.push(e);const t=Qs(r);t.b_()&&t.W_&&t.G_(e.mutations)}function gw(r){return qa(r)&&!Qs(r).w_()&&r.oa.length>0}function yw(r){Qs(r).start()}async function tO(r){Qs(r).H_()}async function nO(r){const e=Qs(r);for(const t of r.oa)e.G_(t.mutations)}async function rO(r,e,t){const s=r.oa.shift(),o=Jp.from(s,e,t);await pw(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await fd(r)}async function iO(r,e){e&&Qs(r).W_&&await async function(s,o){if(function(d){return zN(d)&&d!==ne.ABORTED}(o.code)){const u=s.oa.shift();Qs(s).D_(),await pw(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await fd(s)}}(r,e),gw(r)&&yw(r)}async function SE(r,e){const t=Ne(r);t.asyncQueue.verifyOperationInProgress(),de(Ua,"RemoteStore received new credentials");const s=qa(t);t.aa.add(3),await Ku(t),s&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await dd(t)}async function sO(r,e){const t=Ne(r);e?(t.aa.delete(2),await dd(t)):e||(t.aa.add(2),await Ku(t),t.la.set("Unknown"))}function hl(r){return r.Pa||(r.Pa=function(t,s,o){const u=Ne(t);return u.Y_(),new F4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{jo:Y4.bind(null,r),Jo:X4.bind(null,r),Zo:W4.bind(null,r),Q_:J4.bind(null,r)}),r.ua.push(async e=>{e?(r.Pa.D_(),lg(r)?og(r):r.la.set("Unknown")):(await r.Pa.stop(),mw(r))})),r.Pa}function Qs(r){return r.Ta||(r.Ta=function(t,s,o){const u=Ne(t);return u.Y_(),new H4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{jo:()=>Promise.resolve(),Jo:tO.bind(null,r),Zo:iO.bind(null,r),z_:nO.bind(null,r),j_:rO.bind(null,r)}),r.ua.push(async e=>{e?(r.Ta.D_(),await fd(r)):(await r.Ta.stop(),r.oa.length>0&&(de(Ua,`Stopping write stream with ${r.oa.length} pending writes`),r.oa=[]))})),r.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const d=Date.now()+s,m=new ug(e,t,d,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cg(r,e){if(Ki("AsyncQueue",`${e}: ${r}`),ul(r))return new fe(ne.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{static emptySet(e){return new Go(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Te.comparator(t.key,s.key):(t,s)=>Te.comparator(t.key,s.key),this.keyedMap=gu(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Go)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Go;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(){this.Ia=new pt(Te.comparator)}track(e){const t=e.doc.key,s=this.Ia.get(t);s?e.type!==0&&s.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&s.type!==1?this.Ia=this.Ia.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Ia=this.Ia.remove(t):e.type===1&&s.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):xe(63341,{Vt:e,Ea:s}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,s)=>{e.push(s)}),e}}class Zo{constructor(e,t,s,o,u,d,m,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const d=[];return t.forEach(m=>{d.push({type:0,doc:m})}),new Zo(e,t,Go.emptySet(t),d,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ad(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class oO{constructor(){this.queries=RE(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,s){const o=Ne(t),u=o.queries;o.queries=RE(),u.forEach((d,m)=>{for(const p of m.Ra)p.onError(s)})})(this,new fe(ne.ABORTED,"Firestore shutting down"))}}function RE(){return new Ba(r=>Lb(r),ad)}async function vw(r,e){const t=Ne(r);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.Va()&&e.ma()&&(s=2):(u=new aO,s=e.ma()?0:1);try{switch(s){case 0:u.Aa=await t.onListen(o,!0);break;case 1:u.Aa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(d){const m=cg(d,`Initialization of query '${Vo(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.Ra.push(e),e.ga(t.onlineState),u.Aa&&e.pa(u.Aa)&&hg(t)}async function _w(r,e){const t=Ne(r),s=e.query;let o=3;const u=t.queries.get(s);if(u){const d=u.Ra.indexOf(e);d>=0&&(u.Ra.splice(d,1),u.Ra.length===0?o=e.ma()?0:1:!u.Va()&&e.ma()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function lO(r,e){const t=Ne(r);let s=!1;for(const o of e){const u=o.query,d=t.queries.get(u);if(d){for(const m of d.Ra)m.pa(o)&&(s=!0);d.Aa=o}}s&&hg(t)}function uO(r,e,t){const s=Ne(r),o=s.queries.get(e);if(o)for(const u of o.Ra)u.onError(t);s.queries.delete(e)}function hg(r){r.fa.forEach(e=>{e.next()})}var dp,CE;(CE=dp||(dp={})).ya="default",CE.Cache="cache";class Ew{constructor(e,t,s){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Zo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const s=t!=="Offline";return(!this.options.Fa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=Zo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==dp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e){this.key=e}}class bw{constructor(e){this.key=e}}class cO{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=qe(),this.mutatedKeys=qe(),this.Ua=Ub(e),this.Ka=new Go(this.Ua)}get Wa(){return this.qa}Ga(e,t){const s=t?t.za:new xE,o=t?t.Ka:this.Ka;let u=t?t.mutatedKeys:this.mutatedKeys,d=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,S)=>{const x=o.get(E),M=od(this.query,S)?S:null,D=!!x&&this.mutatedKeys.has(x.key),K=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let k=!1;x&&M?x.data.isEqual(M.data)?D!==K&&(s.track({type:3,doc:M}),k=!0):this.ja(x,M)||(s.track({type:2,doc:M}),k=!0,(p&&this.Ua(M,p)>0||g&&this.Ua(M,g)<0)&&(m=!0)):!x&&M?(s.track({type:0,doc:M}),k=!0):x&&!M&&(s.track({type:1,doc:x}),k=!0,(p||g)&&(m=!0)),k&&(M?(d=d.add(M),u=K?u.add(E):u.delete(E)):(d=d.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Ka:d,za:s,ys:m,mutatedKeys:u}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const d=e.za.da();d.sort((E,S)=>function(M,D){const K=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Vt:k})}};return K(M)-K(D)}(E.type,S.type)||this.Ua(E.doc,S.doc)),this.Ha(s),o=o!=null&&o;const m=t&&!o?this.Ja():[],p=this.$a.size===0&&this.current&&!o?1:0,g=p!==this.Qa;return this.Qa=p,d.length!==0||g?{snapshot:new Zo(this.query,e.Ka,u,d,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:m}:{Ya:m}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new xE,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=qe(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const t=[];return e.forEach(s=>{this.$a.has(s)||t.push(new bw(s))}),this.$a.forEach(s=>{e.has(s)||t.push(new Tw(s))}),t}Xa(e){this.qa=e.Ns,this.$a=qe();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return Zo.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const dg="SyncEngine";class hO{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class dO{constructor(e){this.key=e,this.tu=!1}}class fO{constructor(e,t,s,o,u,d){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.nu={},this.ru=new Ba(m=>Lb(m),ad),this.iu=new Map,this.su=new Set,this.ou=new pt(Te.comparator),this._u=new Map,this.au=new tg,this.uu={},this.cu=new Map,this.lu=Jo.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function mO(r,e,t=!0){const s=Cw(r);let o;const u=s.ru.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.eu()):o=await ww(s,e,t,!0),o}async function pO(r,e){const t=Cw(r);await ww(t,e,!0,!1)}async function ww(r,e,t,s){const o=await V4(r.localStore,oi(e)),u=o.targetId,d=r.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await gO(r,e,u,d==="current",o.resumeToken)),r.isPrimaryClient&&t&&dw(r.remoteStore,o),m}async function gO(r,e,t,s,o){r.Pu=(S,x,M)=>async function(K,k,H,re){let se=k.view.Ga(H);se.ys&&(se=await EE(K.localStore,k.query,!1).then(({documents:V})=>k.view.Ga(V,se)));const ye=re&&re.targetChanges.get(k.targetId),he=re&&re.targetMismatches.get(k.targetId)!=null,Ae=k.view.applyChanges(se,K.isPrimaryClient,ye,he);return NE(K,k.targetId,Ae.Ya),Ae.snapshot}(r,S,x,M);const u=await EE(r.localStore,e,!0),d=new cO(e,u.Ns),m=d.Ga(u.documents),p=Qu.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),g=d.applyChanges(m,r.isPrimaryClient,p);NE(r,t,g.Ya);const E=new hO(e,t,d);return r.ru.set(e,E),r.iu.has(t)?r.iu.get(t).push(e):r.iu.set(t,[e]),g.snapshot}async function yO(r,e,t){const s=Ne(r),o=s.ru.get(e),u=s.iu.get(o.targetId);if(u.length>1)return s.iu.set(o.targetId,u.filter(d=>!ad(d,e))),void s.ru.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await cp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&sg(s.remoteStore,o.targetId),fp(s,o.targetId)}).catch(ll)):(fp(s,o.targetId),await cp(s.localStore,o.targetId,!0))}async function vO(r,e){const t=Ne(r),s=t.ru.get(e),o=t.iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),sg(t.remoteStore,s.targetId))}async function _O(r,e,t){const s=xO(r);try{const o=await function(d,m){const p=Ne(d),g=Lt.now(),E=m.reduce((M,D)=>M.add(D.key),qe());let S,x;return p.persistence.runTransaction("Locally write mutations","readwrite",M=>{let D=Yi(),K=qe();return p.Cs.getEntries(M,E).next(k=>{D=k,D.forEach((H,re)=>{re.isValidDocument()||(K=K.add(H))})}).next(()=>p.localDocuments.getOverlayedDocuments(M,D)).next(k=>{S=k;const H=[];for(const re of m){const se=VN(re,S.get(re.key).overlayedDocument);se!=null&&H.push(new Zs(re.key,se,Nb(se.value.mapValue),mr.exists(!0)))}return p.mutationQueue.addMutationBatch(M,g,H,m)}).next(k=>{x=k;const H=k.applyToLocalDocumentSet(S,K);return p.documentOverlayCache.saveOverlays(M,k.batchId,H)})}).then(()=>({batchId:x.batchId,changes:Bb(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,m,p){let g=d.uu[d.currentUser.toKey()];g||(g=new pt(je)),g=g.insert(m,p),d.uu[d.currentUser.toKey()]=g}(s,o.batchId,t),await Yu(s,o.changes),await fd(s.remoteStore)}catch(o){const u=cg(o,"Failed to persist write");t.reject(u)}}async function Aw(r,e){const t=Ne(r);try{const s=await D4(t.localStore,e);e.targetChanges.forEach((o,u)=>{const d=t._u.get(u);d&&(Je(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.tu=!0:o.modifiedDocuments.size>0?Je(d.tu,14607):o.removedDocuments.size>0&&(Je(d.tu,42227),d.tu=!1))}),await Yu(t,s,e)}catch(s){await ll(s)}}function IE(r,e,t){const s=Ne(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ru.forEach((u,d)=>{const m=d.view.ga(e);m.snapshot&&o.push(m.snapshot)}),function(d,m){const p=Ne(d);p.onlineState=m;let g=!1;p.queries.forEach((E,S)=>{for(const x of S.Ra)x.ga(m)&&(g=!0)}),g&&hg(p)}(s.eventManager,e),o.length&&s.nu.Q_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function EO(r,e,t){const s=Ne(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s._u.get(e),u=o&&o.key;if(u){let d=new pt(Te.comparator);d=d.insert(u,fn.newNoDocument(u,Ie.min()));const m=qe().add(u),p=new cd(Ie.min(),new Map,new pt(je),d,m);await Aw(s,p),s.ou=s.ou.remove(u),s._u.delete(e),fg(s)}else await cp(s.localStore,e,!1).then(()=>fp(s,e,t)).catch(ll)}async function TO(r,e){const t=Ne(r),s=e.batch.batchId;try{const o=await O4(t.localStore,e);xw(t,s,null),Sw(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Yu(t,o)}catch(o){await ll(o)}}async function bO(r,e,t){const s=Ne(r);try{const o=await function(d,m){const p=Ne(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(S=>(Je(S!==null,37113),E=S.keys(),p.mutationQueue.removeMutationBatch(g,S))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);xw(s,e,t),Sw(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Yu(s,o)}catch(o){await ll(o)}}function Sw(r,e){(r.cu.get(e)||[]).forEach(t=>{t.resolve()}),r.cu.delete(e)}function xw(r,e,t){const s=Ne(r);let o=s.uu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.uu[s.currentUser.toKey()]=o}}function fp(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.iu.get(e))r.ru.delete(s),t&&r.nu.Tu(s,t);r.iu.delete(e),r.isPrimaryClient&&r.au.Ur(e).forEach(s=>{r.au.containsKey(s)||Rw(r,s)})}function Rw(r,e){r.su.delete(e.path.canonicalString());const t=r.ou.get(e);t!==null&&(sg(r.remoteStore,t),r.ou=r.ou.remove(e),r._u.delete(t),fg(r))}function NE(r,e,t){for(const s of t)s instanceof Tw?(r.au.addReference(s.key,e),wO(r,s)):s instanceof bw?(de(dg,"Document no longer in limbo: "+s.key),r.au.removeReference(s.key,e),r.au.containsKey(s.key)||Rw(r,s.key)):xe(19791,{Iu:s})}function wO(r,e){const t=e.key,s=t.path.canonicalString();r.ou.get(t)||r.su.has(s)||(de(dg,"New document in limbo: "+t),r.su.add(s),fg(r))}function fg(r){for(;r.su.size>0&&r.ou.size<r.maxConcurrentLimboResolutions;){const e=r.su.values().next().value;r.su.delete(e);const t=new Te(lt.fromString(e)),s=r.lu.next();r._u.set(s,new dO(t)),r.ou=r.ou.insert(t,s),dw(r.remoteStore,new Vs(oi(Yp(t.path)),s,"TargetPurposeLimboResolution",rd.le))}}async function Yu(r,e,t){const s=Ne(r),o=[],u=[],d=[];s.ru.isEmpty()||(s.ru.forEach((m,p)=>{d.push(s.Pu(p,e,t).then(g=>{var E;if((g||t)&&s.isPrimaryClient){const S=g?!g.fromCache:(E=t==null?void 0:t.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(g){o.push(g);const S=rg.Ps(p.targetId,g);u.push(S)}}))}),await Promise.all(d),s.nu.Q_(o),await async function(p,g){const E=Ne(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>ie.forEach(g,x=>ie.forEach(x.ls,M=>E.persistence.referenceDelegate.addReference(S,x.targetId,M)).next(()=>ie.forEach(x.hs,M=>E.persistence.referenceDelegate.removeReference(S,x.targetId,M)))))}catch(S){if(!ul(S))throw S;de(ig,"Failed to update sequence numbers: "+S)}for(const S of g){const x=S.targetId;if(!S.fromCache){const M=E.Ss.get(x),D=M.snapshotVersion,K=M.withLastLimboFreeSnapshotVersion(D);E.Ss=E.Ss.insert(x,K)}}}(s.localStore,u))}async function AO(r,e){const t=Ne(r);if(!t.currentUser.isEqual(e)){de(dg,"User change. New user:",e.toKey());const s=await lw(t.localStore,e);t.currentUser=e,function(u,d){u.cu.forEach(m=>{m.forEach(p=>{p.reject(new fe(ne.CANCELLED,d))})}),u.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Yu(t,s.Ms)}}function SO(r,e){const t=Ne(r),s=t._u.get(e);if(s&&s.tu)return qe().add(s.key);{let o=qe();const u=t.iu.get(e);if(!u)return o;for(const d of u){const m=t.ru.get(d);o=o.unionWith(m.view.Wa)}return o}}function Cw(r){const e=Ne(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Aw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EO.bind(null,e),e.nu.Q_=lO.bind(null,e.eventManager),e.nu.Tu=uO.bind(null,e.eventManager),e}function xO(r){const e=Ne(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bO.bind(null,e),e}class Gh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hd(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return N4(this.persistence,new R4,e.initialUser,this.serializer)}Ru(e){return new ow(ng.Ei,this.serializer)}Au(e){return new k4}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gh.provider={build:()=>new Gh};class RO extends Gh{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){Je(this.persistence.referenceDelegate instanceof Fh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new d4(s,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new ow(s=>Fh.Ei(s,t),this.serializer)}}class mp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>IE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=AO.bind(null,this.syncEngine),await sO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new oO}()}createDatastore(e){const t=hd(e.databaseInfo.databaseId),s=function(u){return new q4(u)}(e.databaseInfo);return function(u,d,m,p){return new $4(u,d,m,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,d,m){return new K4(s,o,u,d,m)}(this.localStore,this.datastore,e.asyncQueue,t=>IE(this.syncEngine,t,0),function(){return wE.C()?new wE:new L4}())}createSyncEngine(e,t){return function(o,u,d,m,p,g,E){const S=new fO(o,u,d,m,p,g);return E&&(S.hu=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Ne(o);de(Ua,"RemoteStore shutting down."),u.aa.add(5),await Ku(u),u.ca.shutdown(),u.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}mp.provider={build:()=>new mp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Ki("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="FirestoreClient";class CO{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=dn.UNAUTHENTICATED,this.clientId=Eb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async d=>{de(Ks,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(de(Ks,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=cg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Um(r,e){r.asyncQueue.verifyOperationInProgress(),de(Ks,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await lw(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function OE(r,e){r.asyncQueue.verifyOperationInProgress();const t=await IO(r);de(Ks,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>SE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>SE(e.remoteStore,o)),r._onlineComponents=e}async function IO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){de(Ks,"Using user provided OfflineComponentProvider");try{await Um(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Ko("Error using user provided cache. Falling back to memory cache: "+t),await Um(r,new Gh)}}else de(Ks,"Using default OfflineComponentProvider"),await Um(r,new RO(void 0));return r._offlineComponents}async function Nw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(de(Ks,"Using user provided OnlineComponentProvider"),await OE(r,r._uninitializedComponentsProvider._online)):(de(Ks,"Using default OnlineComponentProvider"),await OE(r,new mp))),r._onlineComponents}function NO(r){return Nw(r).then(e=>e.syncEngine)}async function Ow(r){const e=await Nw(r),t=e.eventManager;return t.onListen=mO.bind(null,e.syncEngine),t.onUnlisten=yO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=pO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=vO.bind(null,e.syncEngine),t}function OO(r,e,t={}){const s=new Hi;return r.asyncQueue.enqueueAndForget(async()=>function(u,d,m,p,g){const E=new Iw({next:x=>{E.yu(),d.enqueueAndForget(()=>_w(u,S));const M=x.docs.has(m);!M&&x.fromCache?g.reject(new fe(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&x.fromCache&&p&&p.source==="server"?g.reject(new fe(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(x)},error:x=>g.reject(x)}),S=new Ew(Yp(m.path),E,{includeMetadataChanges:!0,Fa:!0});return vw(u,S)}(await Ow(r),r.asyncQueue,e,t,s)),s.promise}function DO(r,e,t={}){const s=new Hi;return r.asyncQueue.enqueueAndForget(async()=>function(u,d,m,p,g){const E=new Iw({next:x=>{E.yu(),d.enqueueAndForget(()=>_w(u,S)),x.fromCache&&p.source==="server"?g.reject(new fe(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(x)},error:x=>g.reject(x)}),S=new Ew(m,E,{includeMetadataChanges:!0,Fa:!0});return vw(u,S)}(await Ow(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(r,e,t){if(!t)throw new fe(ne.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function MO(r,e,t,s){if(e===!0&&s===!0)throw new fe(ne.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function ME(r){if(!Te.isDocumentKey(r))throw new fe(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function PE(r){if(Te.isDocumentKey(r))throw new fe(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function md(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":xe(12329,{type:typeof r})}function kr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new fe(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=md(r);throw new fe(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="firestore.googleapis.com",VE=!0;class jE{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Pw,this.ssl=VE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:VE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=aw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<c4)throw new fe(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}MO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Dw((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pd{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new zI;switch(s.type){case"firstParty":return new HI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=DE.get(t);s&&(de("ComponentProvider","Removing Datastore"),DE.delete(t),s.terminate())}(this),Promise.resolve()}}function PO(r,e,t,s={}){var o;const u=(r=kr(r,pd))._getSettings(),d=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${e}:${t}`;u.host!==Pw&&u.host!==m&&Ko("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!Pa(p,d)&&(r._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=dn.MOCK_USER;else{g=Wx(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new fe(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new dn(S)}r._authCredentials=new BI(new vb(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Fa(this.firestore,e,this._query)}}class bn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bn(this.firestore,e,this._key)}}class Bs extends Fa{constructor(e,t,s){super(e,t,Yp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bn(this.firestore,null,new Te(e))}withConverter(e){return new Bs(this.firestore,e,this._path)}}function kE(r,e,...t){if(r=zt(r),Mw("collection","path",e),r instanceof pd){const s=lt.fromString(e,...t);return PE(s),new Bs(r,null,s)}{if(!(r instanceof bn||r instanceof Bs))throw new fe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(lt.fromString(e,...t));return PE(s),new Bs(r.firestore,null,s)}}function Vu(r,e,...t){if(r=zt(r),arguments.length===1&&(e=Eb.newId()),Mw("doc","path",e),r instanceof pd){const s=lt.fromString(e,...t);return ME(s),new bn(r,null,new Te(s))}{if(!(r instanceof bn||r instanceof Bs))throw new fe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(lt.fromString(e,...t));return ME(s),new bn(r.firestore,r instanceof Bs?r.converter:null,new Te(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="AsyncQueue";class UE{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new cw(this,"async_queue_retry"),this.ju=()=>{const s=Lm();s&&de(LE,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=e;const t=Lm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=Lm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new Hi;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!ul(e))throw e;de(LE,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(s=>{throw this.Ku=s,this.Wu=!1,Ki("INTERNAL UNHANDLED ERROR: ",zE(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=t,t}enqueueAfterDelay(e,t,s){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const o=ug.createAndSchedule(this,e,t,s,u=>this.Xu(u));return this.Uu.push(o),o}Ju(){this.Ku&&xe(47125,{ec:zE(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function zE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Ha extends pd{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new UE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new UE(e),this._firestoreClient=void 0,await e}}}function VO(r,e){const t=typeof r=="object"?r:CT(),s=typeof r=="string"?r:Lh,o=Np(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Yx("firestore");u&&PO(o,...u)}return o}function mg(r){if(r._terminated)throw new fe(ne.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||jO(r),r._firestoreClient}function jO(r){var e,t,s;const o=r._freezeSettings(),u=function(m,p,g,E){return new sN(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Dw(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new CO(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this._byteString=e}static fromBase64String(e){try{return new el(sn.fromBase64String(e))}catch(t){throw new fe(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new el(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=/^__.*__$/;class LO{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Zs(e,this.data,this.fieldMask,t,this.fieldTransforms):new $u(e,this.data,t,this.fieldTransforms)}}class Vw{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Zs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function jw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{oc:r})}}class yg{constructor(e,t,s,o,u,d){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this._c(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new yg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ac({path:s,cc:!1});return o.lc(e),o}hc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ac({path:s,cc:!1});return o._c(),o}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return $h(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(jw(this.oc)&&kO.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class UO{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||hd(e)}dc(e,t,s,o=!1){return new yg({oc:e,methodName:t,Ec:s,path:rn.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vd(r){const e=r._freezeSettings(),t=hd(r._databaseId);return new UO(r._databaseId,!!e.ignoreUndefinedProperties,t)}function kw(r,e,t,s,o,u={}){const d=r.dc(u.merge||u.mergeFields?2:0,e,t,o);_g("Data must be an object, but it was:",d,s);const m=Lw(s,d);let p,g;if(u.merge)p=new Qn(d.fieldMask),g=d.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const x=pp(e,S,t);if(!d.contains(x))throw new fe(ne.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);zw(E,x)||E.push(x)}p=new Qn(E),g=d.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,g=d.fieldTransforms;return new LO(new On(m),p,g)}class _d extends yd{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _d}}class vg extends yd{_toFieldTransform(e){return new ON(e.path,new Du)}isEqual(e){return e instanceof vg}}function zO(r,e,t,s){const o=r.dc(1,e,t);_g("Data must be an object, but it was:",o,s);const u=[],d=On.empty();Js(s,(p,g)=>{const E=Eg(e,p,t);g=zt(g);const S=o.hc(E);if(g instanceof _d)u.push(E);else{const x=Xu(g,S);x!=null&&(u.push(E),d.set(E,x))}});const m=new Qn(u);return new Vw(d,m,o.fieldTransforms)}function BO(r,e,t,s,o,u){const d=r.dc(1,e,t),m=[pp(e,s,t)],p=[o];if(u.length%2!=0)throw new fe(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)m.push(pp(e,u[x])),p.push(u[x+1]);const g=[],E=On.empty();for(let x=m.length-1;x>=0;--x)if(!zw(g,m[x])){const M=m[x];let D=p[x];D=zt(D);const K=d.hc(M);if(D instanceof _d)g.push(M);else{const k=Xu(D,K);k!=null&&(g.push(M),E.set(M,k))}}const S=new Qn(g);return new Vw(E,S,d.fieldTransforms)}function qO(r,e,t,s=!1){return Xu(t,r.dc(s?4:3,e))}function Xu(r,e){if(Uw(r=zt(r)))return _g("Unsupported field value:",e,r),Lw(r,e);if(r instanceof yd)return function(s,o){if(!jw(o.oc))throw o.Tc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(s,o){const u=[];let d=0;for(const m of s){let p=Xu(m,o.Pc(d));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),d++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=zt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return CN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Lt.fromDate(s);return{timestampValue:qh(o.serializer,u)}}if(s instanceof Lt){const u=new Lt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:qh(o.serializer,u)}}if(s instanceof pg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof el)return{bytesValue:Zb(o.serializer,s._byteString)};if(s instanceof bn){const u=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(u))throw o.Tc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:eg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof gg)return function(d,m){return{mapValue:{fields:{[Cb]:{stringValue:Ib},[Uh]:{arrayValue:{values:d.toArray().map(g=>{if(typeof g!="number")throw m.Tc("VectorValues must only contain numeric values.");return Xp(m.serializer,g)})}}}}}}(s,o);throw o.Tc(`Unsupported field value: ${md(s)}`)}(r,e)}function Lw(r,e){const t={};return bb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Js(r,(s,o)=>{const u=Xu(o,e.uc(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function Uw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Lt||r instanceof pg||r instanceof el||r instanceof bn||r instanceof yd||r instanceof gg)}function _g(r,e,t){if(!Uw(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=md(t);throw s==="an object"?e.Tc(r+" a custom object"):e.Tc(r+" "+s)}}function pp(r,e,t){if((e=zt(e))instanceof gd)return e._internalPath;if(typeof e=="string")return Eg(r,e);throw $h("Field path arguments must be of type string or ",r,!1,void 0,t)}const FO=new RegExp("[~\\*/\\[\\]]");function Eg(r,e,t){if(e.search(FO)>=0)throw $h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new gd(...e.split("."))._internalPath}catch{throw $h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function $h(r,e,t,s,o){const u=s&&!s.isEmpty(),d=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||d)&&(p+=" (found",u&&(p+=` in field ${s}`),d&&(p+=` in document ${o}`),p+=")"),new fe(ne.INVALID_ARGUMENT,m+r+p)}function zw(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Tg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class HO extends Bw{data(){return super.data()}}function Tg(r,e){return typeof e=="string"?Eg(r,e):e instanceof gd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new fe(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bg{}class qw extends bg{}function $O(r,e,...t){let s=[];e instanceof bg&&s.push(e),s=s.concat(t),function(u){const d=u.filter(p=>p instanceof Ag).length,m=u.filter(p=>p instanceof wg).length;if(d>1||d>0&&m>0)throw new fe(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class wg extends qw{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new wg(e,t,s)}_apply(e){const t=this._parse(e);return Fw(e._query,t),new Fa(e.firestore,e.converter,ip(e._query,t))}_parse(e){const t=vd(e.firestore);return function(u,d,m,p,g,E,S){let x;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new fe(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){qE(S,E);const D=[];for(const K of S)D.push(BE(p,u,K));x={arrayValue:{values:D}}}else x=BE(p,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||qE(S,E),x=qO(m,d,S,E==="in"||E==="not-in");return Nt.create(g,E,x)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Ag extends bg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ag(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:jr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let d=o;const m=u.getFlattenedFilters();for(const p of m)Fw(d,p),d=ip(d,p)}(e._query,t),new Fa(e.firestore,e.converter,ip(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Sg extends qw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Sg(e,t)}_apply(e){const t=function(o,u,d){if(o.startAt!==null)throw new fe(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new fe(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ou(u,d)}(e._query,this._field,this._direction);return new Fa(e.firestore,e.converter,function(o,u){const d=o.explicitOrderBy.concat([u]);return new cl(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function QO(r,e="asc"){const t=e,s=Tg("orderBy",r);return Sg._create(s,t)}function BE(r,e,t){if(typeof(t=zt(t))=="string"){if(t==="")throw new fe(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kb(e)&&t.indexOf("/")!==-1)throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(lt.fromString(t));if(!Te.isDocumentKey(s))throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return tE(r,new Te(s))}if(t instanceof bn)return tE(r,t._key);throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${md(t)}.`)}function qE(r,e){if(!Array.isArray(r)||r.length===0)throw new fe(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Fw(r,e){const t=function(o,u){for(const d of o)for(const m of d.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new fe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class KO{convertValue(e,t="none"){switch($s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Js(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Uh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>At(d.doubleValue));return new gg(u)}convertGeoPoint(e){return new pg(At(e.latitude),At(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=sd(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Cu(e));default:return null}}convertTimestamp(e){const t=Hs(e);return new Lt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=lt.fromString(e);Je(sw(s),9688,{name:e});const o=new Iu(s.get(1),s.get(3)),u=new Te(s.popFirst(5));return o.isEqual(t)||Ki(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(r,e,t){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gw extends Bw{constructor(e,t,s,o,u,d){super(e,t,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Tg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Rh extends Gw{data(e={}){return super.data(e)}}class YO{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new vu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Rh(this._firestore,this._userDataWriter,s.key,s,new vu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(m=>{const p=new Rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new vu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new vu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),E=d.indexOf(m.doc.key)),{type:XO(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function XO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(r){r=kr(r,bn);const e=kr(r.firestore,Ha);return OO(mg(e),r._key).then(t=>rD(e,r,t))}class $w extends KO{constructor(e){super(),this.firestore=e}convertBytes(e){return new el(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bn(this.firestore,null,t)}}function JO(r){r=kr(r,Fa);const e=kr(r.firestore,Ha),t=mg(e),s=new $w(e);return GO(r._query),DO(t,r._query).then(o=>new YO(e,s,r,o))}function ZO(r,e,t){r=kr(r,bn);const s=kr(r.firestore,Ha),o=Hw(r.converter,e);return Ed(s,[kw(vd(s),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,mr.none())])}function eD(r,e,t,...s){r=kr(r,bn);const o=kr(r.firestore,Ha),u=vd(o);let d;return d=typeof(e=zt(e))=="string"||e instanceof gd?BO(u,"updateDoc",r._key,e,t,s):zO(u,"updateDoc",r._key,e),Ed(o,[d.toMutation(r._key,mr.exists(!0))])}function tD(r){return Ed(kr(r.firestore,Ha),[new Wp(r._key,mr.none())])}function nD(r,e){const t=kr(r.firestore,Ha),s=Vu(r),o=Hw(r.converter,e);return Ed(t,[kw(vd(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,mr.exists(!1))]).then(()=>s)}function Ed(r,e){return function(s,o){const u=new Hi;return s.asyncQueue.enqueueAndForget(async()=>_O(await NO(s),o,u)),u.promise}(mg(r),e)}function rD(r,e,t){const s=t.docs.get(e._key),o=new $w(r);return new Gw(r,o,e._key,s,new vu(t.hasPendingWrites,t.fromCache),e.converter)}function iD(){return new vg("serverTimestamp")}(function(e,t=!0){(function(o){ol=o})(sl),$o(new Va("firestore",(s,{instanceIdentifier:o,options:u})=>{const d=s.getProvider("app").getImmediate(),m=new Ha(new qI(s.getProvider("auth-internal")),new GI(d,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new fe(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Iu(g.options.projectId,E)}(d,o),d);return u=Object.assign({useFetchStreams:t},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Us(F0,H0,e),Us(F0,H0,"esm2017")})();const sD={apiKey:"AIzaSyD5zjtq4jux6yKgqSoYwxOLbvuGu_k36yo",authDomain:"shreenda-architects.firebaseapp.com",projectId:"shreenda-architects",storageBucket:"shreenda-architects.firebasestorage.app",messagingSenderId:"1039007916223",appId:"1:1039007916223:web:a2ebbfcbe10056d67ae60a"},Qw=RT(sD),ui=jI(Qw),Uo=VO(Qw),Kw=new ii;Kw.setCustomParameters({prompt:"select_account"});window.location.hostname==="gauravshidling.github.io"&&ui.useDeviceLanguage();const Yw=$.createContext();function dl(){return $.useContext(Yw)}function aD({children:r}){const[e,t]=$.useState(null),[s,o]=$.useState(!0),u=()=>{const p=ui.currentUser;t(p),console.log("Auth state manually refreshed:",p?"User is signed in":"No user")};async function d(){console.log("AuthContext: signOut function called"),t(null);try{return await xC(ui),console.log("AuthContext: Firebase signOut successful"),setTimeout(()=>{u()},100),Promise.resolve()}catch(p){return console.error("AuthContext: Error signing out:",p),u(),Promise.reject(p)}}$.useEffect(()=>{console.log("Setting up auth state listener");const p=zp(ui,g=>{console.log("Auth state changed:",g?"User signed in":"User signed out"),t(g),o(!1)});return()=>{console.log("Cleaning up auth state listener"),p()}},[]);const m={currentUser:e,signOut:d,refreshAuthState:u};return v.jsx(Yw.Provider,{value:m,children:!s&&r})}const Xw=$.createContext();function Td(){return $.useContext(Xw)}function oD({children:r}){const{currentUser:e}=dl(),[t,s]=$.useState([]),[o,u]=$.useState(!0),[d,m]=$.useState(null),p=async()=>{try{u(!0);const M=kE(Uo,"projects"),D=$O(M,QO("createdAt","desc")),k=(await JO(D)).docs.map(H=>{const re=H.data();return console.log("Project data:",re),{id:H.id,...re,imageUrls:Array.isArray(re.imageUrls)?re.imageUrls:[re.imageUrl].filter(Boolean)}});console.log("Fetched projects:",k),s(k)}catch(M){m(M.message),console.error("Error fetching projects:",M)}finally{u(!1)}},g=async M=>{try{if(!e)throw new Error("User must be authenticated to add projects");const D=kE(Uo,"projects"),K={...M,imageUrls:Array.isArray(M.imageUrls)?M.imageUrls:[M.imageUrl].filter(Boolean),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),userId:e.uid};console.log("Adding project:",K);const k=await nD(D,K);console.log("Project added with ID:",k.id);const H={...K,id:k.id};return s(re=>[H,...re]),H}catch(D){throw console.error("Error adding project:",D),m(D.message),D}},E=async(M,D)=>{try{const K=Vu(Uo,"projects",M),k={...D,updatedAt:new Date().toISOString()};await eD(K,k),await p()}catch(K){throw m(K.message),console.error("Error updating project:",K),K}},S=async M=>{try{const D=Vu(Uo,"projects",M);await tD(D),await p()}catch(D){throw m(D.message),console.error("Error deleting project:",D),D}};$.useEffect(()=>{p()},[]);const x={projects:t,loading:o,error:d,addProject:g,updateProject:E,deleteProject:S,fetchProjects:p};return v.jsx(Xw.Provider,{value:x,children:r})}const Ww="/shreenda-architects/assets/Shreenda%20Architects%20Logo-CRP3V8n-.jpg",lD=()=>{const[r,e]=$.useState(!1),[t,s]=$.useState(!1),{currentUser:o,refreshAuthState:u,signOut:d}=dl(),m=il(),p=$.useRef(null);$.useEffect(()=>{const M=zp(ui,D=>{console.log("Navbar detected auth state change:",D?"logged in":"logged out")});return()=>M()},[]);const g=()=>{e(!r),t&&s(!1)},E=()=>{s(!t),r&&e(!1)},S=async()=>{try{await d(),m("/")}catch(M){console.error("Error signing out:",M)}};$.useEffect(()=>{function M(D){p.current&&!p.current.contains(D.target)&&s(!1)}return document.addEventListener("mousedown",M),()=>{document.removeEventListener("mousedown",M)}},[p]);const x=({isActive:M})=>`px-3 py-2 rounded-md text-sm font-medium transition duration-300 ${M?"text-accent font-bold":"text-gray-700 hover:text-accent"}`;return v.jsx("nav",{className:"bg-white shadow-sm",children:v.jsx("div",{className:"container-custom py-4",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs(Qt,{to:"/",className:"flex items-center space-x-3",children:[v.jsx("img",{src:Ww,alt:"Shreenda Architects Logo",className:"h-10 w-auto"}),v.jsx("span",{className:"text-xl font-heading font-bold text-primary",children:"Shreenda Architects"})]}),v.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[v.jsx(fr,{to:"/",className:x,children:"Home"}),v.jsx(fr,{to:"/about",className:x,children:"About Us"}),v.jsx(fr,{to:"/projects",className:x,children:"Projects"}),v.jsx(fr,{to:"/contact",className:x,children:"Contact Us"}),o?v.jsxs("div",{className:"relative ml-4",ref:p,children:[v.jsxs("button",{onClick:E,className:"flex items-center space-x-2 focus:outline-none",children:[v.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center",children:v.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),v.jsx("span",{className:"text-gray-700",children:o.displayName||"User"})]}),t&&v.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-xl py-2 z-50 dropdown-menu border border-gray-100 animate-fade-in-down",children:[v.jsxs("div",{className:"px-4 py-3 border-b border-gray-100",children:[v.jsx("p",{className:"text-sm font-semibold text-gray-900",children:o.displayName||"User Profile"}),v.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate",children:o.email})]}),(o.email==="admin@shreenda.com"||o.email==="gauravshidling@gmail.com")&&v.jsxs(Qt,{to:"/dashboard",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",onClick:()=>s(!1),children:[v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:v.jsx("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),"Dashboard"]}),v.jsxs("button",{onClick:S,className:"flex items-center w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 cursor-pointer",children:[v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:v.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 00-1 1v12a1 1 0 001 1h12a1 1 0 001-1V7.414l-5-5H3zm6 7a1 1 0 112 0v3a1 1 0 11-2 0v-3zm-3 1a1 1 0 011-1h.01a1 1 0 110 2H7a1 1 0 01-1-1zm7 0a1 1 0 011-1h.01a1 1 0 110 2H14a1 1 0 01-1-1zm-1-5a1 1 0 00-1 1v.01a1 1 0 001 1h.01a1 1 0 001-1V7a1 1 0 00-1-1h-.01z",clipRule:"evenodd"})}),"Sign Out"]})]})]}):v.jsx(fr,{to:"/login",className:"ml-4 px-4 py-2 text-sm font-medium rounded-md bg-gradient-to-r from-amber-500 to-amber-600 text-white hover:from-amber-600 hover:to-amber-700 transition-all duration-300 shadow-md hover:shadow-lg transform hover:scale-105",children:"Login"})]}),r&&v.jsx("div",{className:"md:hidden mt-3 pt-3 border-t border-gray-200",children:v.jsxs("div",{className:"flex flex-col space-y-2 pb-3",children:[v.jsx(fr,{to:"/",className:x,onClick:()=>e(!1),children:"Home"}),v.jsx(fr,{to:"/about",className:x,onClick:()=>e(!1),children:"About Us"}),v.jsx(fr,{to:"/projects",className:x,onClick:()=>e(!1),children:"Projects"}),v.jsx(fr,{to:"/contact",className:x,onClick:()=>e(!1),children:"Contact Us"}),o?v.jsxs("div",{className:"pt-2 mt-2 border-t border-gray-200",children:[v.jsxs("div",{className:"px-3 py-2 text-sm font-medium text-gray-700 flex items-center",children:[v.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-r from-amber-500 to-amber-600 flex items-center justify-center text-white mr-2",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:v.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),v.jsx("span",{className:"truncate",children:o.displayName||o.email})]}),(o.email==="admin@shreenda.com"||o.email==="gauravshidling@gmail.com")&&v.jsxs(fr,{to:"/dashboard",className:"flex items-center px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-md",onClick:()=>e(!1),children:[v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:v.jsx("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),"Dashboard"]}),v.jsxs("button",{onClick:S,className:"flex items-center w-full text-left px-3 py-2 text-sm font-medium text-red-600 hover:bg-red-50 rounded-md mt-1 cursor-pointer",children:[v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:v.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 00-1 1v12a1 1 0 001 1h12a1 1 0 001-1V7.414l-5-5H3zm6 7a1 1 0 112 0v3a1 1 0 11-2 0v-3zm-3 1a1 1 0 011-1h.01a1 1 0 110 2H7a1 1 0 01-1-1zm7 0a1 1 0 011-1h.01a1 1 0 110 2H14a1 1 0 01-1-1zm-1-5a1 1 0 00-1 1v.01a1 1 0 001 1h.01a1 1 0 001-1V7a1 1 0 00-1-1h-.01z",clipRule:"evenodd"})}),"Sign Out"]})]}):v.jsx("div",{className:"pt-2 mt-2 border-t border-gray-200",children:v.jsxs(fr,{to:"/login",className:"flex items-center px-3 py-2 text-sm font-medium bg-gradient-to-r from-amber-500 to-amber-600 text-white rounded-md my-2 hover:from-amber-600 hover:to-amber-700 transition-all duration-300 shadow-sm",onClick:()=>e(!1),children:[v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:v.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v16a1 1 0 01-1 1H4a1 1 0 01-1-1V3zm7 1a1 1 0 00-1 1v1a1 1 0 002 0V5a1 1 0 00-1-1zm4 0a1 1 0 00-1 1v1a1 1 0 102 0V5a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Login"]})})]})}),v.jsx("button",{type:"button",className:"md:hidden text-gray-500 hover:text-gray-700 focus:outline-none",onClick:g,children:r?v.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):v.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})})})},xg=({title:r,subtitle:e,buttonText:t,buttonLink:s,imageSrc:o})=>v.jsxs("div",{className:"relative",children:[v.jsxs("div",{className:"absolute inset-0 z-0",children:[v.jsx("img",{src:o,alt:"Architectural background",className:"w-full h-full object-cover"}),v.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50"})]}),v.jsx("div",{className:"container-custom relative z-10 py-24 md:py-36",children:v.jsxs("div",{className:"max-w-3xl",children:[v.jsx("h1",{className:"text-white mb-6 leading-tight",children:r}),v.jsx("p",{className:"text-xl text-gray-200 mb-8 max-w-2xl",children:e}),t&&s&&v.jsx(Qt,{to:s,className:"btn btn-primary",children:t})]})})]}),si=({title:r,subtitle:e,centered:t=!1})=>v.jsxs("div",{className:`mb-12 ${t?"text-center":""}`,children:[v.jsx("h2",{className:"mb-4",children:r}),e&&v.jsx("p",{className:"text-lg text-gray-600 max-w-3xl",children:e})]});var js=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},gp={exports:{}};(function(r,e){var t=200,s="__lodash_hash_undefined__",o=9007199254740991,u="[object Arguments]",d="[object Array]",m="[object Boolean]",p="[object Date]",g="[object Error]",E="[object Function]",S="[object GeneratorFunction]",x="[object Map]",M="[object Number]",D="[object Object]",K="[object Promise]",k="[object RegExp]",H="[object Set]",re="[object String]",se="[object Symbol]",ye="[object WeakMap]",he="[object ArrayBuffer]",Ae="[object DataView]",V="[object Float32Array]",R="[object Float64Array]",I="[object Int8Array]",P="[object Int16Array]",L="[object Int32Array]",U="[object Uint8Array]",C="[object Uint8ClampedArray]",ve="[object Uint16Array]",Oe="[object Uint32Array]",J=/[\\^$.*+?()[\]{}|]/g,le=/\w*$/,ge=/^\[object .+?Constructor\]$/,ze=/^(?:0|[1-9]\d*)$/,N={};N[u]=N[d]=N[he]=N[Ae]=N[m]=N[p]=N[V]=N[R]=N[I]=N[P]=N[L]=N[x]=N[M]=N[D]=N[k]=N[H]=N[re]=N[se]=N[U]=N[C]=N[ve]=N[Oe]=!0,N[g]=N[E]=N[ye]=!1;var ae=typeof js=="object"&&js&&js.Object===Object&&js,ce=typeof self=="object"&&self&&self.Object===Object&&self,oe=ae||ce||Function("return this")(),Ee=e&&!e.nodeType&&e,De=Ee&&!0&&r&&!r.nodeType&&r,Re=De&&De.exports===Ee;function St(A,B){return A.set(B[0],B[1]),A}function tt(A,B){return A.add(B),A}function Kn(A,B){for(var X=-1,me=A?A.length:0;++X<me&&B(A[X],X,A)!==!1;);return A}function zr(A,B){for(var X=-1,me=B.length,ot=A.length;++X<me;)A[ot+X]=B[X];return A}function Yn(A,B,X,me){for(var ot=-1,Mt=A?A.length:0;++ot<Mt;)X=B(X,A[ot],ot,A);return X}function di(A,B){for(var X=-1,me=Array(A);++X<A;)me[X]=B(X);return me}function fi(A,B){return A==null?void 0:A[B]}function Br(A){var B=!1;if(A!=null&&typeof A.toString!="function")try{B=!!(A+"")}catch{}return B}function Ji(A){var B=-1,X=Array(A.size);return A.forEach(function(me,ot){X[++B]=[ot,me]}),X}function Zi(A,B){return function(X){return A(B(X))}}function pn(A){var B=-1,X=Array(A.size);return A.forEach(function(me){X[++B]=me}),X}var fl=Array.prototype,ea=Function.prototype,vr=Object.prototype,_r=oe["__core-js_shared__"],Qa=function(){var A=/[^.]+$/.exec(_r&&_r.keys&&_r.keys.IE_PROTO||"");return A?"Symbol(src)_1."+A:""}(),mi=ea.toString,wn=vr.hasOwnProperty,pi=vr.toString,ut=RegExp("^"+mi.call(wn).replace(J,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Qe=Re?oe.Buffer:void 0,an=oe.Symbol,Ot=oe.Uint8Array,Ka=Zi(Object.getPrototypeOf,Object),ml=Object.create,gi=vr.propertyIsEnumerable,yi=fl.splice,qr=Object.getOwnPropertySymbols,Dn=Qe?Qe.isBuffer:void 0,es=Zi(Object.keys,Object),Er=Dt(oe,"DataView"),Tr=Dt(oe,"Map"),vi=Dt(oe,"Promise"),_i=Dt(oe,"Set"),Mn=Dt(oe,"WeakMap"),gn=Dt(Object,"create"),ta=Wt(Er),Xn=Wt(Tr),na=Wt(vi),Fr=Wt(_i),ts=Wt(Mn),br=an?an.prototype:void 0,ra=br?br.valueOf:void 0;function Ke(A){var B=-1,X=A?A.length:0;for(this.clear();++B<X;){var me=A[B];this.set(me[0],me[1])}}function Et(){this.__data__=gn?gn(null):{}}function gt(A){return this.has(A)&&delete this.__data__[A]}function An(A){var B=this.__data__;if(gn){var X=B[A];return X===s?void 0:X}return wn.call(B,A)?B[A]:void 0}function ia(A){var B=this.__data__;return gn?B[A]!==void 0:wn.call(B,A)}function pl(A,B){var X=this.__data__;return X[A]=gn&&B===void 0?s:B,this}Ke.prototype.clear=Et,Ke.prototype.delete=gt,Ke.prototype.get=An,Ke.prototype.has=ia,Ke.prototype.set=pl;function Bt(A){var B=-1,X=A?A.length:0;for(this.clear();++B<X;){var me=A[B];this.set(me[0],me[1])}}function Ya(){this.__data__=[]}function Ei(A){var B=this.__data__,X=Zn(B,A);if(X<0)return!1;var me=B.length-1;return X==me?B.pop():yi.call(B,X,1),!0}function Hr(A){var B=this.__data__,X=Zn(B,A);return X<0?void 0:B[X][1]}function wr(A){return Zn(this.__data__,A)>-1}function Wn(A,B){var X=this.__data__,me=Zn(X,A);return me<0?X.push([A,B]):X[me][1]=B,this}Bt.prototype.clear=Ya,Bt.prototype.delete=Ei,Bt.prototype.get=Hr,Bt.prototype.has=wr,Bt.prototype.set=Wn;function Kt(A){var B=-1,X=A?A.length:0;for(this.clear();++B<X;){var me=A[B];this.set(me[0],me[1])}}function Yt(){this.__data__={hash:new Ke,map:new(Tr||Bt),string:new Ke}}function dt(A){return er(this,A).delete(A)}function sa(A){return er(this,A).get(A)}function ns(A){return er(this,A).has(A)}function Pn(A,B){return er(this,A).set(A,B),this}Kt.prototype.clear=Yt,Kt.prototype.delete=dt,Kt.prototype.get=sa,Kt.prototype.has=ns,Kt.prototype.set=Pn;function on(A){this.__data__=new Bt(A)}function Xa(){this.__data__=new Bt}function Wa(A){return this.__data__.delete(A)}function Ti(A){return this.__data__.get(A)}function Ja(A){return this.__data__.has(A)}function Gr(A,B){var X=this.__data__;if(X instanceof Bt){var me=X.__data__;if(!Tr||me.length<t-1)return me.push([A,B]),this;X=this.__data__=new Kt(me)}return X.set(A,B),this}on.prototype.clear=Xa,on.prototype.delete=Wa,on.prototype.get=Ti,on.prototype.has=Ja,on.prototype.set=Gr;function Jn(A,B){var X=us(A)||nr(A)?di(A.length,String):[],me=X.length,ot=!!me;for(var Mt in A)wn.call(A,Mt)&&!(ot&&(Mt=="length"||vl(Mt,me)))&&X.push(Mt);return X}function xt(A,B,X){var me=A[B];(!(wn.call(A,B)&&ls(me,X))||X===void 0&&!(B in A))&&(A[B]=X)}function Zn(A,B){for(var X=A.length;X--;)if(ls(A[X][0],B))return X;return-1}function Za(A,B){return A&&Ar(B,Ai(B),A)}function Vn(A,B,X,me,ot,Mt,ln){var Tt;if(me&&(Tt=Mt?me(A,ot,Mt,ln):me(A)),Tt!==void 0)return Tt;if(!kn(A))return A;var Ln=us(A);if(Ln){if(Tt=ca(A),!B)return wi(A,Tt)}else{var xn=tr(A),_n=xn==E||xn==S;if(Sn(A))return oa(A,B);if(xn==D||xn==u||_n&&!Mt){if(Br(A))return Mt?A:{};if(Tt=ha(_n?{}:A),!B)return Sr(A,Za(Tt,A))}else{if(!N[xn])return Mt?A:{};Tt=yl(A,xn,Vn,B)}}ln||(ln=new on);var da=ln.get(A);if(da)return da;if(ln.set(A,Tt),!Ln)var eo=X?We(A):Ai(A);return Kn(eo||A,function(Ir,Nr){eo&&(Nr=Ir,Ir=A[Nr]),xt(Tt,Nr,Vn(Ir,B,X,me,Nr,A,ln))}),Tt}function rs(A){return kn(A)?ml(A):{}}function is(A,B,X){var me=B(A);return us(A)?me:zr(me,X(A))}function aa(A){return pi.call(A)}function ss(A){if(!kn(A)||xr(A))return!1;var B=Kr(A)||Br(A)?ut:ge;return B.test(Wt(A))}function Xt(A){if(!vn(A))return es(A);var B=[];for(var X in Object(A))wn.call(A,X)&&X!="constructor"&&B.push(X);return B}function oa(A,B){if(B)return A.slice();var X=new A.constructor(A.length);return A.copy(X),X}function la(A){var B=new A.constructor(A.byteLength);return new Ot(B).set(new Ot(A)),B}function as(A,B){var X=B?la(A.buffer):A.buffer;return new A.constructor(X,A.byteOffset,A.byteLength)}function ua(A,B,X){var me=B?X(Ji(A),!0):Ji(A);return Yn(me,St,new A.constructor)}function bi(A){var B=new A.constructor(A.source,le.exec(A));return B.lastIndex=A.lastIndex,B}function gl(A,B,X){var me=B?X(pn(A),!0):pn(A);return Yn(me,tt,new A.constructor)}function yt(A){return ra?Object(ra.call(A)):{}}function yn(A,B){var X=B?la(A.buffer):A.buffer;return new A.constructor(X,A.byteOffset,A.length)}function wi(A,B){var X=-1,me=A.length;for(B||(B=Array(me));++X<me;)B[X]=A[X];return B}function Ar(A,B,X,me){X||(X={});for(var ot=-1,Mt=B.length;++ot<Mt;){var ln=B[ot],Tt=void 0;xt(X,ln,Tt===void 0?A[ln]:Tt)}return X}function Sr(A,B){return Ar(A,$r(A),B)}function We(A){return is(A,Ai,$r)}function er(A,B){var X=A.__data__;return os(B)?X[typeof B=="string"?"string":"hash"]:X.map}function Dt(A,B){var X=fi(A,B);return ss(X)?X:void 0}var $r=qr?Zi(qr,Object):ir,tr=aa;(Er&&tr(new Er(new ArrayBuffer(1)))!=Ae||Tr&&tr(new Tr)!=x||vi&&tr(vi.resolve())!=K||_i&&tr(new _i)!=H||Mn&&tr(new Mn)!=ye)&&(tr=function(A){var B=pi.call(A),X=B==D?A.constructor:void 0,me=X?Wt(X):void 0;if(me)switch(me){case ta:return Ae;case Xn:return x;case na:return K;case Fr:return H;case ts:return ye}return B});function ca(A){var B=A.length,X=A.constructor(B);return B&&typeof A[0]=="string"&&wn.call(A,"index")&&(X.index=A.index,X.input=A.input),X}function ha(A){return typeof A.constructor=="function"&&!vn(A)?rs(Ka(A)):{}}function yl(A,B,X,me){var ot=A.constructor;switch(B){case he:return la(A);case m:case p:return new ot(+A);case Ae:return as(A,me);case V:case R:case I:case P:case L:case U:case C:case ve:case Oe:return yn(A,me);case x:return ua(A,me,X);case M:case re:return new ot(A);case k:return bi(A);case H:return gl(A,me,X);case se:return yt(A)}}function vl(A,B){return B=B??o,!!B&&(typeof A=="number"||ze.test(A))&&A>-1&&A%1==0&&A<B}function os(A){var B=typeof A;return B=="string"||B=="number"||B=="symbol"||B=="boolean"?A!=="__proto__":A===null}function xr(A){return!!Qa&&Qa in A}function vn(A){var B=A&&A.constructor,X=typeof B=="function"&&B.prototype||vr;return A===X}function Wt(A){if(A!=null){try{return mi.call(A)}catch{}try{return A+""}catch{}}return""}function Rr(A){return Vn(A,!0,!0)}function ls(A,B){return A===B||A!==A&&B!==B}function nr(A){return jn(A)&&wn.call(A,"callee")&&(!gi.call(A,"callee")||pi.call(A)==u)}var us=Array.isArray;function Qr(A){return A!=null&&rr(A.length)&&!Kr(A)}function jn(A){return Cr(A)&&Qr(A)}var Sn=Dn||sr;function Kr(A){var B=kn(A)?pi.call(A):"";return B==E||B==S}function rr(A){return typeof A=="number"&&A>-1&&A%1==0&&A<=o}function kn(A){var B=typeof A;return!!A&&(B=="object"||B=="function")}function Cr(A){return!!A&&typeof A=="object"}function Ai(A){return Qr(A)?Jn(A):Xt(A)}function ir(){return[]}function sr(){return!1}r.exports=Rr})(gp,gp.exports);var Ma=gp.exports,yp=function(){return yp=Object.assign||function(e){for(var t,s=1,o=arguments.length;s<o;s++){t=arguments[s];for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u])}return e},yp.apply(this,arguments)};function uD(r,e,t,s){function o(u){return u instanceof t?u:new t(function(d){d(u)})}return new(t||(t=Promise))(function(u,d){function m(E){try{g(s.next(E))}catch(S){d(S)}}function p(E){try{g(s.throw(E))}catch(S){d(S)}}function g(E){E.done?u(E.value):o(E.value).then(m,p)}g((s=s.apply(r,[])).next())})}function cD(r,e){var t={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,o,u,d=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return d.next=m(0),d.throw=m(1),d.return=m(2),typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(g){return function(E){return p([g,E])}}function p(g){if(s)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(t=0)),t;)try{if(s=1,o&&(u=g[0]&2?o.return:g[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,g[1])).done)return u;switch(o=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return t.label++,{value:g[1],done:!1};case 5:t.label++,o=g[1],g=[0];continue;case 7:g=t.ops.pop(),t.trys.pop();continue;default:if(u=t.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){t=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){t.label=g[1];break}if(g[0]===6&&t.label<u[1]){t.label=u[1],u=g;break}if(u&&t.label<u[2]){t.label=u[2],t.ops.push(g);break}u[2]&&t.ops.pop(),t.trys.pop();continue}g=e.call(r,t)}catch(E){g=[6,E],o=0}finally{s=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}function Qh(r,e,t,s,o){return uD(this,void 0,void 0,function(){var u,d;return cD(this,function(m){switch(m.label){case 0:if(t===void 0)return[2];d=0,m.label=1;case 1:return d<t.length?[4,t[d](r,e,s,o,t)]:[3,4];case 2:if(u=m.sent(),u==="canceled")return[3,4];m.label=3;case 3:return d++,[3,1];case 4:return u!=="canceled"?[2,u]:[2]}})})}var FE=function(r,e){return e===void 0&&(e={}),r?{trackedAnalytics:yp({sdkCode:r.sdkCode,sdkSemver:r.sdkSemver,techVersion:r.techVersion},e)}:null},hD=function(){function r(e,t,s,o){var u=this;this.isMounted=!0,this.imgElement=e,this.htmlPluginState={cleanupCallbacks:[],pluginEventSubscription:[]};var d=Ma(t);Qh(e,d,s,this.htmlPluginState,o).then(function(m){if(u.isMounted){u.htmlPluginState.pluginEventSubscription.forEach(function(g){g()});var p=FE(o,m);u.imgElement.setAttribute("src",d.toURL(p))}})}return r.prototype.update=function(e,t,s){var o=this,u=Ma(e);Qh(this.imgElement,u,t,this.htmlPluginState).then(function(d){if(o.isMounted){var m=FE(s,d);o.imgElement.setAttribute("src",u.toURL(m))}})},r.prototype.unmount=function(){this.isMounted=!1},r}();let mt=class{constructor(e){this.values=[],this.delimiter=":",this.hasValue(e)&&this.addValue(e)}toString(){return this.values.join(this.delimiter)}hasValue(e){return typeof e<"u"&&e!==null&&e!==""}addValue(e){return Array.isArray(e)?this.values=this.values.concat(e):this.values.push(e),this.values=this.values.filter(t=>this.hasValue(t)),this}setDelimiter(e){return this.delimiter=e,this}},dD=class extends Error{constructor(e="Unsupported"){super(e)}};function Rg(r){return new dD(r)}function fD(){return this._qualifierModel||{error:Rg(`unsupported qualifier ${this.constructor.name}`)}}let mD=class{constructor(){this._qualifierModel={}}toJson(){return fD.apply(this)}},Pe=class extends mD{constructor(e,t){super(),this.delimiter="_",this.key=e,t instanceof mt?this.qualifierValue=t:(this.qualifierValue=new mt,this.qualifierValue.addValue(t))}toString(){const{key:e,delimiter:t,qualifierValue:s}=this;return`${e}${t}${s.toString()}`}addValue(e){return this.qualifierValue.addValue(e),this}},pr=class extends Pe{constructor(e,t){let s;t?s=new mt([e,`${t}`]).setDelimiter(":"):s=e,super("fl",s),this.flagValue=t}toString(){return super.toString().replace(/\./g,"%2E")}getFlagValue(){return this.flagValue}};function pD(r,e){const t=Array.from(r.entries());return e.forEach(s=>{t.push(["fl",s])}),t.sort().map(s=>s[1])}function gD(){var r,e,t;const s=this._actionModel&&Object.keys(this._actionModel).length,o=(t=(e=(r=this._actionModel)===null||r===void 0?void 0:r.source)===null||e===void 0?void 0:e.transformation)===null||t===void 0?void 0:t.error;return o&&o instanceof Error?{error:o}:s?this._actionModel:{error:Rg(`unsupported action ${this.constructor.name}`)}}let yD=class{constructor(){this._actionModel={}}toJson(){return gD.apply(this)}},hi=class extends yD{constructor(){super(...arguments),this.qualifiers=new Map,this.flags=[],this.delimiter=",",this.actionTag=""}prepareQualifiers(){}getActionTag(){return this.actionTag}setActionTag(e){return this.actionTag=e,this}toString(){return this.prepareQualifiers(),pD(this.qualifiers,this.flags).join(this.delimiter)}addQualifier(e){if(typeof e=="string"){const[t,s]=e.toLowerCase().split("_");t==="fl"?this.flags.push(new pr(s)):this.qualifiers.set(t,new Pe(t,s))}else this.qualifiers.set(e.key,e);return this}addFlag(e){return typeof e=="string"?this.flags.push(new pr(e)):e instanceof pr&&this.flags.push(e),this}addValueToQualifier(e,t){return this.qualifiers.get(e).addValue(t),this}};class Cg extends hi{constructor(e){super(),this.regionType=e,this._actionModel.regionType=e}}class bd extends Cg{constructor(){super("custom")}x(e){return this._actionModel.x=e,this.addQualifier(new Pe("x",e)),this}y(e){return this._actionModel.y=e,this.addQualifier(new Pe("y",e)),this}width(e){return this._actionModel.width=e,this.addQualifier(new Pe("w",e)),this}height(e){return this._actionModel.height=e,this.addQualifier(new Pe("h",e)),this}static fromJson(e){const t=new bd;return e.width&&t.width(e.width),e.height&&t.height(e.height),e.x&&t.x(e.x),e.y&&t.y(e.y),t}}function vD(){return new bd}function Jw(){return new Cg("faces")}function _D(){return new Cg("ocr_text")}class ED extends hi{constructor(e){super(),this._actionModel={},this._strength=e,this._actionModel.actionType="blur",this._actionModel.strength=e}region(e){return this._region=e,this._actionModel.region=e.toJson(),this}strength(e){return this._strength=e,this._actionModel.strength=e,this}prepareQualifiers(){const e=this._strength?`:${this._strength}`:"";"_region"in this?(this._region.qualifiers.forEach(s=>this.addQualifier(s)),this._region.regionType==="custom"&&this.addQualifier(new Pe("e",`blur_region${e}`)),this._region.regionType==="ocr_text"&&(this.addQualifier(new Pe("e",`blur_region${e}`)),this.addQualifier(new Pe("g","ocr_text"))),this._region.regionType==="faces"&&this.addQualifier(new Pe("e",`blur_faces${e}`))):this.addQualifier(new Pe("e",`blur${e}`))}static fromJson(e){const{strength:t,region:s}=e,o=new this(t);return t&&o.strength(t),s&&s.regionType==="faces"&&o.region(Jw()),s&&s.regionType==="ocr_text"&&o.region(_D()),s&&s.regionType==="custom"&&o.region(bd.fromJson(s)),o}}function Ga(r){const e={};return Object.keys(r).forEach(t=>{e[r[t]]=t}),e}const Zw={limitFit:"limit",limitFill:"lfill",minimumFit:"mfit",thumbnail:"thumb",limitPad:"lpad",minimumPad:"mpad",autoPad:"auto_pad"},TD={colorSpace:"cs",dpr:"dpr",density:"dn",defaultImage:"d",format:"f",quality:"q"},e1={redEye:"redeye",advancedRedEye:"adv_redeye",oilPaint:"oil_paint",unsharpMask:"unsharp_mask",makeTransparent:"make_transparent",generativeRestore:"gen_restore",upscale:"upscale"},t1={autoBest:"auto:best",autoEco:"auto:eco",autoGood:"auto:good",autoLow:"auto:low",jpegminiHigh:"jpegmini:1",jpegminiMedium:"jpegmini:2",jpegminiBest:"jpegmini:0"},bD={fullHd:"full_hd",fullHdWifi:"full_hd_wifi",fullHdLean:"full_hd_lean",hdLean:"hd_lean"},n1={444:"CHROMA_444",420:"CHROMA_420"},wD={noCmyk:"no_cmyk",keepCmyk:"keep_cmyk",tinySrgb:"tinysrgb",srgbTrueColor:"srgb:truecolor"},AD=Ga(n1);Ga(wD);const SD=Ga(Zw),xD=Ga(TD),r1=Ga(e1);Ga(t1);Ga(bD);class i1 extends hi{constructor(e,t){super(),this._actionModel={},this._actionModel.actionType=r1[e]||e;const s=this.createEffectQualifier(e,t);this.addQualifier(s)}createEffectQualifier(e,t){let s;return t?s=new mt([e,`${t}`]).setDelimiter(":"):s=new mt(e),new Pe("e",s)}static fromJson(e){const{actionType:t,level:s,strength:o}=e,u=e1[t]||t;return new this(u,s||o)}}class RD extends i1{constructor(e,t){super(e,t),this.LEVEL_NAME="level",this._actionModel={},this.effectType=e,this._actionModel.actionType=r1[e]||e,t&&this.setLevel(t)}setLevel(e){this._actionModel[this.LEVEL_NAME]=e;const t=this.createEffectQualifier(this.effectType,e);return this.addQualifier(t),this}}function wd(r){return r&&(r.match(/^#/)?`rgb:${r.substr(1)}`:r)}class CD extends hi{constructor(){super(),this._actionModel={},this._actionModel.actionType="vectorize"}numOfColors(e){return this._actionModel.numOfColors=e,this._numOfColors=e,this}detailsLevel(e){return this._actionModel.detailLevel=e,this._detailsLevel=e,this}despeckleLevel(e){return this._actionModel.despeckleLevel=e,this._despeckleLevel=e,this}cornersLevel(e){return this._actionModel.cornersLevel=e,this._cornersLevel=e,this}paths(e){return this._actionModel.paths=e,this._paths=e,this}prepareQualifiers(){let e="vectorize";this._numOfColors&&(e+=`:${new mt(`colors:${this._numOfColors}`).toString()}`),this._detailsLevel&&(e+=`:${new mt(`detail:${this._detailsLevel}`).toString()}`),this._despeckleLevel&&(e+=`:${new mt(`despeckle:${this._despeckleLevel}`).toString()}`),this._paths&&(e+=`:${new mt(`paths:${this._paths}`).toString()}`),this._cornersLevel&&(e+=`:${new mt(`corners:${this._cornersLevel}`).toString()}`),this.addQualifier(new Pe("e",e))}static fromJson(e){const{actionType:t,paths:s,cornersLevel:o,despeckleLevel:u,detailLevel:d,numOfColors:m}=e,p=new this;return s&&p.paths(s),o&&p.cornersLevel(o),u&&p.despeckleLevel(u),d&&p.detailsLevel(d),m&&p.numOfColors(m),p}}class ID extends RD{level(e){return this._actionModel.level=e,this.setLevel(e)}}class ND extends hi{constructor(){super(),this._actionModel={},this._actionModel.actionType="assistColorblind",this.addQualifier(new Pe("e",new mt("assist_colorblind")))}xray(){return this._actionModel.type="xray",this.addQualifier(new Pe("e",new mt(["assist_colorblind","xray"]).setDelimiter(":")))}stripesStrength(e){return this._actionModel.type="stripes",this._actionModel.stripesStrength=e,this.addQualifier(new Pe("e",new mt(["assist_colorblind",e]).setDelimiter(":")))}static fromJson(e){const{actionType:t,type:s,stripesStrength:o}=e,u=new this;return s==="xray"&&u.xray(),s==="stripes"&&o&&u.stripesStrength(o),u}}class OD extends ID{color(e){return this._actionModel.color=e,this.addQualifier(new Pe("co",new mt(wd(e))))}static fromJson(e){const{actionType:t,level:s,color:o}=e,u=new this(t,s);return o&&u.color(o),u}}class DD extends hi{constructor(e){super(),this._actionModel={},this._squareSize=e,this._actionModel.actionType="pixelate",this._actionModel.squareSize=e}region(e){return this._region=e,this._actionModel.region={regionType:this._region.regionType},this}squareSize(e){return this._squareSize=e,this._actionModel.squareSize=e,this}prepareQualifiers(){const e=this._squareSize?`:${this._squareSize}`:"";"_region"in this?(this._region.qualifiers.forEach(s=>this.addQualifier(s)),this._region.regionType==="custom"&&this.addQualifier(new Pe("e",`pixelate_region${e}`)),this._region.regionType==="ocr_text"&&(this.addQualifier(new Pe("e",`pixelate_region${e}`)),this.addQualifier(new Pe("g","ocr_text"))),this._region.regionType==="faces"&&this.addQualifier(new Pe("e",`pixelate_faces${e}`))):this.addQualifier(new Pe("e",`pixelate${e}`))}static fromJson(e){const{region:t,squareSize:s}=e,o=new this(s);return s&&o.squareSize(s),t&&t.regionType==="faces"&&o.region(Jw()),t&&t.regionType==="custom"&&o.region(vD()),o}}const MD=r=>LD(encodeURIComponent,jD,kD)(r),PD=/[!'()*~_.-]/g,VD={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A","~":"%7E",_:"%5F",".":"%2E","-":"%2D"},jD=r=>r.replace(PD,e=>{var t;return(t=VD[e])!==null&&t!==void 0?t:e}),kD=r=>r.replace(/%20/g," "),LD=(...r)=>e=>r.reduce((t,s)=>s(t),e);function UD(r){return new ED(r)}function zD(){return new i1("grayscale")}function HE(r){return new OD("colorize",r)}function BD(){return new CD}function qD(){return new ND}function FD(r){return new DD(r)}let HD=class extends hi{constructor(e){super(),this._actionModel={},this.addQualifier(new Pe("b",new mt(wd(e)).setDelimiter("_"))),this._actionModel.color=e,this._actionModel.actionType="backgroundColor"}static fromJson(e){const{color:t}=e;return new this(t)}},GE=class{constructor(e){this.raw=e}toString(){return this.raw}toJson(){return{error:Rg(`unsupported action ${this.constructor.name}`)}}};function GD(r){const e=r;return"error"in e&&!!e.error}function $D(){return new pr("ignore_aspect_ratio")}function QD(){return new pr("lossy")}function KD(){return new pr("preserve_transparency")}function YD(r){return new pr("progressive",r)}function XD(){return new pr("region_relative")}function WD(){return new pr("relative")}let Ig=class extends mt{constructor(e){super(e),this.val=e}getValue(){return this.val}},s1=class extends hi{constructor(e,t,s){super(),this._actionModel={};let o;t instanceof Ig?o=t.getValue():o=t,this._actionModel.actionType=xD[e],this._actionModel[s]=o,this.addQualifier(new Pe(e,t))}},JD=class extends pr{constructor(e){super("progressive",e)}},vp=class extends s1{constructor(e,t){super(e,t,"formatType")}lossy(){return this._actionModel.lossy=!0,this.addFlag(QD()),this}progressive(e){return e instanceof JD?(this._actionModel.progressive={mode:e.getFlagValue()},this.addFlag(e)):(this._actionModel.progressive={mode:e},this.addFlag(YD(e))),this}preserveTransparency(){return this._actionModel.preserveTransparency=!0,this.addFlag(KD()),this}static fromJson(e){const{formatType:t,lossy:s,progressive:o,preserveTransparency:u}=e;let d;return t?d=new this("f",t):d=new this("f"),o&&(o.mode?d.progressive(o.mode):d.progressive()),s&&d.lossy(),u&&d.preserveTransparency(),d}},Ad=class a1{constructor(){this.actions=[]}addAction(e){let t;if(typeof e=="string"){if(e.indexOf("/")>=0)throw"addAction cannot accept a string with a forward slash in it - /, use .addTransformation() instead";t=new GE(e)}else t=e;return this.actions.push(t),this}addTransformation(e){return e instanceof a1?this.actions=this.actions.concat(e.actions):this.actions.push(new GE(e)),this}toString(){return this.actions.map(e=>e.toString()).filter(e=>e).join("/")}animated(e){return this.addAction(e)}border(e){return this.addAction(e)}reshape(e){return this.addAction(e)}resize(e){return this.addAction(e)}quality(e){return this.addAction(new vp("q",e)),this}format(e){return this.addAction(new vp("f",e)),this}roundCorners(e){return this.addAction(e)}overlay(e){return this.addAction(e)}underlay(e){return e.setLayerType("u"),this.addAction(e)}addVariable(e){return this.addAction(e)}conditional(e){return this.addAction(e)}effect(e){return this.addAction(e)}adjust(e){return this.addAction(e)}rotate(e){return this.addAction(e)}namedTransformation(e){return this.addAction(e)}delivery(e){return this.addAction(e)}backgroundColor(e){return this.addAction(new HD(e))}psdTools(e){return this.addAction(e)}extract(e){return this.addAction(e)}addFlag(e){const t=new hi;let s=e;return typeof e=="string"&&(s=new pr(e)),t.addQualifier(s),this.addAction(t)}customFunction(e){return this.addAction(e)}transcode(e){return this.addAction(e)}videoEdit(e){return this.addAction(e)}toJson(){const e=[];for(const t of this.actions){const s=t.toJson();if(GD(s))return s;e.push(s)}return{actions:e}}};function $E(r){const e=r.toString();return e.match(/[A-Z]/gi)||e.length>1&&e[0]==="0"?e:!isNaN(parseFloat(e))&&e.indexOf(":")===-1&&e.indexOf(".")===-1?`${e}.0`:e}class ZD extends mt{}class eM extends hi{constructor(e,t,s){super(),this._actionModel={dimensions:{}},this._actionModel.actionType=SD[e]||e,this.addQualifier(new Pe("c",e)),t&&this.width(t),s&&this.height(s)}height(e){return this._actionModel.dimensions.height=e,this.addQualifier(new Pe("h",e))}width(e){return this._actionModel.dimensions.width=e,this.addQualifier(new Pe("w",e))}aspectRatio(e){if(e instanceof ZD)return this._actionModel.dimensions.aspectRatio=`${e}`,this.addQualifier(new Pe("ar",e));if(typeof e=="number"||typeof e=="string")return this._actionModel.dimensions.aspectRatio=$E(e),this.addQualifier(new Pe("ar",$E(e)));if(e instanceof pr)return this._actionModel.dimensions.aspectRatio=`${e.qualifierValue}`,this.addFlag(e)}relative(){return this._actionModel.relative=!0,this.addFlag(WD())}regionRelative(){return this._actionModel.regionRelative=!0,this.addFlag(XD())}static fromJson(e){const{actionType:t,dimensions:s,relative:o,regionRelative:u}=e,{aspectRatio:d,width:m,height:p}=s,g=Zw[t]||t,E=new this(g,m,p);return d&&E.aspectRatio(d==="ignore_aspect_ratio"?$D():d),o&&E.relative(),u&&E.regionRelative(),E}}class Ng extends Pe{constructor(e){super("g",new mt(e))}}class o1 extends Ng{constructor(){super("auto")}autoFocus(...e){return this.addValue(e),this}}class l1 extends Ng{constructor(e){super(e)}fallbackGravity(e){return this.addValue(e.qualifierValue),this}}class u1 extends Ng{constructor(e){super(e)}}function tM(r){return new u1(r)}function c1(...r){const e=[...r];return new l1(e)}function h1(){return new o1}class tl extends mt{constructor(e){super(),this.name=e}toString(){return this.name}}function nM(){return new tl("ocr_text")}function rM(r){return r&&`${r}`.split(":")[0]==="auto"}function iM(r){const e=Og(r);return["north","center","east","west","south","north_west","south_east","south_west","north_east"].includes(e)}function Og(r){return`${r}`.replace("g_","")}function sM(r){return{compass:Og(r),gravityType:"direction"}}function aM(r){return Og(r)==="ocr_text"}function oM(){return{gravityType:"ocr"}}function lM(r){return`${r.qualifierValue}`.split(":")[0]==="auto"}function uM(r){const t=r.toString().split("_"),s={object:t[0]};return t.length>1&&(t[1]==="avoid"?s.avoid=!0:s.weight=+t[1]),s}function d1(r){let e;const t=r==="auto"?new o1:r;return`${r}`.startsWith("auto:")?e=`${r}`.split(":").filter(o=>o!=="auto"):e=t.qualifierValue.values.filter(o=>o!=="auto"),{gravityType:"auto",autoFocus:e.map(uM)}}function cM(r){const e=`${r}`.split(":").includes("auto"),t=r.qualifierValue.values,o={gravityType:"object",focusOnObjects:(e?t.slice(0,t.length-1):t).map(u=>`${u}`)};if(e){const u=t[t.length-1].values.slice(1),d=h1().autoFocus(...u);o.fallbackGravity=d1(d)}return o}function hM(r){const t=r.split(":").map(s=>new tl(s));return new l1(t)}function dM(r){return iM(r)?sM(r):aM(r)?oM():rM(r)||lM(r)?d1(r):cM(typeof r=="string"?hM(r):r)}class Dg extends mt{constructor(e,t){super(),this._weight=t,this.focusOn=e,this.shouldAvoid=!1}static focusOn(e,t){const s=e instanceof tl?e:new tl(e);return new Dg(s,t)}shouldAddWeight(){return typeof this._weight=="number"||typeof this._weight=="string"||this.shouldAvoid}getName(){return this.focusOn.name}getWeight(){return this.shouldAvoid?"avoid":this._weight}toString(){return this.shouldAddWeight()?`${this.getName()}_${this.getWeight()}`:`${this.getName()}`}weight(e){return this._weight=e,this}avoid(){return this.shouldAvoid=!0,this}}class f1 extends mt{constructor(e){super(),this.val=e}toString(){return this.val}}function fM(r){return r.gravityType==="direction"}function mM(r){return r.gravityType==="ocr"}function pM(r){return r.gravityType==="auto"}function gM(r){const{object:e,weight:t,avoid:s}=r,o=new Dg(new tl(e));return(t||t===0)&&o.weight(t),s&&o.avoid(),o}function m1(r){const t=(r.autoFocus||[]).map(gM);return h1().autoFocus(...t)}function yM(r){const e=(r.focusOnObjects||[]).map(s=>new tl(s)),t=c1(...e);if(r.fallbackGravity){const s=m1(r.fallbackGravity);t.fallbackGravity(s)}return t}function vM(r){return fM(r)?new u1(new f1(r.compass)):mM(r)?c1(nM()):pM(r)?m1(r):yM(r)}class Mg extends eM{gravity(e){this._actionModel.gravity=dM(e);const t=typeof e=="string"?new Pe("g",e):e;return this.addQualifier(t)}static fromJson(e){const t=super.fromJson.apply(this,[e]);return e.gravity&&t.gravity(vM(e.gravity)),t}}class Wu extends Pe{constructor(e){super("b"),e&&this.addValue(e)}}const p1=100,_M=0;class EM extends Wu{intensity(e){return this.intensityLevel=e,this}brightness(e){return this.brightnessLevel=e,this}toString(){const e=this.intensityLevel!==void 0?`:${this.intensityLevel}`:"",t=this.brightnessLevel!==void 0?this.intensityLevel!==void 0?`:${this.brightnessLevel}`:`:${p1}:${this.brightnessLevel}`:"";return`b_blurred${e}${t}`}}var g1=EM;class Pg extends Wu{constructor(){super(),this._palette=[]}contrast(){return this._contrast=!0,this}palette(...e){return this._palette=e.map(t=>wd(t)),this}}class y1 extends Pg{toString(){return`
    b_auto:border
    ${this._contrast?"_contrast":""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}class v1 extends Pg{gradientColors(e){return this._gradientColors=e,this}gradientDirection(e){return this._gradientDirection=e,this}}class _1 extends v1{toString(){return`
    b_auto:border_gradient
    ${this._contrast?"_contrast":""}
    ${this._gradientColors?`:${this._gradientColors}`:""}
    ${this._gradientDirection?`:${this._gradientDirection}`:""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}class E1 extends v1{toString(){return`
    b_auto:predominant_gradient
    ${this._contrast?"_contrast":""}
    ${this._gradientColors?`:${this._gradientColors}`:""}
    ${this._gradientDirection?`:${this._gradientDirection}`:""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}class T1 extends Pg{toString(){return`
    b_auto:predominant
    ${this._contrast?"_contrast":""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}class b1 extends Wu{constructor(){super("gen_fill"),this._backgroundType="generativeFill"}prompt(e){try{this._prompt=decodeURIComponent(e)}catch{this._prompt=e}return this}getPrompt(){return this._prompt}getBackgroundType(){return this._backgroundType}toString(){return`b_gen_fill${this._prompt?`:prompt_${MD(this._prompt)}`:""}`}}function w1(r){return`${r}`.replace("b_","")}function TM(){return{backgroundType:"auto"}}function bM(r){const{intensityLevel:e,brightnessLevel:t}=r,s={backgroundType:"blurred"};return(e||e===0)&&(s.intensity=e),(t||t===0)&&(s.brightness=t),s}function Vg(r){const e=r._contrast,t=r._palette,s={backgroundType:""};return e&&(s.contrast=!0),t&&(s.palette=t),s}function wM(r){return Object.assign(Object.assign({},Vg(r)),{backgroundType:"border"})}function A1(r){const e=r._gradientColors,t=`${r._gradientDirection}`,s=Vg(r);return e&&(s.gradientColors=e),t&&(s.gradientDirection=t),s}function AM(r){return Object.assign(Object.assign({},A1(r)),{backgroundType:"borderGradient"})}function SM(r){return{backgroundType:"color",color:w1(r)}}function xM(r){return Object.assign(Object.assign({},Vg(r)),{backgroundType:"predominant"})}function RM(r){return Object.assign(Object.assign({},A1(r)),{backgroundType:"predominantGradient"})}function CM(r){return Object.assign({backgroundType:r.getBackgroundType()},r.getPrompt()?{prompt:r.getPrompt()}:{})}function IM(r){return w1(r)==="auto"?TM():r instanceof g1?bM(r):r instanceof y1?wM(r):r instanceof _1?AM(r):r instanceof T1?xM(r):r instanceof E1?RM(r):r instanceof b1?CM(r):SM(r)}function NM(){return new Ig("svg")}function jg(){return new Ig("auto")}function S1(){return new y1}function x1(){return new Wu("auto")}function R1(){return new _1}function C1(){return new E1}function I1(){return new T1}function N1(r){return new Wu(wd(r))}function OM(){return new g1}function O1(){return new b1}const D1={auto:x1,border:S1,borderGradient:R1,predominantGradient:C1,predominant:I1,color:N1,blurred:OM,generativeFill:O1};function DM(r){const{brightness:e,intensity:t}=r,s=D1.blurred();return s.brightness(e??_M),s.intensity(t??p1),s}function QE(r,e){const{gradientColors:t,gradientDirection:s,contrast:o,palette:u}=e;return o&&r.contrast(),u&&r.palette(...u),t&&r.gradientColors(+t),s&&r.gradientDirection(s),r}function KE(r,e){const{contrast:t,palette:s}=e;return t&&r.contrast(),s&&r.palette(...s),r}function MM(r,e){const{prompt:t}=e;return t&&r.prompt(t),r}function PM(r){const{backgroundType:e}=r;switch(e){case"auto":return x1();case"blurred":return DM(r);case"border":return KE(S1(),r);case"borderGradient":return QE(R1(),r);case"predominant":return KE(I1(),r);case"predominantGradient":return QE(C1(),r);case"generativeFill":return MM(O1(),r);default:return N1(r.color)}}class VM extends Mg{background(e){return this._actionModel.background=IM(e),this.addQualifier(e)}offsetX(e){return this._actionModel.x=e,this.addQualifier(new Pe("x",e))}offsetY(e){return this._actionModel.y=e,this.addQualifier(new Pe("y",e))}static fromJson(e){const t=super.fromJson.apply(this,[e]);return e.background&&t.background(PM(e.background)),e.x&&t.offsetX(e.x),e.y&&t.offsetY(e.y),e.zoom&&t.zoom(e.zoom),t}}class jM extends Mg{x(e){return this._actionModel.x=e,this.addQualifier(new Pe("x",e))}y(e){return this._actionModel.y=e,this.addQualifier(new Pe("y",e))}zoom(e){return this._actionModel.zoom=e,this.addQualifier(new Pe("z",e))}static fromJson(e){const t=super.fromJson.apply(this,[e]);return e.x&&t.x(e.x),e.y&&t.y(e.y),e.zoom&&t.zoom(e.zoom),t}}class kM extends Mg{x(e){return this._actionModel.x=e,this.addQualifier(new Pe("x",e))}y(e){return this._actionModel.y=e,this.addQualifier(new Pe("y",e))}static fromJson(e){const t=super.fromJson.apply(this,[e]);return e.x&&t.x(e.x),e.y&&t.y(e.y),t}}function LM(r,e){return new jM("crop",r,e)}function UM(r,e){return new kM("fill",r,e)}function zM(r,e){return new VM("pad",r,e)}class BM extends s1{constructor(e){super("q",e.toString(),"level")}chromaSubSampling(e){this._actionModel.chromaSubSampling=n1[e];const t=new mt([this._actionModel.level,e]);return t.setDelimiter(":"),this.addQualifier(new Pe("q",t))}quantization(e){this._actionModel.quantization=e;const t=new mt([this._actionModel.level,`qmax_${e}`]).setDelimiter(":");return this.addQualifier(new Pe("q",t))}static fromJson(e){const{level:t,chromaSubSampling:s,quantization:o}=e,u=t1[t]||t,d=new this(u);if(s){const m=AD[s.toUpperCase()];m&&d.chromaSubSampling(+m)}return o&&d.quantization(o),d}}function Sd(r){return new vp("f",r)}function xd(r){return new BM(r)}function qM(){return new f1("north_east")}HE(70).color("black"),HE(40).color("white"),zD(),qD();new Ad().effect(BD()).delivery(xd("auto")).delivery(Sd(NM()));new Ad().effect(FD()).delivery(xd("auto")).delivery(Sd(jg()));new Ad().effect(UD(2e3)).delivery(xd("auto")).delivery(Sd(jg()));new Ad().resize(zM("iw_div_2").aspectRatio(1).background(D1.auto())).resize(LM(1,1).gravity(tM(qM()))).resize(UM().height("ih").width("iw")).delivery(xd("auto")).delivery(Sd(jg()));var YE={flv:"x-flv","3gp":"3gpp",mov:"quicktime",mpg:"mpeg",avi:"x-msvideo",wmv:"x-ms-wmv",ogv:"ogg",webm:"webm",mp4:"mp4"},XE="?_a=",FM=function(){function r(e,t,s,o,u,d,m){var p=this;this.mimeType="video",this.mimeSubTypes=YE,this.videoElement=e,this.originalVideo=t,this.videoOptions=m,this.htmlPluginState={cleanupCallbacks:[],pluginEventSubscription:[]};var g=Ma(t);Qh(e,t,o,this.htmlPluginState).then(function(){p.htmlPluginState.pluginEventSubscription.forEach(function(E){E()}),p.setVideoAttributes(u,d),p.handleSourceToVideo(g,s)})}return r.prototype.handleSourceToVideo=function(e,t){var s=this;if(t)this.generateUserSources(e,t);else{var o=["webm","mp4","ogv"];o.forEach(function(u){s.appendSourceTag(Ma(e),u)})}},r.prototype.generateUserSources=function(e,t){var s=this;t.map(function(o){var u=o.type,d=o.codecs,m=o.transcode;return s.appendSourceTag(Ma(e).transcode(m),u,s.buildMimeType(u,d))})},r.prototype.appendSourceTag=function(e,t,s){var o,u=document.createElement("source"),d=(o=this.videoOptions)===null||o===void 0?void 0:o.useFetchFormat;d&&e.format(t);var m=e.toURL(),p=m.split(XE),g=p[1]?"".concat(XE).concat(p[1]):"",E=d?"":".".concat(t);u.src="".concat(p[0]).concat(E).concat(g),u.type=s||"video/".concat(YE[t]||t),this.videoElement.appendChild(u)},r.prototype.buildMimeType=function(e,t){var s="".concat(this.mimeType,"/").concat(this.mimeSubTypes[e]||e);return t&&(s+="; codecs="+(Array.isArray(t)?t.join(", "):t)),s},r.prototype.setVideoAttributes=function(e,t){var s;if(e===void 0&&(e={}),t==="auto"){var o=Ma(this.originalVideo);e.poster=o.quality("auto").format("jpg").addTransformation("so_auto").toURL()}else t&&(e.poster=(s=t.toURL)===null||s===void 0?void 0:s.call(t));for(var u=0,d=Object.entries(e);u<d.length;u++){var m=d[u],p=m[0],g=m[1];g&&this.videoElement.setAttribute(p,p==="poster"?g:"")}},r.prototype.update=function(e,t,s,o,u){var d=this;if(e!==this.originalVideo){for(var m=this.videoElement.getElementsByTagName("SOURCE");m[0];)m[0].parentNode.removeChild(m[0]);Qh(this.videoElement,e,s,this.htmlPluginState).then(function(){d.setVideoAttributes(o,u),d.handleSourceToVideo(e,t),d.videoElement.load()})}},r}(),HM=typeof js=="object"&&js&&js.Object===Object&&js,GM=typeof self=="object"&&self&&self.Object===Object&&self;HM||GM||Function("return this")();function $M(){return typeof window<"u"}function QM(r,e,t){var s=Ma(e);if(r)for(var o=0;o<r.length;o++){var u=r[o](null,s);if(!u)break}return s.toURL(t?{trackedAnalytics:t}:null)}function Kh(r){r.cleanupCallbacks.forEach(function(e){e()})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _p=function(r,e){return _p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var o in s)s.hasOwnProperty(o)&&(t[o]=s[o])},_p(r,e)};function M1(r,e){_p(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var ju=function(){return ju=Object.assign||function(e){for(var t,s=1,o=arguments.length;s<o;s++){t=arguments[s];for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u])}return e},ju.apply(this,arguments)};function P1(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(t[s[o]]=r[s[o]]);return t}var zm={sdkSemver:"1.14.1",techVersion:Lo.version,sdkCode:"J"},zo=function(r){M1(e,r);function e(t){var s=r.call(this,t)||this;return s.imageRef=Lo.createRef(),s}return e.prototype.componentDidMount=function(){this.htmlLayerInstance=new hD(this.imageRef.current,this.props.cldImg,this.props.plugins,zm)},e.prototype.componentDidUpdate=function(){Kh(this.htmlLayerInstance.htmlPluginState),this.htmlLayerInstance.update(this.props.cldImg,this.props.plugins,zm)},e.prototype.componentWillUnmount=function(){Kh(this.htmlLayerInstance.htmlPluginState),this.htmlLayerInstance.unmount()},e.prototype.render=function(){var t=this.props;t.cldImg,t.plugins;var s=P1(t,["cldImg","plugins"]);if($M())return Lo.createElement("img",ju({suppressHydrationWarning:!0},s,{ref:this.imageRef}));var o=QM(this.props.plugins,this.props.cldImg,zm);return Lo.createElement("img",ju({},s,{src:o}))},e}(Lo.Component),KM=["controls","loop","muted","poster","preload","autoplay","playsinline"];(function(r){M1(e,r);function e(t){var s=r.call(this,t)||this;return s.videoRef=$.createRef(),s.attachRef=s.attachRef.bind(s),s}return e.prototype.componentDidMount=function(){this.htmlVideoLayerInstance=new FM(this.videoRef&&this.videoRef.current,this.props.cldVid,this.props.sources,this.props.plugins,this.getVideoAttributes(),this.props.cldPoster,{useFetchFormat:this.props.useFetchFormat})},e.prototype.componentDidUpdate=function(){Kh(this.htmlVideoLayerInstance.htmlPluginState),this.htmlVideoLayerInstance.update(this.props.cldVid,this.props.sources,this.props.plugins,this.getVideoAttributes(),this.props.cldPoster)},e.prototype.componentWillUnmount=function(){Kh(this.htmlVideoLayerInstance.htmlPluginState)},e.prototype.getVideoAttributes=function(){var t=this,s={};return KM.forEach(function(o){o in t.props&&(s[o]=t.props[o])}),s},e.prototype.attachRef=function(t){this.videoRef.current=t;var s=this.props.innerRef;s&&(s instanceof Function?s(t):s.current=t)},e.prototype.render=function(){var t=this.props;t.cldVid,t.cldPoster,t.plugins,t.sources,t.innerRef,t.useFetchFormat;var s=P1(t,["cldVid","cldPoster","plugins","sources","innerRef","useFetchFormat"]);return Lo.createElement("video",ju({},s,{ref:this.attachRef}))},e})($.Component);function YM(r){return!(typeof r!="object"||r instanceof Array)}class XM{filterOutNonSupportedKeys(e,t){const s=Object.create({});return YM(e)?(Object.keys(e).forEach(o=>{t.indexOf(o)>=0?s[o]=e[o]:console.warn("Warning - unsupported key provided to configuration: ",o)}),s):Object.create({})}}const WE=["cname","secureDistribution","privateCdn","signUrl","longUrlSignature","shorten","useRootPath","secure","forceVersion","analytics","queryParams"];class kg extends XM{constructor(e){super();const t=this.filterOutNonSupportedKeys(e,WE);Object.assign(this,{secure:!0},t)}extend(e){const t=this.filterOutNonSupportedKeys(e,WE);return new kg(Object.assign({},this,t))}setCname(e){return this.cname=e,this}setSecureDistribution(e){return this.secureDistribution=e,this}setPrivateCdn(e){return this.privateCdn=e,this}setSignUrl(e){return this.signUrl=e,this}setLongUrlSignature(e){return this.longUrlSignature=e,this}setShorten(e){return this.shorten=e,this}setUseRootPath(e){return this.useRootPath=e,this}setSecure(e){return this.secure=e,this}setForceVersion(e){return this.forceVersion=e,this}setQueryParams(e){return this.queryParams=e,this}}class ku{constructor(e){this.values=[],this.delimiter=":",this.hasValue(e)&&this.addValue(e)}toString(){return this.values.join(this.delimiter)}hasValue(e){return typeof e<"u"&&e!==null&&e!==""}addValue(e){return Array.isArray(e)?this.values=this.values.concat(e):this.values.push(e),this.values=this.values.filter(t=>this.hasValue(t)),this}setDelimiter(e){return this.delimiter=e,this}}class WM extends Error{constructor(e="Unsupported"){super(e)}}function Lg(r){return new WM(r)}function JM(){return this._qualifierModel||{error:Lg(`unsupported qualifier ${this.constructor.name}`)}}class ZM{constructor(){this._qualifierModel={}}toJson(){return JM.apply(this)}}class Rd extends ZM{constructor(e,t){super(),this.delimiter="_",this.key=e,t instanceof ku?this.qualifierValue=t:(this.qualifierValue=new ku,this.qualifierValue.addValue(t))}toString(){const{key:e,delimiter:t,qualifierValue:s}=this;return`${e}${t}${s.toString()}`}addValue(e){return this.qualifierValue.addValue(e),this}}class qs extends Rd{constructor(e,t){let s;t?s=new ku([e,`${t}`]).setDelimiter(":"):s=e,super("fl",s),this.flagValue=t}toString(){return super.toString().replace(/\./g,"%2E")}getFlagValue(){return this.flagValue}}function eP(r,e){const t=Array.from(r.entries());return e.forEach(s=>{t.push(["fl",s])}),t.sort().map(s=>s[1])}function tP(){var r,e,t;const s=this._actionModel&&Object.keys(this._actionModel).length,o=(t=(e=(r=this._actionModel)===null||r===void 0?void 0:r.source)===null||e===void 0?void 0:e.transformation)===null||t===void 0?void 0:t.error;return o&&o instanceof Error?{error:o}:s?this._actionModel:{error:Lg(`unsupported action ${this.constructor.name}`)}}class nP{constructor(){this._actionModel={}}toJson(){return tP.apply(this)}}class Ug extends nP{constructor(){super(...arguments),this.qualifiers=new Map,this.flags=[],this.delimiter=",",this.actionTag=""}prepareQualifiers(){}getActionTag(){return this.actionTag}setActionTag(e){return this.actionTag=e,this}toString(){return this.prepareQualifiers(),eP(this.qualifiers,this.flags).join(this.delimiter)}addQualifier(e){if(typeof e=="string"){const[t,s]=e.toLowerCase().split("_");t==="fl"?this.flags.push(new qs(s)):this.qualifiers.set(t,new Rd(t,s))}else this.qualifiers.set(e.key,e);return this}addFlag(e){return typeof e=="string"?this.flags.push(new qs(e)):e instanceof qs&&this.flags.push(e),this}addValueToQualifier(e,t){return this.qualifiers.get(e).addValue(t),this}}function rP(r){return r&&(r.match(/^#/)?`rgb:${r.substr(1)}`:r)}class iP extends Ug{constructor(e){super(),this._actionModel={},this.addQualifier(new Rd("b",new ku(rP(e)).setDelimiter("_"))),this._actionModel.color=e,this._actionModel.actionType="backgroundColor"}static fromJson(e){const{color:t}=e;return new this(t)}}class JE{constructor(e){this.raw=e}toString(){return this.raw}toJson(){return{error:Lg(`unsupported action ${this.constructor.name}`)}}}function sP(r){const e=r;return"error"in e&&!!e.error}function aP(){return new qs("lossy")}function oP(){return new qs("preserve_transparency")}function lP(r){return new qs("progressive",r)}class uP extends ku{constructor(e){super(e),this.val=e}getValue(){return this.val}}function $a(r){const e={};return Object.keys(r).forEach(t=>{e[r[t]]=t}),e}const cP={limitFit:"limit",limitFill:"lfill",minimumFit:"mfit",thumbnail:"thumb",limitPad:"lpad",minimumPad:"mpad",autoPad:"auto_pad"},hP={colorSpace:"cs",dpr:"dpr",density:"dn",defaultImage:"d",format:"f",quality:"q"},dP={redEye:"redeye",advancedRedEye:"adv_redeye",oilPaint:"oil_paint",unsharpMask:"unsharp_mask",makeTransparent:"make_transparent",generativeRestore:"gen_restore",upscale:"upscale"},fP={autoBest:"auto:best",autoEco:"auto:eco",autoGood:"auto:good",autoLow:"auto:low",jpegminiHigh:"jpegmini:1",jpegminiMedium:"jpegmini:2",jpegminiBest:"jpegmini:0"},mP={fullHd:"full_hd",fullHdWifi:"full_hd_wifi",fullHdLean:"full_hd_lean",hdLean:"hd_lean"},pP={444:"CHROMA_444",420:"CHROMA_420"},gP={noCmyk:"no_cmyk",keepCmyk:"keep_cmyk",tinySrgb:"tinysrgb",srgbTrueColor:"srgb:truecolor"};$a(pP);$a(gP);$a(cP);const yP=$a(hP);$a(dP);$a(fP);$a(mP);class vP extends Ug{constructor(e,t,s){super(),this._actionModel={};let o;t instanceof uP?o=t.getValue():o=t,this._actionModel.actionType=yP[e],this._actionModel[s]=o,this.addQualifier(new Rd(e,t))}}class _P extends qs{constructor(e){super("progressive",e)}}class Yh extends vP{constructor(e,t){super(e,t,"formatType")}lossy(){return this._actionModel.lossy=!0,this.addFlag(aP()),this}progressive(e){return e instanceof _P?(this._actionModel.progressive={mode:e.getFlagValue()},this.addFlag(e)):(this._actionModel.progressive={mode:e},this.addFlag(lP(e))),this}preserveTransparency(){return this._actionModel.preserveTransparency=!0,this.addFlag(oP()),this}static fromJson(e){const{formatType:t,lossy:s,progressive:o,preserveTransparency:u}=e;let d;return t?d=new this("f",t):d=new this("f"),o&&(o.mode?d.progressive(o.mode):d.progressive()),s&&d.lossy(),u&&d.preserveTransparency(),d}}class Cd{constructor(){this.actions=[]}addAction(e){let t;if(typeof e=="string"){if(e.indexOf("/")>=0)throw"addAction cannot accept a string with a forward slash in it - /, use .addTransformation() instead";t=new JE(e)}else t=e;return this.actions.push(t),this}addTransformation(e){return e instanceof Cd?this.actions=this.actions.concat(e.actions):this.actions.push(new JE(e)),this}toString(){return this.actions.map(e=>e.toString()).filter(e=>e).join("/")}animated(e){return this.addAction(e)}border(e){return this.addAction(e)}reshape(e){return this.addAction(e)}resize(e){return this.addAction(e)}quality(e){return this.addAction(new Yh("q",e)),this}format(e){return this.addAction(new Yh("f",e)),this}roundCorners(e){return this.addAction(e)}overlay(e){return this.addAction(e)}underlay(e){return e.setLayerType("u"),this.addAction(e)}addVariable(e){return this.addAction(e)}conditional(e){return this.addAction(e)}effect(e){return this.addAction(e)}adjust(e){return this.addAction(e)}rotate(e){return this.addAction(e)}namedTransformation(e){return this.addAction(e)}delivery(e){return this.addAction(e)}backgroundColor(e){return this.addAction(new iP(e))}psdTools(e){return this.addAction(e)}extract(e){return this.addAction(e)}addFlag(e){const t=new Ug;let s=e;return typeof e=="string"&&(s=new qs(e)),t.addQualifier(s),this.addAction(t)}customFunction(e){return this.addAction(e)}transcode(e){return this.addAction(e)}videoEdit(e){return this.addAction(e)}toJson(){const e=[];for(const t of this.actions){const s=t.toJson();if(sP(s))return s;e.push(s)}return{actions:e}}}class EP extends Cd{}class TP extends Cd{}function bP(r){return r.match(/^https?:\//)}function wP(r){return r.indexOf("/")<0}function AP(r){return r.match(/^v[0-9]+/)}function SP(r,e){const t=e.secure,s=e.privateCdn,o=e.cname,u=e.secureDistribution;return!t&&!o?`http://res.cloudinary.com/${r}`:t&&!u&&s?`https://${r}-res.cloudinary.com`:t&&!u?`https://res.cloudinary.com/${r}`:t&&u&&s?`https://${u}`:t&&u?`https://${u}/${r}`:!t&&o?`http://${o}/${r}`:"ERROR"}function xP(r){return r||"image"}function RP(r){return r||"upload"}function CP(r,e,t){const s=t!==!1;return e?`v${e}`:AP(r)||bP(r)||wP(r)?"":s?"v1":""}function zg(r,e,t){let s=e>>0,o=String(t);return r.length>s?String(r):(s=s-r.length,s>o.length&&(o+=IP(o,s/o.length)),o.slice(0,s)+String(r))}function IP(r,e){let t=e,s="";for(;t>0;)s+=r,t--;return s}const NP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Xh={};let ZE=0;NP.split("").forEach(r=>{let e=ZE.toString(2);e=zg(e,6,"0"),Xh[e]=r,ZE++});function OP(r){if(r.split(".").length<2)throw new Error("invalid semVer, must have at least two segments");return r.split(".").reverse().join(".")}function DP(r){if(r.split(".").length<2)throw new Error("invalid semVer, must have at least two segments");return r.split(".").map(e=>{const t=+e;if(isNaN(t)||t<0)throw"Invalid version number provided";return zg(e,2,"0")}).join(".")}function eT(r){let e="";const s=r.split(".").length*6,o=OP(r),u=DP(o);let m=parseInt(u.split(".").join("")).toString(2);if(m=zg(m,s,"0"),m.length%6!==0)throw"Version must be smaller than 43.21.26)";return m.match(/.{1,6}/g).forEach(p=>{e+=Xh[p]}),e}function MP(r){const e={sdkSemver:r.sdkSemver,techVersion:r.techVersion,sdkCode:r.sdkCode,product:r.product,feature:"0",osType:r.osType,osVersion:r.osVersion};return r.accessibility&&(e.feature="D"),r.lazyload&&(e.feature="C"),r.responsive&&(e.feature="A"),r.placeholder&&(e.feature="B"),e}const PP="1.21.0";function VP(r){const[e,t]=r.split("."),s=parseInt(e).toString(2),o=parseInt(t).toString(2),u=s.padStart(6,"0"),d=o.padStart(6,"0");return Xh[u]+Xh[d]}function jP(){const r="0.0.0";if(typeof window<"u")return r;try{return process.versions.node||r}catch{return r}}function kP(r){const e={techVersion:jP(),sdkCode:"T",sdkSemver:PP.split("-")[0],product:"A",osType:"Z",osVersion:"0.0",responsive:!1,placeholder:!1,lazyload:!1,accessibility:!1};return r?Object.assign(Object.assign({},e),r):e}function tT(r){const e=kP(r),t=MP(e);try{const s=LP(t.techVersion),o=eT(t.sdkSemver),u=eT(s),d=VP(t.osVersion),m=t.feature,p=t.sdkCode,{product:g,osType:E}=t;return`D${g}${p}${o}${u}${E}${d}${m}`}catch{return"E"}}function LP(r){const e=r.split(".");return`${e[0]}.${e[1]}`}const nT={"image/upload":"images","image/private":"private_images","image/authenticated":"authenticated_images","raw/upload":"files","video/upload":"videos"};class UP{constructor(e,t={},s){this.setPublicID(e),this.setCloudConfig(t),this.setURLConfig(s)}setURLConfig(e){return this.urlConfig=new kg(e),this}setCloudConfig(e){return this.cloudName=e.cloudName,this.apiKey=e.apiKey,this.apiSecret=e.apiSecret,this.authToken=e.authToken,this}setPublicID(e){return this.publicID=e?e.toString():"",this}setDeliveryType(e){return this.deliveryType=e,this}setSuffix(e){return this.suffix=e,this}setSignature(e){return this.signature=e,this}setVersion(e){return e&&(this.version=e),this}setAssetType(e){return e&&(this.assetType=e),this}sign(){return this}toURL(e={}){return this.createCloudinaryURL(null,e.trackedAnalytics)}validateAssetForURLCreation(){if(typeof this.cloudName>"u")throw"You must supply a cloudName when initializing the asset";const e=this.suffix&&this.suffix.indexOf(".")>=0,t=this.suffix&&this.suffix.indexOf("/")>=0;if(e||t)throw"`suffix`` should not include . or /"}getResourceType(){const e=xP(this.assetType),t=RP(this.deliveryType),s=!!this.suffix,o=`${e}/${t}`,u=nT[`${e}/${t}`],d=this.urlConfig.useRootPath,m=this.urlConfig.shorten;if(d){if(o==="image/upload")return"";throw new Error(`useRootPath can only be used with assetType: 'image' and deliveryType: 'upload'. Provided: ${o} instead`)}if(m&&o==="image/upload")return"iu";if(s){if(u)return u;throw new Error(`URL Suffix only supported for ${Object.keys(nT).join(", ")}, Provided: ${o} instead`)}return o}getSignature(){return this.signature?`s--${this.signature}--`:""}createCloudinaryURL(e,t){if(!this.publicID)return"";this.validateAssetForURLCreation();const s=SP(this.cloudName,this.urlConfig),o=e?e.toString():"",u=CP(this.publicID,this.version,this.urlConfig.forceVersion),d=this.publicID;if(typeof e=="string")return[s,this.getResourceType(),this.getSignature(),o,u,d.replace(/,/g,"%2C"),this.suffix].filter(p=>p).join("/");{const m=[encodeURI(s),this.getResourceType(),this.getSignature(),encodeURI(o),u,encodeURI(d).replace(/,/g,"%2C"),this.suffix&&encodeURI(this.suffix)].filter(E=>E).join("/").replace(/\?/g,"%3F").replace(/=/g,"%3D"),p=this.urlConfig.analytics!==!1&&!d.includes("?");let g="";if(typeof this.urlConfig.queryParams=="object")try{const E=new URLSearchParams(this.urlConfig.queryParams);p&&E.set("_a",tT(t)),g=E.toString()}catch{console.error("Error: URLSearchParams is not available so the queryParams object cannot be parsed, please try passing as an already parsed string")}else g=this.urlConfig.queryParams||"",p&&(g+=`${g.length>0?"&":""}_a=${tT(t)}`);return g?`${m}?${g}`:m}}}class V1 extends UP{constructor(e,t,s,o){super(e,t,s),this.transformation=o}animated(e){return this.transformation.animated(e),this}border(e){return this.transformation.border(e),this}reshape(e){return this.transformation.reshape(e),this}resize(e){return this.transformation.resize(e),this}quality(e){return this.addAction(new Yh("q",e)),this}format(e){return this.addAction(new Yh("f",e)),this}roundCorners(e){return this.transformation.roundCorners(e),this}overlay(e){return this.transformation.overlay(e),this}addVariable(e){return this.transformation.addVariable(e),this}conditional(e){return this.transformation.conditional(e),this}effect(e){return this.transformation.effect(e),this}adjust(e){return this.transformation.adjust(e),this}rotate(e){return this.transformation.rotate(e),this}namedTransformation(e){return this.transformation.namedTransformation(e),this}delivery(e){return this.transformation.delivery(e),this}backgroundColor(e){return this.transformation.backgroundColor(e),this}psdTools(e){return this.transformation.psdTools(e),this}extract(e){return this.transformation.extract(e),this}addFlag(e){return this.transformation.addFlag(e),this}customFunction(e){return this.transformation.customFunction(e),this}addAction(e){return this.transformation.addAction(e),this}addTransformation(e){return this.transformation.addTransformation(e),this}toString(){return this.transformation.toString()}underlay(e){return this.transformation.underlay(e),this}toURL(e={}){return this.createCloudinaryURL(this.transformation,e==null?void 0:e.trackedAnalytics)}}class zP extends V1{constructor(e,t,s){super(e,t,s,new EP)}}class BP extends V1{constructor(e,t,s){super(e,t,s,new TP),this.assetType="video"}transcode(e){return this.transformation.transcode(e),this}videoEdit(e){return this.transformation.videoEdit(e),this}}class qP{constructor(e){e&&(this.cloudinaryConfig=e)}image(e){return new zP(e,this.cloudinaryConfig.cloud,this.cloudinaryConfig.url)}video(e){return new BP(e,this.cloudinaryConfig.cloud,this.cloudinaryConfig.url)}setConfig(e){return this.cloudinaryConfig=e,this}getConfig(){return this.cloudinaryConfig}extendConfig(){}}const Bo=new qP({cloud:{cloudName:"dk680gcwh"}}),FP="shreenda_architects",j1=({id:r,title:e,category:t,imageSrc:s,featured:o=!1})=>{const u=d=>{if(!d)return null;const m=d.split("/");return m[m.length-1].split(".")[0]};return v.jsx("div",{className:`group relative overflow-hidden rounded-lg shadow-md transition-transform duration-300 hover:-translate-y-2 ${o?"md:col-span-2 row-span-2":""}`,children:v.jsxs(Qt,{to:`/projects/${r}`,children:[s?v.jsx("div",{className:"h-64 overflow-hidden",children:v.jsx(zo,{cldImg:Bo.image(u(s)),alt:e,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"})}):v.jsx("div",{className:"h-64 bg-gray-200 flex items-center justify-center",children:v.jsx("span",{className:"text-gray-400",children:"No image available"})}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"}),v.jsxs("div",{className:"absolute bottom-0 left-0 p-6 text-white",children:[v.jsx("span",{className:"text-xs uppercase tracking-wider text-amber-300 mb-2 inline-block",children:t}),v.jsx("h3",{className:"text-xl font-bold mb-1",children:e})]})]})})},HP=[{id:1,title:"Architectural Design",description:"Comprehensive architectural design services for all project types and scales.",icon:"✏️"},{id:2,title:"Interior Design",description:"Thoughtful interior designs that balance aesthetics, functionality, and client needs.",icon:"🏠"},{id:3,title:"Urban Planning",description:"Strategic urban planning solutions that create sustainable, vibrant communities.",icon:"🏙️"},{id:4,title:"Landscape Architecture",description:"Creating outdoor spaces that complement buildings and enhance the environment.",icon:"🌳"}],GP=[{id:1,name:"Vishal Shibargatti",position:"Co-founder & Principal Architect",bio:"With a keen eye for design and a passion for innovation, Vishal brings creative vision to every project. His expertise in blending aesthetics with functionality ensures that each design not only looks beautiful but works perfectly for its intended purpose.",imageSrc:"https://raw.githubusercontent.com/GauravShidling/shreenda-architects/main/src/assets/team/VishalShibargatti.jpg"},{id:2,name:"Vinay Shidling",position:"Co-founder & Principal Head of Execution",bio:"Vinay's exceptional project management skills and attention to detail ensure that designs move seamlessly from concept to completion. His expertise in construction processes and materials brings practicality and feasibility to our most ambitious designs.",imageSrc:"https://raw.githubusercontent.com/GauravShidling/shreenda-architects/main/src/assets/team/VinayShidling.png"}],$P=()=>{const{projects:r}=Td(),[e,t]=$.useState([]);return $.useEffect(()=>{t((()=>{const o=[...r].sort(()=>.5-Math.random()),u=Math.min(Math.floor(Math.random()*2)+2,r.length);return o.slice(0,u)})())},[r]),v.jsxs("div",{children:[v.jsx(xg,{title:"Transforming Spaces, Creating Experiences",subtitle:"Shreenda Architects blends innovative design with functionality to create spaces that inspire. We transform visions into reality through sustainable architecture.",buttonText:"Explore Our Projects",buttonLink:"/projects",imageSrc:"https://images.unsplash.com/photo-1487958449943-2429e8be8625?q=80&w=1470&auto=format&fit=crop"}),v.jsx("section",{className:"py-16 bg-white",children:v.jsx("div",{className:"container-custom",children:v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[v.jsxs("div",{children:[v.jsx(si,{title:"About Shreenda Architects",subtitle:"Crafting spaces that inspire and endure",centered:!1}),v.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:"At Shreenda Architects, we believe that great architecture is more than just buildings – it's about creating spaces that enhance lives and inspire communities. With over a decade of experience, our team combines innovative design with practical functionality to deliver exceptional results."}),v.jsx("p",{className:"text-gray-700 mb-8 leading-relaxed",children:"Our approach is rooted in understanding our clients' unique needs and aspirations. We work closely with you throughout the process, ensuring that every detail reflects your vision while maintaining the highest standards of design and sustainability."}),v.jsx(Qt,{to:"/about",className:"btn btn-primary",children:"Learn More About Us"})]}),v.jsx("div",{className:"relative",children:v.jsx("img",{src:"https://images.unsplash.com/photo-1487958449943-2429e8be8625?q=80&w=1470&auto=format&fit=crop",alt:"Architectural Design",className:"rounded-lg shadow-xl"})})]})})}),v.jsx("section",{className:"py-16 bg-gray-100",children:v.jsxs("div",{className:"container-custom",children:[v.jsx(si,{title:"Featured Projects",subtitle:"Explore some of our award-winning designs and landmark projects that showcase our approach to architecture and design.",centered:!0}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mt-8",children:e.map(s=>{var o;return v.jsx(j1,{id:s.id,title:s.title,category:s.category,imageSrc:((o=s.imageUrls)==null?void 0:o[0])||s.imageUrl,featured:!0},s.id)})}),v.jsx("div",{className:"text-center mt-12",children:v.jsx(Qt,{to:"/projects",className:"btn btn-outline",children:"View All Projects"})})]})}),v.jsx("section",{className:"py-16 bg-white",children:v.jsxs("div",{className:"container-custom",children:[v.jsx(si,{title:"Our Services",subtitle:"Comprehensive architectural services tailored to meet your specific needs and vision.",centered:!0}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mt-8",children:HP.map(s=>v.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg shadow-sm hover:shadow-md transition duration-300",children:[v.jsx("div",{className:"text-4xl mb-4",children:s.icon}),v.jsx("h3",{className:"text-xl font-bold mb-2",children:s.title}),v.jsx("p",{className:"text-gray-600",children:s.description})]},s.id))})]})}),v.jsx("section",{className:"py-16 bg-gray-900 text-white",children:v.jsxs("div",{className:"container-custom text-center",children:[v.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Start Your Project?"}),v.jsx("p",{className:"text-xl text-gray-300 mb-8",children:"Let's work together to create something extraordinary"}),v.jsx(Qt,{to:"/contact",className:"btn btn-primary",children:"Get in Touch"})]})})]})},QP=()=>v.jsxs("div",{children:[v.jsx(xg,{title:"About Shreenda Architects",subtitle:"We're a team of passionate architects and designers dedicated to creating exceptional spaces that inspire and endure.",imageSrc:"https://images.unsplash.com/photo-1567449303078-57ad995bd17a?q=80&w=1470&auto=format&fit=crop"}),v.jsx("section",{className:"py-16 bg-white",children:v.jsxs("div",{className:"container-custom",children:[v.jsx(si,{title:"Our Story",subtitle:"From humble beginnings to a leading architectural practice."}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 items-center",children:[v.jsxs("div",{className:"order-2 md:order-1",children:[v.jsx("p",{className:"text-gray-700 mb-6",children:"Founded in 2017, Shreenda Architects is a Hubli-based architectural firm driven by a passion for creating meaningful spaces. From day one, our philosophy has been simple: keep designs clean and minimal, while infusing them with innovation, elegance, and character."}),v.jsx("p",{className:"text-gray-700 mb-6",children:"For us, architecture is more than just fulfilling a brief — it's about bringing a space to life. We believe great design is born from deep conversations with our clients, understanding their vision, and translating it into a space that reflects who they are."}),v.jsx("p",{className:"text-gray-700 mb-6",children:"Every project we take on is thoughtfully crafted, with attention to detail at every level — from the big idea to the final finish. Our commitment lies in delivering work that is not only creative but also reliable, timely, and of the highest quality."}),v.jsx("p",{className:"text-gray-700",children:"At Shreenda Architects, we don't just build structures — we shape experiences."})]}),v.jsx("div",{className:"relative h-80 rounded-lg overflow-hidden shadow-xl order-1 md:order-2",children:v.jsx("img",{src:"https://images.unsplash.com/photo-1507608616759-54f48f0af0ee?q=80&w=1374&auto=format&fit=crop",alt:"Architectural building",className:"w-full h-full object-cover"})})]})]})}),v.jsx("section",{className:"py-16 bg-gray-100",children:v.jsxs("div",{className:"container-custom",children:[v.jsx(si,{title:"Our Philosophy",subtitle:"The principles that guide our approach to architecture and design.",centered:!0}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mt-12",children:[v.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-sm hover:shadow-md transition duration-300",children:[v.jsx("div",{className:"text-accent text-5xl mb-4",children:"01"}),v.jsx("h3",{className:"text-xl font-bold mb-4",children:"Human-Centered Design"}),v.jsx("p",{className:"text-gray-700",children:"We believe architecture should enhance human experience. Every space we design prioritizes the people who will inhabit it, fostering comfort, well-being, and meaningful interactions."})]}),v.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-sm hover:shadow-md transition duration-300",children:[v.jsx("div",{className:"text-accent text-5xl mb-4",children:"02"}),v.jsx("h3",{className:"text-xl font-bold mb-4",children:"Sustainable Innovation"}),v.jsx("p",{className:"text-gray-700",children:"Our commitment to sustainability goes beyond meeting standards. We constantly explore innovative solutions that minimize environmental impact while maximizing efficiency and resilience."})]}),v.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-sm hover:shadow-md transition duration-300",children:[v.jsx("div",{className:"text-accent text-5xl mb-4",children:"03"}),v.jsx("h3",{className:"text-xl font-bold mb-4",children:"Contextual Harmony"}),v.jsx("p",{className:"text-gray-700",children:"Great architecture responds to its context. We design buildings that respect and enhance their surroundings, contributing positively to the urban fabric and natural environment."})]})]})]})}),v.jsx("section",{className:"py-16 bg-white",children:v.jsxs("div",{className:"container-custom",children:[v.jsx(si,{title:"Meet Our Team",subtitle:"The talented professionals behind our award-winning designs.",centered:!0}),v.jsx("div",{className:"flex justify-center mt-12",children:v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-16 md:gap-24 max-w-4xl",children:GP.map(r=>v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"mb-6 rounded-full overflow-hidden w-56 h-56 mx-auto",children:v.jsx("img",{src:r.imageSrc,alt:r.name,className:"w-full h-full object-cover"})}),v.jsx("h3",{className:"text-2xl font-bold mb-2",children:r.name}),v.jsx("p",{className:"text-accent mb-4",children:r.position}),v.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:r.bio})]},r.id))})})]})}),v.jsx("section",{className:"py-16 bg-gray-900 text-white",children:v.jsxs("div",{className:"container-custom",children:[v.jsx(si,{title:"Our Values",subtitle:"The core principles that drive everything we do.",centered:!0}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 mt-12",children:[v.jsxs("div",{className:"flex items-start space-x-4",children:[v.jsx("div",{className:"text-accent text-4xl",children:"✦"}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-xl font-bold mb-2",children:"Excellence"}),v.jsx("p",{className:"text-gray-300",children:"We pursue excellence in every aspect of our work, from concept to completion. Our commitment to quality is unwavering, and we continually strive to exceed expectations."})]})]}),v.jsxs("div",{className:"flex items-start space-x-4",children:[v.jsx("div",{className:"text-accent text-4xl",children:"✦"}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-xl font-bold mb-2",children:"Integrity"}),v.jsx("p",{className:"text-gray-300",children:"We conduct our business with honesty, transparency, and ethical responsibility. We build relationships based on trust and maintain the highest professional standards."})]})]}),v.jsxs("div",{className:"flex items-start space-x-4",children:[v.jsx("div",{className:"text-accent text-4xl",children:"✦"}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-xl font-bold mb-2",children:"Collaboration"}),v.jsx("p",{className:"text-gray-300",children:"We believe the best results come from meaningful collaboration. We work closely with clients, consultants, and communities to create architecture that truly serves its purpose."})]})]}),v.jsxs("div",{className:"flex items-start space-x-4",children:[v.jsx("div",{className:"text-accent text-4xl",children:"✦"}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-xl font-bold mb-2",children:"Innovation"}),v.jsx("p",{className:"text-gray-300",children:"We embrace creativity and forward thinking. We're not afraid to challenge conventions and explore new ideas that push the boundaries of architectural design."})]})]})]})]})})]});function KP(){const{projects:r,loading:e,error:t}=Td(),[s,o]=$.useState("all"),[u,d]=$.useState([]);$.useEffect(()=>{const p=[...new Set(r.map(g=>g.category))];d(p)},[r]);const m=s==="all"?r:r.filter(p=>p.category===s);return e?v.jsx("div",{className:"min-h-screen flex items-center justify-center",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),v.jsx("p",{className:"mt-4 text-gray-600",children:"Loading projects..."})]})}):t?v.jsx("div",{className:"min-h-screen flex items-center justify-center",children:v.jsx("div",{className:"text-center text-red-500",children:v.jsxs("p",{children:["Error loading projects: ",t]})})}):v.jsx("div",{className:"min-h-screen bg-gray-100 py-12",children:v.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[v.jsxs("div",{className:"text-center mb-12",children:[v.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Our Projects"}),v.jsx("p",{className:"text-xl text-gray-600",children:"Explore our portfolio of architectural excellence"})]}),v.jsx("div",{className:"mb-8",children:v.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[v.jsx("button",{onClick:()=>o("all"),className:`px-6 py-2 rounded-full text-sm font-medium transition-colors duration-200 ${s==="all"?"bg-[rgb(212,160,23)] text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"All Projects"}),u.map(p=>v.jsx("button",{onClick:()=>o(p),className:`px-6 py-2 rounded-full text-sm font-medium transition-colors duration-200 ${s===p?"bg-[rgb(212,160,23)] text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:p},p))]})}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:m.map(p=>{var g;return v.jsx(j1,{id:p.id,title:p.title,category:p.category,imageSrc:((g=p.imageUrls)==null?void 0:g[0])||p.imageUrl},p.id)})}),m.length===0&&v.jsx("div",{className:"text-center py-12",children:v.jsx("p",{className:"text-gray-600",children:"No projects available in this category."})})]})})}const YP=()=>{const{id:r}=QS(),{projects:e}=Td(),[t,s]=$.useState(0),[o,u]=$.useState(null);$.useEffect(()=>{const p=e.find(g=>g.id===r);u(p),s(0)},[r,e]);const d=p=>{if(!p)return null;const g=p.split("/");return g[g.length-1].split(".")[0]};if(!o)return v.jsx("div",{className:"min-h-screen flex items-center justify-center",children:v.jsxs("div",{className:"text-center",children:[v.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Project Not Found"}),v.jsx("p",{className:"text-gray-600 mb-6",children:"The project you're looking for doesn't exist."}),v.jsx(Qt,{to:"/projects",className:"btn btn-primary",children:"Back to Projects"})]})});const m=Array.isArray(o.imageUrls)?o.imageUrls:[o.imageUrl].filter(Boolean);return v.jsxs("div",{children:[v.jsxs("div",{className:"bg-gray-900 py-24 relative",children:[v.jsx("div",{className:"absolute inset-0 z-0 overflow-hidden",children:m[0]&&v.jsx(zo,{cldImg:Bo.image(d(m[0])),alt:o.title,className:"w-full h-full object-cover opacity-30"})}),v.jsxs("div",{className:"container-custom relative z-10",children:[v.jsx("span",{className:"text-amber-300 text-sm uppercase tracking-wider mb-2 inline-block",children:o.category}),v.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:o.title}),v.jsxs("div",{className:"flex flex-wrap items-center text-gray-300 gap-6",children:[v.jsxs("p",{className:"flex items-center",children:[v.jsx("span",{className:"mr-2",children:"📍"}),o.location]}),v.jsxs("p",{className:"flex items-center",children:[v.jsx("span",{className:"mr-2",children:"📅"}),o.year]})]})]})]}),v.jsx("section",{className:"py-16 bg-white",children:v.jsx("div",{className:"container-custom",children:v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[v.jsx("div",{children:m.length>0&&v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"bg-gray-100 rounded-lg overflow-hidden mb-4",children:v.jsx(zo,{cldImg:Bo.image(d(m[t])),alt:`${o.title} - Image ${t+1}`,className:"w-full h-96 object-cover"})}),m.length>1&&v.jsx("div",{className:"flex gap-3 mt-4",children:m.map((p,g)=>v.jsx("button",{onClick:()=>s(g),className:`border-2 rounded overflow-hidden ${g===t?"border-accent":"border-transparent"}`,children:v.jsx(zo,{cldImg:Bo.image(d(p)),alt:`Thumbnail ${g+1}`,className:"w-16 h-16 object-cover"})},g))})]})}),v.jsxs("div",{children:[v.jsx(si,{title:"Project Overview",subtitle:"",centered:!1}),v.jsx("p",{className:"text-gray-700 mb-8 leading-relaxed",children:o.description}),v.jsxs("div",{className:"mb-8",children:[v.jsx("h3",{className:"text-xl font-bold mb-4",children:"Project Details"}),v.jsxs("ul",{className:"space-y-3",children:[v.jsxs("li",{className:"flex",children:[v.jsx("span",{className:"font-medium w-32",children:"Category:"}),v.jsx("span",{className:"text-gray-700",children:o.category})]}),v.jsxs("li",{className:"flex",children:[v.jsx("span",{className:"font-medium w-32",children:"Location:"}),v.jsx("span",{className:"text-gray-700",children:o.location})]}),v.jsxs("li",{className:"flex",children:[v.jsx("span",{className:"font-medium w-32",children:"Year:"}),v.jsx("span",{className:"text-gray-700",children:o.year})]})]})]}),v.jsx(Qt,{to:"/projects",className:"btn btn-outline",children:"Back to Projects"})]})]})})}),v.jsx("section",{className:"py-16 bg-gray-50",children:v.jsxs("div",{className:"container-custom",children:[v.jsx(si,{title:"More Projects",subtitle:"Explore other similar architectural works",centered:!0}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8",children:e.filter(p=>p.id!==o.id&&p.category===o.category).slice(0,3).map(p=>{var g;return v.jsx("div",{className:"group relative overflow-hidden rounded-lg shadow-md",children:v.jsxs(Qt,{to:`/projects/${p.id}`,children:[((g=p.imageUrls)==null?void 0:g[0])&&v.jsx(zo,{cldImg:Bo.image(d(p.imageUrls[0])),alt:p.title,className:"w-full h-64 object-cover transition-transform duration-500 group-hover:scale-110"}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"}),v.jsx("div",{className:"absolute bottom-0 left-0 p-6 text-white",children:v.jsx("h3",{className:"text-xl font-bold mb-1",children:p.title})})]})},p.id)})})]})})]})},XP=()=>{const[r,e]=$.useState({name:"",email:"",phone:"",subject:"",message:""}),[t,s]=$.useState({name:"",email:"",phone:"",message:""}),[o,u]=$.useState({status:null,message:""}),d=D=>D.trim()?D.trim().length<2?"Name must be at least 2 characters":"":"Name is required",m=D=>D.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(D)?"":"Please enter a valid email address":"Email is required",p=D=>{if(!D.trim())return"";if(/[a-zA-Z]/.test(D))return"Phone number cannot contain letters";if(!/^[+]?[(]?[0-9]{1,4}[)]?[-\s./0-9]*$/.test(D))return"Please enter a valid phone number";const k=D.replace(/\D/g,"");return k.length<10||k.length>15?"Phone number must have 10-15 digits":""},g=D=>D.trim()?D.trim().length<10?"Message should be at least 10 characters":"":"Message is required",E=D=>{const{name:K,value:k}=D.target;e(H=>({...H,[K]:k})),t[K]&&s(H=>({...H,[K]:""}))},S=()=>{const D={name:d(r.name),email:m(r.email),phone:p(r.phone),message:g(r.message)};return s(D),!Object.values(D).some(K=>K)},x=async D=>{if(D.preventDefault(),!S()){u({status:"error",message:"Please correct the errors in the form."});return}u({status:"pending",message:"Sending your message..."});try{(await fetch("https://formspree.io/f/xqaqzbwa",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).ok?(u({status:"success",message:"Thank you! Your message has been sent successfully."}),e({name:"",email:"",phone:"",subject:"",message:""}),s({name:"",email:"",phone:"",message:""})):u({status:"error",message:"There was a problem sending your message. Please try again."})}catch{u({status:"error",message:"Network error. Please check your connection and try again."})}},M=D=>{const{name:K,value:k}=D.target;let H="";switch(K){case"name":H=d(k);break;case"email":H=m(k);break;case"phone":H=p(k);break;case"message":H=g(k);break}s(re=>({...re,[K]:H}))};return v.jsx("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:o.status==="success"?v.jsxs("div",{className:"text-center py-8",children:[v.jsx("div",{className:"mb-4 text-green-500",children:v.jsx("svg",{className:"h-16 w-16 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),v.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Message Sent!"}),v.jsx("p",{className:"text-gray-600",children:o.message}),v.jsx("button",{onClick:()=>u({status:null,message:""}),className:"mt-6 btn btn-primary",children:"Send Another Message"})]}):v.jsxs("form",{onSubmit:x,className:"space-y-6",children:[o.status==="error"&&v.jsx("div",{className:"p-3 bg-red-100 text-red-700 rounded-md",children:o.message}),o.status==="pending"&&v.jsx("div",{className:"p-3 bg-blue-100 text-blue-700 rounded-md",children:o.message}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{children:[v.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Name ",v.jsx("span",{className:"text-red-500",children:"*"})]}),v.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:E,onBlur:M,className:`w-full px-4 py-2 border ${t.name?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-accent`}),t.name&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.name})]}),v.jsxs("div",{children:[v.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",v.jsx("span",{className:"text-red-500",children:"*"})]}),v.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:E,onBlur:M,className:`w-full px-4 py-2 border ${t.email?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-accent`}),t.email&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.email})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),v.jsx("input",{type:"tel",id:"phone",name:"phone",value:r.phone,onChange:E,onBlur:M,placeholder:"e.g. +1 (123) 456-7890",className:`w-full px-4 py-2 border ${t.phone?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-accent`}),t.phone&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.phone})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),v.jsx("input",{type:"text",id:"subject",name:"subject",value:r.subject,onChange:E,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent"})]})]}),v.jsxs("div",{children:[v.jsxs("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-1",children:["Message ",v.jsx("span",{className:"text-red-500",children:"*"})]}),v.jsx("textarea",{id:"message",name:"message",value:r.message,onChange:E,onBlur:M,rows:5,className:`w-full px-4 py-2 border ${t.message?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-accent`}),t.message&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.message})]}),v.jsx("div",{children:v.jsx("button",{type:"submit",className:"btn btn-primary w-full md:w-auto",disabled:o.status==="pending",children:o.status==="pending"?"Sending...":"Send Message"})})]})})},WP=()=>v.jsxs("div",{children:[v.jsx(xg,{title:"Contact Us",subtitle:"Get in touch with our team to discuss your architectural vision and requirements.",imageSrc:"https://images.unsplash.com/photo-1497366811353-6870744d04b2?q=80&w=1469&auto=format&fit=crop"}),v.jsx("section",{className:"py-16 bg-white",children:v.jsx("div",{className:"container-custom",children:v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[v.jsxs("div",{children:[v.jsx(si,{title:"Get in Touch",subtitle:"We're here to answer your questions and discuss your project needs."}),v.jsxs("div",{className:"space-y-8 mt-8",children:[v.jsxs("div",{className:"flex items-start space-x-4",children:[v.jsx("div",{className:"bg-gray-100 rounded-full p-3 text-accent",children:v.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-bold mb-1",children:"Visit Our Office"}),v.jsx("p",{className:"text-gray-600",children:"First floor, Bhagyalakshmi Complex,"}),v.jsx("p",{className:"text-gray-600",children:"Opposite Ramesh Bhavan, Hemanth Nagar,"}),v.jsx("p",{className:"text-gray-600",children:"Bengeri Extension, Keshwapur,"}),v.jsx("p",{className:"text-gray-600",children:"Hubballi, Karnataka 580023"})]})]}),v.jsxs("div",{className:"flex items-start space-x-4",children:[v.jsx("div",{className:"bg-gray-100 rounded-full p-3 text-accent",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-bold mb-1",children:"Call Us"}),v.jsx("p",{className:"text-gray-600",children:"+91 (Contact Number)"}),v.jsx("p",{className:"text-gray-600 mt-1",children:"Monday - Saturday: 9:00 AM - 6:00 PM"})]})]}),v.jsxs("div",{className:"flex items-start space-x-4",children:[v.jsx("div",{className:"bg-gray-100 rounded-full p-3 text-accent",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-bold mb-1",children:"Email Us"}),v.jsx("p",{className:"text-gray-600",children:"shreendaarchitects@gmail.com"}),v.jsx("p",{className:"text-gray-600 mt-1",children:"We aim to respond within 24 hours"})]})]})]}),v.jsxs("div",{className:"mt-12",children:[v.jsx("h3",{className:"text-lg font-bold mb-4",children:"Connect With Us"}),v.jsx("div",{className:"flex",children:v.jsxs("a",{href:"https://www.instagram.com/shreendaarchitects?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw==",target:"_blank",rel:"noopener noreferrer",className:"bg-gray-100 hover:bg-accent hover:text-white transition duration-300 rounded-full p-3 flex items-center",children:[v.jsx("svg",{className:"w-6 h-6 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741 0 8.333.014 7.053.072 2.695.272.273 2.69.073 7.052.014 8.333 0 8.741 0 12c0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24c3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.881 1.44 1.44 0 000-2.881z"})}),v.jsx("span",{className:"font-medium",children:"@shreendaarchitects"})]})})]})]}),v.jsx("div",{children:v.jsx(XP,{})})]})})}),v.jsx("section",{className:"bg-white",children:v.jsxs("div",{className:"h-96 w-full relative",children:[v.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d966.7017069613288!2d75.14911314917417!3d15.36402729539737!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3bb8d68e2a7c8fa1%3A0x4f831d9e5fd7427e!2sSHREENDA%20ARCHITECTS!5e0!3m2!1sen!2sin!4v1713584452428!5m2!1sen!2sin",width:"100%",height:"100%",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Office Location Map"}),v.jsxs("a",{href:"https://maps.app.goo.gl/5noBq3y91bhTLnP89",target:"_blank",rel:"noopener noreferrer",className:"absolute top-4 right-4 bg-white text-accent hover:bg-accent hover:text-white py-2 px-4 rounded-md shadow-md font-medium transition-colors duration-300 flex items-center",children:[v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:v.jsx("path",{fillRule:"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z",clipRule:"evenodd"})}),"Open in Google Maps"]})]})})]}),JP=()=>{const[r,e]=$.useState(""),[t,s]=$.useState(""),[o,u]=$.useState(""),d=il();$.useEffect(()=>{const g=zp(ui,E=>{E&&d("/")});return()=>g()},[d]);const m=async g=>{g.preventDefault(),u("");try{await TC(ui,r,t)}catch(E){console.error("Login error:",E),E.code==="auth/invalid-credential"||E.code==="auth/wrong-password"?u("Invalid email or password. Please try again."):E.code==="auth/user-not-found"?u("No account found with this email. Please check your email or create a new account."):E.code==="auth/too-many-requests"?u("Too many unsuccessful login attempts. Please try again later or reset your password."):E.code==="auth/invalid-email"?u("Please enter a valid email address."):u("An error occurred during sign in. Please try again later.")}},p=async()=>{try{u("");const E=(await ub(ui,Kw)).user;(await WO(Vu(Uo,"users",E.uid))).exists()||await ZO(Vu(Uo,"users",E.uid),{email:E.email,displayName:E.displayName,createdAt:iD(),role:"user"})}catch(g){console.error("Google Sign-In Error:",g);let E="An error occurred during Google sign in. Please try again later.";switch(g.code){case"auth/popup-closed-by-user":E="Sign-in was cancelled. Please try again.";break;case"auth/network-request-failed":E="Network error. Please check your internet connection.";break;case"auth/popup-blocked":E="Sign-in popup was blocked. Please allow popups for this site.";break;case"auth/unauthorized-domain":E="This domain is not authorized for Google Sign-In. Please contact support.";break;case"auth/operation-not-allowed":E="Google Sign-In is not enabled. Please contact support.";break}u(E)}};return v.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:v.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-white rounded-lg shadow-md",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Shreenda Architects"}),v.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Sign in to your account"})]}),o&&v.jsxs("div",{className:"p-4 mb-4 text-sm text-red-700 bg-red-100 rounded-lg flex items-start",role:"alert",children:[v.jsx("svg",{className:"w-5 h-5 mr-2 text-red-600 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:v.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),v.jsx("span",{children:o})]}),v.jsxs("form",{className:"mt-8 space-y-6",onSubmit:m,children:[v.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),v.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-accent focus:border-accent focus:z-10 sm:text-sm",placeholder:"Email address",value:r,onChange:g=>e(g.target.value)})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),v.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-accent focus:border-accent focus:z-10 sm:text-sm",placeholder:"Password",value:t,onChange:g=>s(g.target.value)})]})]}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-accent focus:ring-accent border-gray-300 rounded"}),v.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),v.jsx("div",{className:"text-sm",children:v.jsx("a",{href:"#",className:"font-medium text-accent hover:text-accent-dark",children:"Forgot your password?"})})]}),v.jsx("div",{children:v.jsx("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent",children:"Sign in"})})]}),v.jsxs("div",{className:"mt-6",children:[v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"absolute inset-0 flex items-center",children:v.jsx("div",{className:"w-full border-t border-gray-300"})}),v.jsx("div",{className:"relative flex justify-center text-sm",children:v.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),v.jsx("div",{className:"mt-6",children:v.jsxs("button",{onClick:p,className:"w-full flex items-center justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent",children:[v.jsx("svg",{className:"h-5 w-5 mr-2",viewBox:"0 0 24 24",width:"24",height:"24",children:v.jsxs("g",{transform:"matrix(1, 0, 0, 1, 27.009001, -39.238998)",children:[v.jsx("path",{fill:"#4285F4",d:"M -3.264 51.509 C -3.264 50.719 -3.334 49.969 -3.454 49.239 L -14.754 49.239 L -14.754 53.749 L -8.284 53.749 C -8.574 55.229 -9.424 56.479 -10.684 57.329 L -10.684 60.329 L -6.824 60.329 C -4.564 58.239 -3.264 55.159 -3.264 51.509 Z"}),v.jsx("path",{fill:"#34A853",d:"M -14.754 63.239 C -11.514 63.239 -8.804 62.159 -6.824 60.329 L -10.684 57.329 C -11.764 58.049 -13.134 58.489 -14.754 58.489 C -17.884 58.489 -20.534 56.379 -21.484 53.529 L -25.464 53.529 L -25.464 56.619 C -23.494 60.539 -19.444 63.239 -14.754 63.239 Z"}),v.jsx("path",{fill:"#FBBC05",d:"M -21.484 53.529 C -21.734 52.809 -21.864 52.039 -21.864 51.239 C -21.864 50.439 -21.724 49.669 -21.484 48.949 L -21.484 45.859 L -25.464 45.859 C -26.284 47.479 -26.754 49.299 -26.754 51.239 C -26.754 53.179 -26.284 54.999 -25.464 56.619 L -21.484 53.529 Z"}),v.jsx("path",{fill:"#EA4335",d:"M -14.754 43.989 C -12.984 43.989 -11.404 44.599 -10.154 45.789 L -6.734 42.369 C -8.804 40.429 -11.514 39.239 -14.754 39.239 C -19.444 39.239 -23.494 41.939 -25.464 45.859 L -21.484 48.949 C -20.534 46.099 -17.884 43.989 -14.754 43.989 Z"})]})}),"Sign in with Google"]})})]}),v.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",v.jsx(Qt,{to:"/register",className:"font-medium text-accent hover:text-accent-dark",children:"create a new account"})]})]})})},ZP=()=>{const[r,e]=$.useState(""),[t,s]=$.useState(""),[o,u]=$.useState(""),[d,m]=$.useState(""),[p,g]=$.useState(""),[E,S]=$.useState(!1),[x,M]=$.useState(!1),D=il(),K=async H=>{if(H.preventDefault(),g(""),o!==d)return g("Passwords do not match");if(o.length<6)return g("Password must be at least 6 characters long");S(!0);try{const re=await EC(ui,t,o);await wC(re.user,{displayName:r}),D("/")}catch(re){console.error("Registration error:",re),re.code==="auth/email-already-in-use"?g("An account with this email already exists. Please use a different email or sign in."):re.code==="auth/invalid-email"?g("Please enter a valid email address."):re.code==="auth/weak-password"?g("Password is too weak. Please use a stronger password."):re.code==="auth/operation-not-allowed"?g("This sign up method is not allowed. Please contact support."):re.code==="auth/network-request-failed"?g("Network error. Please check your internet connection and try again."):g("An error occurred during registration. Please try again later.")}finally{S(!1)}},k=async()=>{g(""),M(!0);try{const H=new ii,re=await ub(ui,H);re.user.email==="admin@shreenda.com"||re.user.email==="gauravshidling@gmail.com"?D("/dashboard"):D("/")}catch(H){console.error("Google sign in error:",H),H.code==="auth/popup-closed-by-user"?g("Sign in was cancelled. Please try again."):H.code==="auth/popup-blocked"?g("Sign in popup was blocked by your browser. Please enable popups for this site."):H.code==="auth/account-exists-with-different-credential"?g("An account already exists with the same email address but different sign-in credentials."):g("An error occurred during Google sign in. Please try again later.")}finally{M(!1)}};return v.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:v.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-white rounded-lg shadow-md",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Shreenda Architects"}),v.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Create an account"})]}),p&&v.jsxs("div",{className:"p-4 mb-4 text-sm text-red-700 bg-red-100 rounded-lg flex items-start",role:"alert",children:[v.jsx("svg",{className:"w-5 h-5 mr-2 text-red-600 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:v.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zm-1 9a1 1 0 01-1-1v-4a1 1 0 112 0v4a1 1 0 01-1 1z",clipRule:"evenodd"})}),v.jsx("span",{children:p})]}),v.jsxs("form",{className:"mt-8 space-y-6",onSubmit:K,children:[v.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"name",className:"sr-only",children:"Full Name"}),v.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-accent focus:border-accent focus:z-10 sm:text-sm",placeholder:"Full Name",value:r,onChange:H=>e(H.target.value)})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),v.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-accent focus:border-accent focus:z-10 sm:text-sm",placeholder:"Email address",value:t,onChange:H=>s(H.target.value)})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),v.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-accent focus:border-accent focus:z-10 sm:text-sm",placeholder:"Password",value:o,onChange:H=>u(H.target.value)})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"confirm-password",className:"sr-only",children:"Confirm Password"}),v.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-accent focus:border-accent focus:z-10 sm:text-sm",placeholder:"Confirm Password",value:d,onChange:H=>m(H.target.value)})]})]}),v.jsx("div",{children:v.jsx("button",{type:"submit",disabled:E,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent",children:E?"Creating account...":"Create account"})})]}),v.jsxs("div",{className:"mt-6",children:[v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"absolute inset-0 flex items-center",children:v.jsx("div",{className:"w-full border-t border-gray-300"})}),v.jsx("div",{className:"relative flex justify-center text-sm",children:v.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),v.jsx("div",{className:"mt-6",children:v.jsxs("button",{onClick:k,disabled:x,className:"w-full flex items-center justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent",children:[v.jsx("svg",{className:"h-5 w-5 mr-2",viewBox:"0 0 24 24",width:"24",height:"24",children:v.jsxs("g",{transform:"matrix(1, 0, 0, 1, 27.009001, -39.238998)",children:[v.jsx("path",{fill:"#4285F4",d:"M -3.264 51.509 C -3.264 50.719 -3.334 49.969 -3.454 49.239 L -14.754 49.239 L -14.754 53.749 L -8.284 53.749 C -8.574 55.229 -9.424 56.479 -10.684 57.329 L -10.684 60.329 L -6.824 60.329 C -4.564 58.239 -3.264 55.159 -3.264 51.509 Z"}),v.jsx("path",{fill:"#34A853",d:"M -14.754 63.239 C -11.514 63.239 -8.804 62.159 -6.824 60.329 L -10.684 57.329 C -11.764 58.049 -13.134 58.489 -14.754 58.489 C -17.884 58.489 -20.534 56.379 -21.484 53.529 L -25.464 53.529 L -25.464 56.619 C -23.494 60.539 -19.444 63.239 -14.754 63.239 Z"}),v.jsx("path",{fill:"#FBBC05",d:"M -21.484 53.529 C -21.734 52.809 -21.864 52.039 -21.864 51.239 C -21.864 50.439 -21.724 49.669 -21.484 48.949 L -21.484 45.859 L -25.464 45.859 C -26.284 47.479 -26.754 49.299 -26.754 51.239 C -26.754 53.179 -26.284 54.999 -25.464 56.619 L -21.484 53.529 Z"}),v.jsx("path",{fill:"#EA4335",d:"M -14.754 43.989 C -12.984 43.989 -11.404 44.599 -10.154 45.789 L -6.734 42.369 C -8.804 40.429 -11.514 39.239 -14.754 39.239 C -19.444 39.239 -23.494 41.939 -25.464 45.859 L -21.484 48.949 C -20.534 46.099 -17.884 43.989 -14.754 43.989 Z"})]})}),x?"Signing in with Google...":"Sign in with Google"]})})]}),v.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Already have an account?"," ",v.jsx(Qt,{to:"/login",className:"font-medium text-accent hover:text-accent-dark",children:"Sign in"})]})]})})};function eV(){const{projects:r,loading:e,error:t,addProject:s,updateProject:o,deleteProject:u}=Td(),{currentUser:d}=dl(),m=il(),[p,g]=$.useState(!1),[E,S]=$.useState(null),[x,M]=$.useState(!1),[D,K]=$.useState(!1),[k,H]=$.useState({title:"",description:"",imageUrls:[],category:"",location:"",year:""}),re=[...new Set(r.map(C=>C.category))],se=r.reduce((C,ve)=>{const Oe=ve.category||"Uncategorized";return C[Oe]||(C[Oe]=[]),C[Oe].push(ve),C},{}),ye=Object.keys(se).sort(),he=C=>{const{name:ve,value:Oe}=C.target;ve==="category"?Oe==="new"?(K(!0),H(J=>({...J,category:""}))):(K(!1),H(J=>({...J,[ve]:Oe}))):H(J=>({...J,[ve]:Oe}))},Ae=C=>{const ve=C.target.value;H(Oe=>({...Oe,category:ve}))},V=()=>{K(!1),H(C=>({...C,category:""}))},R=async C=>{const ve=Array.from(C.target.files);if(!ve.length)return;if(ve.reduce((le,ge)=>le+ge.size,0)>20*1024*1024){alert("Total size of all images should be less than 20MB");return}M(!0);const J=[];try{for(const le of ve){const ge=new FormData;ge.append("file",le),ge.append("upload_preset",FP);const ze=await fetch("https://api.cloudinary.com/v1_1/dk680gcwh/image/upload",{method:"POST",body:ge});if(!ze.ok)throw new Error("Upload failed");const N=await ze.json();N.secure_url&&J.push(N.secure_url)}H(le=>({...le,imageUrls:[...le.imageUrls,...J]}))}catch(le){console.error("Error uploading images:",le),alert("Error uploading images. Please try again.")}finally{M(!1)}},I=C=>{H(ve=>({...ve,imageUrls:ve.imageUrls.filter((Oe,J)=>J!==C)}))},P=async C=>{if(C.preventDefault(),!d){alert("Please sign in to add projects"),m("/login");return}if(!k.title||!k.description||k.imageUrls.length===0||!k.category||!k.location||!k.year){alert("Please fill in all fields and upload at least one image");return}try{const ve={title:k.title,description:k.description,imageUrls:k.imageUrls,category:k.category,location:k.location,year:k.year,userId:d.uid};E?(await o(E.id,ve),alert("Project updated successfully!")):(await s(ve),alert("Project added successfully!")),L()}catch(ve){console.error("Error saving project:",ve),alert(`Failed to save project: ${ve.message}`)}},L=()=>{H({title:"",description:"",imageUrls:[],category:"",location:"",year:""}),g(!1),S(null),K(!1)},U=C=>{S(C),H(C),g(!0)};return e?v.jsx("div",{className:"text-center",children:"Loading..."}):t?v.jsxs("div",{className:"text-red-500",children:["Error: ",t]}):v.jsxs("div",{className:"p-6",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsx("h2",{className:"text-2xl font-bold",children:"Manage Projects"}),v.jsx("button",{onClick:()=>g(!0),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Add New Project"})]}),p&&v.jsxs("div",{className:"mb-8 p-6 bg-white rounded-lg shadow",children:[v.jsx("h3",{className:"text-xl font-semibold mb-4",children:E?"Edit Project":"Add New Project"}),v.jsxs("form",{onSubmit:P,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),v.jsx("input",{type:"text",name:"title",value:k.title,onChange:he,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),v.jsx("textarea",{name:"description",value:k.description,onChange:he,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:"3",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category"}),D?v.jsxs("div",{className:"space-y-2",children:[v.jsx("input",{type:"text",value:k.category,onChange:Ae,placeholder:"Enter new category",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0}),v.jsx("button",{type:"button",onClick:V,className:"text-sm text-gray-500 hover:text-gray-700",children:"← Back to categories"})]}):v.jsxs("select",{name:"category",value:k.category,onChange:he,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0,children:[v.jsx("option",{value:"",children:"Select a category"}),re.map(C=>v.jsx("option",{value:C,children:C},C)),v.jsx("option",{value:"new",children:"+ Add New Category"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Location"}),v.jsx("input",{type:"text",name:"location",value:k.location,onChange:he,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Year"}),v.jsx("input",{type:"text",name:"year",value:k.year,onChange:he,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Images"}),v.jsx("input",{type:"file",accept:"image/*",onChange:R,disabled:x,multiple:!0,className:`mt-1 block w-full text-sm text-gray-500
                  file:mr-4 file:py-2 file:px-4
                  file:rounded-md file:border-0
                  file:text-sm file:font-semibold
                  file:bg-blue-50 file:text-blue-700
                  hover:file:bg-blue-100
                  disabled:opacity-50 disabled:cursor-not-allowed`}),x&&v.jsx("div",{className:"mt-2 text-sm text-blue-600",children:"Uploading images..."}),v.jsx("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-3 gap-4",children:k.imageUrls.map((C,ve)=>v.jsxs("div",{className:"relative",children:[v.jsx("img",{src:C,alt:`Preview ${ve+1}`,className:"h-32 w-full object-cover rounded-md"}),v.jsx("button",{type:"button",onClick:()=>I(ve),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:"×"})]},ve))})]}),v.jsxs("div",{className:"flex justify-end space-x-4",children:[v.jsx("button",{type:"button",onClick:L,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),v.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700",children:E?"Update Project":"Add Project"})]})]})]}),v.jsx("div",{className:"space-y-8",children:ye.map(C=>v.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[v.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b",children:v.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:C})}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-6",children:se[C].map(ve=>{const Oe=Array.isArray(ve.imageUrls)?ve.imageUrls:[ve.imageUrl].filter(Boolean);return v.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[Oe&&Oe.length>0?v.jsx("div",{className:"h-48 overflow-hidden",children:v.jsx(zo,{cldImg:Bo.image(Oe[0].split("/").pop().split(".")[0]),className:"w-full h-full object-cover",alt:ve.title,onError:J=>{console.error("Error loading image:",Oe[0]),J.target.src="https://via.placeholder.com/400x300?text=Image+Not+Available"}})}):v.jsx("div",{className:"h-48 bg-gray-100 flex items-center justify-center",children:v.jsx("span",{className:"text-gray-400",children:"No image available"})}),v.jsxs("div",{className:"p-4",children:[v.jsx("h3",{className:"text-lg font-semibold",children:ve.title}),v.jsx("p",{className:"text-gray-600 mt-2",children:ve.description}),v.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[v.jsxs("div",{className:"text-sm text-gray-500",children:[ve.location," • ",ve.year]}),v.jsxs("div",{className:"flex space-x-2",children:[v.jsx("button",{onClick:()=>U(ve),className:"text-blue-500 hover:text-blue-700",children:"Edit"}),v.jsx("button",{onClick:()=>u(ve.id),className:"text-red-500 hover:text-red-700",children:"Delete"})]})]})]})]},ve.id)})})]},C))})]})}function tV(){const{currentUser:r}=dl();return r?v.jsx("div",{className:"min-h-screen bg-gray-100",children:v.jsx("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"px-4 py-6 sm:px-0",children:[v.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Dashboard"}),v.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:v.jsx(eV,{})})]})})}):v.jsx("div",{className:"text-center p-4",children:"Please log in to access the dashboard."})}const nV=()=>v.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100",children:[v.jsx("h1",{className:"text-6xl font-bold text-gray-800",children:"404"}),v.jsx("p",{className:"text-2xl text-gray-600 mt-4",children:"Page Not Found"}),v.jsx("a",{href:"/",className:"mt-8 px-4 py-2 bg-primary text-white rounded hover:bg-primary-dark",children:"Return Home"})]}),rV=()=>v.jsx("footer",{className:"bg-gray-900 text-white",children:v.jsxs("div",{className:"container-custom py-12",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[v.jsx("div",{className:"col-span-1 md:col-span-1",children:v.jsxs("div",{className:"flex items-center",children:[v.jsx("img",{src:Ww,alt:"Shreenda Architects Logo",className:"h-10 w-auto"}),v.jsxs("div",{className:"ml-3",children:[v.jsx("h2",{className:"text-lg font-bold text-white",children:"Shreenda Architects"}),v.jsx("p",{className:"text-gray-300 text-sm",children:"Transforming Spaces. Creating Experiences."})]})]})}),v.jsxs("div",{className:"col-span-1",children:[v.jsx("h4",{className:"text-lg font-bold mb-4",children:"Quick Links"}),v.jsxs("ul",{className:"space-y-2",children:[v.jsx("li",{children:v.jsx(Qt,{to:"/",className:"text-gray-400 hover:text-white transition duration-300",children:"Home"})}),v.jsx("li",{children:v.jsx(Qt,{to:"/about",className:"text-gray-400 hover:text-white transition duration-300",children:"About Us"})}),v.jsx("li",{children:v.jsx(Qt,{to:"/projects",className:"text-gray-400 hover:text-white transition duration-300",children:"Projects"})}),v.jsx("li",{children:v.jsx(Qt,{to:"/contact",className:"text-gray-400 hover:text-white transition duration-300",children:"Contact Us"})})]})]}),v.jsxs("div",{className:"col-span-1",children:[v.jsx("h4",{className:"text-lg font-bold mb-4",children:"Services"}),v.jsxs("ul",{className:"space-y-2",children:[v.jsx("li",{className:"text-gray-400",children:"Architectural Design"}),v.jsx("li",{className:"text-gray-400",children:"Interior Design"}),v.jsx("li",{className:"text-gray-400",children:"Urban Planning"}),v.jsx("li",{className:"text-gray-400",children:"Landscape Architecture"}),v.jsx("li",{className:"text-gray-400",children:"Sustainable Design"})]})]}),v.jsxs("div",{className:"col-span-1",children:[v.jsx("h4",{className:"text-lg font-bold mb-4",children:"Contact Us"}),v.jsxs("address",{className:"not-italic text-gray-400",children:[v.jsx("p",{className:"mb-2",children:"First floor, Bhagyalakshmi Complex,"}),v.jsx("p",{className:"mb-2",children:"Opposite Ramesh Bhavan, Hemanth Nagar,"}),v.jsx("p",{className:"mb-2",children:"Bengeri Extension, Keshwapur,"}),v.jsx("p",{className:"mb-2",children:"Hubballi, Karnataka 580023"}),v.jsx("p",{className:"mb-2",children:"shreendaarchitects@gmail.com"})]})]})]}),v.jsx("div",{className:"border-t border-gray-800 mt-8 pt-6 text-center text-gray-500 text-sm",children:v.jsxs("p",{children:["© ",new Date().getFullYear()," Shreenda Architects. All rights reserved. Est. 2017"]})})]})}),iV=({children:r})=>{const{currentUser:e}=dl();return e?r:v.jsx(fT,{to:"/login"})},rT=({children:r})=>{const{currentUser:e}=dl();return e?v.jsx(fT,{to:"/"}):r};function sV(){return v.jsx(aD,{children:v.jsx(oD,{children:v.jsx(Dx,{children:v.jsxs("div",{className:"flex flex-col min-h-screen",children:[v.jsx(lD,{}),v.jsx("main",{className:"flex-grow",children:v.jsxs(lx,{children:[v.jsx(ni,{path:"/",element:v.jsx($P,{})}),v.jsx(ni,{path:"/about",element:v.jsx(QP,{})}),v.jsx(ni,{path:"/projects",element:v.jsx(KP,{})}),v.jsx(ni,{path:"/projects/:id",element:v.jsx(YP,{})}),v.jsx(ni,{path:"/contact",element:v.jsx(WP,{})}),v.jsx(ni,{path:"/dashboard",element:v.jsx(iV,{children:v.jsx(tV,{})})}),v.jsx(ni,{path:"/login",element:v.jsx(rT,{children:v.jsx(JP,{})})}),v.jsx(ni,{path:"/register",element:v.jsx(rT,{children:v.jsx(ZP,{})})}),v.jsx(ni,{path:"*",element:v.jsx(nV,{})})]})}),v.jsx(rV,{})]})})})})}yS.createRoot(document.getElementById("root")).render(v.jsx($.StrictMode,{children:v.jsx(sV,{})}));
